# ARA003D 螢幕規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | ARA003D |
| 檔案類型 | 螢幕格式檔 (DSPF) |
| 檔案描述 | 稅率資料維護 |
| 系統名稱 | 應收帳款系統 |
| 子系統 | 應收帳款子系統 |
| 程式名稱 | ARA003 |
| 作業系統 | AS/400 |
| 建立日期 | 1980/11/21 |
| 作者 | A1005 ROGER CHIEN |
| 參考檔案 | RERF |

## 2. 螢幕規格

| 項目 | 規格 |
|------|------|
| 螢幕大小 | 24×80 |
| 顯示裝置 | DSPSIZ(24 80 *DS3) |
| 訊息位置 | 第24列 |
| 列印支援 | 支援 (PRINT) |
| 參考檔案 | RERF |
| 子檔案 | 無 |

## 3. 螢幕布局

### 主畫面 (DSPC1)
```
第1列： ARA003                    [系統訊息]                   日期:
第2列： SCR001            稅率資料設定                      時間:
第3列：                                                  USER:


第10列：                        稅率: [___._]%

第22列： 操作
第22列：         F3 =回到前頁

第24列：                                          [使用者訊息]
```

## 4. 紀錄格式

### 主畫面記錄格式：DSPC1

| 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 說明 |
|----------|------|------|------|------|------|
| DDA02 | 10,33+ | 4,1 | B | 輸入 | 稅率 (小數點一位) |

### 系統欄位

| 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 說明 |
|----------|------|------|------|------|------|
| $EGMDY | 1,70 | 6Y,0 | O | 輸出 | 系統日期 |
| $USER | 3,70 | 10A | O | 輸出 | 使用者代號 |
| TIME | 2,70 | - | O | 輸出 | 系統時間 |

## 5. 明細畫面

此螢幕為單一稅率設定畫面，無複雜的明細畫面設計。主要功能為設定和維護稅率資料。

## 6. 功能鍵說明

| 功能鍵 | 說明 |
|--------|------|
| F3 | 回到前頁 |
| CF03 | 取消作業 |

## 7. 輸入欄位驗證

### DDA02 欄位驗證 (稅率)
- **欄位格式**: 4,1 (4位整數，1位小數)
- **編輯碼**: EDTCDE(3) - 小數點格式
- **檢查規則**: CHECK(RB) - 必須為數值
- **顯示格式**: 稅率後加 '%' 符號
- **有效範圍**: 0.0% 至 99.9%

### 輸入規則
- 稅率必須為正數
- 最多支援一位小數
- 輸入時可省略小數點，系統自動格式化
- 必須通過數值檢查

## 8. 錯誤處理

### 系統訊息
- **標題訊息**: MSGCON(30 URE9999 *LIBL/REMF)
- **底部訊息**: MSGCON(14 UPT9999 *LIBL/PTMF)
- **顯示屬性**: 高亮度顯示 (HI)

### 錯誤類型
- 數值格式錯誤
- 稅率範圍錯誤
- 系統作業錯誤

### 錯誤顯示
- **位置**: 第24列
- **屬性**: 高亮度顯示 (HI)
- **訊息庫**: PTMF, REMF

## 9. 使用說明

### 操作流程
1. 進入稅率資料維護畫面
2. 在稅率欄位輸入稅率值
3. 按 Enter 確認設定
4. 按 F3 回到前頁

### 稅率設定
- **輸入格式**: 可輸入整數或小數
- **顯示格式**: 自動格式化為 XX.X% 格式
- **有效範圍**: 0.0% 到 99.9%
- **預設值**: 系統依據法規設定

### 使用注意事項
- 稅率更改會影響後續所有發票計算
- 建議在非營業時間進行稅率調整
- 稅率變更前請確認相關法規要求
- 系統會自動檢查輸入格式的有效性

### 業務規則
- 稅率變更立即生效
- 歷史資料不受影響
- 新開立的發票使用新稅率
- 稅率設定需要適當的使用者權限

### 相關法規
- 依據營業稅法相關規定
- 稅率調整需配合政府公告
- 系統支援多種稅率類型設定

### 相關程式
- **主程式**: ARA003
- **系統**: 應收帳款系統
- **功能**: 稅率參數設定與維護 