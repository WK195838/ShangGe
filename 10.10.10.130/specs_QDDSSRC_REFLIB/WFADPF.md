# WFADPF 檔案規格書

## 1. 基本資料

| 欄位 | 內容 |
|------|------|
| 檔案名稱 | WFADPF |
| 檔案描述 | 收款明細檔 |
| 檔案類型 | 實體檔案 (PF) |
| 記錄格式 | WFAD |
| 關鍵字 | AD01+AD02+AD03+AD04+AD05+AD06+AD07+AD10+AD12 |
| 作業系統 | AS/400 |
| 資料庫 | DB2/400 |
| 存取方式 | 索引存取 |

## 2. 檔案功能說明

WFADPF收款明細檔記錄客戶收款的詳細資料，支援多維度的收款管理功能。本檔案整合期數編號、客戶別碼、供應商別碼、收款日期、收款種類、收款統編、發票統編等完整資訊，為收款作業提供精確的明細記錄與查詢功能。

## 3. 系統檔案清單

| 相關檔案 | 檔案名稱 | 說明 |
|----------|----------|------|
| 收款檔 | WFADPF | 收款明細檔 |
| 參考檔 | ARADPF | 原收款明細檔 |
| 參考檔 | RERF | 參考欄位檔 |

## 4. 紀錄格式

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|------|----------|
| AD01 | 期數編號 | 1-2 | 2 | 文字 | 主鍵1 | 期數編號 |
| AD02 | 客戶別碼 | 3-5 | 3 | 文字 | 主鍵2 | 客戶別碼 |
| AD03 | 供應商別碼 | 6-17 | 12 | 文字 | 主鍵3 | 供應商別碼 |
| AD04 | 收款日期 | 18-25 | 8,0 | 數值 | 主鍵4 | 收款日期 |
| AD05 | 收款種類 | 26-26 | 1 | 文字 | 主鍵5 | 收款種類代碼 |
| AD06 | 收款統編 | 27-38 | 12 | 文字 | 主鍵6 | 收款統一編號 |
| AD07 | 發票統編 | 39-52 | 14 | 文字 | 主鍵7 | 發票統一編號 |
| AD10 | 發票金額 | 53-58 | 6,0 | 數值 | 主鍵8 | 發票金額 |
| AD12 | 收帳日期 | 59-66 | 8,0 | 數值 | 主鍵9 | 收帳日期 |

## 5. 主鍵欄位

- **主鍵**：AD01+AD02+AD03+AD04+AD05+AD06+AD07+AD10+AD12 (九重複合主鍵)
- **索引類型**：UNIQUE
- **排序方式**：遞增排序

## 6. 索引資料

| 索引名稱 | 索引欄位 | 索引類型 | 說明 |
|----------|----------|----------|------|
| PRIMARY | AD01+AD02+AD03+AD04+AD05+AD06+AD07+AD10+AD12 | UNIQUE | 主索引，收款明細複合鍵 |

## 7. 使用說明

1. **收款明細管理**：記錄收款業務的完整明細資料
2. **多維度查詢**：支援按期數、客戶、供應商、日期等多維度查詢
3. **收款追蹤**：提供收款統編與發票統編的完整追蹤
4. **金額控制**：精確記錄發票金額與收款金額
5. **日期管理**：區分收款日期與收帳日期的不同時點

## 8. 備註

- 使用UNIQUE屬性確保收款明細的唯一性
- 九重複合主鍵設計提供極精確的資料識別
- 參考RERF檔案進行欄位定義標準化
- AD04與AD12分別記錄收款日期與收帳日期
- 支援收款種類的分類管理
- 整合客戶與供應商的雙重管理維度
- 為應收帳款管理提供詳細的收款軌跡記錄 