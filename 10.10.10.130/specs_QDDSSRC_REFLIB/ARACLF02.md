# ARACLF02 檔案規格書

## 1. 基本資料
- 檔名: ARACLF02
- 類型: LF (Logical File)
- 說明: 收款主檔  key=ac02----ac06
- 基礎實體檔: ARACPF
- 建立日期: (待補)
- 最後修改日期: (待補)
- 參考檔: RERF

## 2. 檔案功能說明
此邏輯檔案為收款主檔(ARACPF)的次要存取路徑，提供以下功能：
- 依客戶代號、單據代號、收款日期、收款類別、收款單號進行索引存取
- 提供以客戶為主的收款資料查詢路徑
- 支援客戶收款明細查詢與統計作業
- 提供與主檔 ARACLF 不同的排序方式
- 用於客戶收款管理與分析作業
- 支援應收帳款系統的客戶收款查詢功能
- 提供客戶收款歷史記錄的快速存取

## 3. 系統檔案清單
- 基礎實體檔: ARACPF (收款主檔)
- 相關邏輯檔: 
  - ARACLF (KEY=AC01+AC02+AC03+AC04+AC05+AC06) - 主要存取路徑
  - ARACLF01 (KEY=AC01A+AC01+AC07) - 公司別分類存取
  - ARACLF03 至 ARACLF12 (其他索引邏輯檔)
  - ARACLF121, ARACLF2 (特殊用途邏輯檔)
- 參考檔: RERF (系統參考檔)

## 4. 紀錄格式
基於 ARACPF 實體檔的邏輯視圖，使用 PFILE(ARACPF) 存取路徑，包含所有原始欄位，依客戶代號等欄位重新排序。

## 5. 欄位代號、名稱、位置、長度、屬性、檢核說明
| 欄位代號 | 名稱 | 位置 | 長度 | 屬性 | 檢核說明 |
|----------|------|------|------|------|----------|
| AC01 | 公司別 | 1-2 | 2A | 文字 | 參考 #B01，必填，公司代碼 |
| AC02 | 客戶代號 | 3-16 | 14A | 文字 | 參考 #B14，必填，客戶識別碼 |
| AC03 | 單據代號 | 17-26 | 10A | 文字 | 參考 #B15，必填，單據識別碼 |
| AC04 | 收款日期 | 27-34 | 8S0 | 日期 | 參考 #AXX，必填，收款日期 |
| AC05 | 收款類別 | 35-36 | 2A | 文字 | 收款類別代碼，必填 |
| AC06 | 收款單號 | 37-50 | 14A | 文字 | 收款單號，必填，唯一識別 |
| AC07 | 預計兌現日期 | 51-58 | 8S0 | 日期 | 參考 #AXX，預計兌現日期，含編輯碼 |
| AC08 | 收款金額 | 59-67 | 9P0 | 數值 | 收款金額，以分為單位 |
| AC09 | 幣別 | 68-77 | 10A | 文字 | 參考 MC01，幣別代碼 |
| AC10 | 匯率金額 | 78-86 | 9P0 | 數值 | 匯率換算後金額 |
| AC11 | 收款兌現日期 | 87-94 | 8S0 | 日期 | 參考 #AXX，實際兌現日期 |
| AC12 | 入帳帳號 | 95-108 | 14A | 文字 | 參考 AB02，銀行帳號 |
| AC13 | 沖帳狀態 | 109 | 1A | 文字 | 沖帳狀態標記，保留欄位 |
| AC14 | 來源 | 110-111 | 2A | 文字 | CK=支票，RE=匯款等 |
| ACXX | 異動日期 | 112-119 | 8S0 | 日期 | 參考 #AXX，最後異動日期 |
| ACYY | 異動時間 | 120-125 | 6S0 | 時間 | 參考 #AYY，最後異動時間 |
| ACZZ | 異動者 | 126-135 | 10A | 文字 | 參考 #AZZ，最後異動人員 |

## 6. 主鍵欄位
- 主鍵: AC02 + AC03 + AC04 + AC05 + AC06
  - AC02: 客戶代號
  - AC03: 單據代號
  - AC04: 收款日期
  - AC05: 收款類別
  - AC06: 收款單號

## 7. 索引資料
- 主要索引: AC02 + AC03 + AC04 + AC05 + AC06 (依客戶代號、單據代號、收款日期、收款類別、收款單號)
- 存取路徑: PFILE(ARACPF)
- 索引類型: 非唯一索引
- 排序特性: 
  - 第一層: 客戶代號 (AC02)
  - 第二層: 單據代號 (AC03)
  - 第三層: 收款日期 (AC04)
  - 第四層: 收款類別 (AC05)
  - 第五層: 收款單號 (AC06)
- 索引用途:
  - 支援客戶收款查詢
  - 提供客戶收款明細排序
  - 客戶收款統計分析

## 8. 備註
- 此邏輯檔案提供以客戶為主的收款存取路徑
- 與主檔 ARACLF 的差異在於排序順序，優先以客戶代號排序
- 適用於客戶收款查詢、客戶收款明細報表等作業
- 支援應收帳款管理系統的客戶收款相關功能
- 提供收款資料的客戶導向存取方式
- 基於相同的實體檔案，確保資料一致性
- 用於客戶收款歷史查詢與分析
- 支援客戶收款統計與報表作業
- 與客戶主檔配合使用，提供完整的客戶收款資訊
- 需配合客戶權限控制，確保資料安全性 