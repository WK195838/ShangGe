# ARADPF 檔案規格書

## 1. 基本資料
- 檔名: ARADPF
- 類型: PF (Physical File)
- 說明: 收款明細檔
- 主鍵: AD01+AD02+AD03+AD04+AD05+AD06+AD07+AD10+AD12
- 建立日期: (待補)
- 最後修改日期: (待補)
- 參考檔: RERF
- 索引約束: UNIQUE

## 2. 檔案功能說明
此實體檔案為收款明細檔，提供以下功能：
- 記錄收款與發票的對應明細資料
- 儲存收款沖銷的詳細資訊
- 支援收款明細的完整生命週期管理
- 提供收款與發票的對帳基礎資料
- 記錄收款明細的沖銷金額與狀態
- 支援應收帳款管理系統的收款明細處理
- 提供收款明細資料的主要儲存結構
- 記錄發票與收款的對應關係
- 支援收款明細的查詢與報表作業

## 3. 系統檔案清單
- 主要實體檔: ARADPF (收款明細檔)
- 相關邏輯檔: 
  - ARADLF01 至 ARADLF09 (各種索引邏輯檔)
- 參考檔: RERF (系統參考檔)
- 相關主檔: ARACPF (收款主檔)

## 4. 紀錄格式
實體檔案記錄格式，包含完整的收款明細資料欄位，支援 UNIQUE 約束確保資料唯一性。

## 5. 欄位代號、名稱、位置、長度、屬性、檢核說明
| 欄位代號 | 名稱 | 位置 | 長度 | 屬性 | 檢核說明 |
|----------|------|------|------|------|----------|
| AD01 | 公司別 | 1-2 | 2A | 文字 | 參考 #B01，必填，公司代碼 |
| AD02 | 客戶代號 | 3-16 | 14A | 文字 | 參考 #B14，必填，客戶識別碼 |
| AD03 | 單據代號 | 17-26 | 10A | 文字 | 參考 #B15，必填，單據識別碼 |
| AD04 | 收款日期 | 27-34 | 8S0 | 日期 | 參考 #AXX，必填，收款日期 |
| AD05 | 收款類別 | 35-36 | 2A | 文字 | 參考 AC05，收款類別代碼 |
| AD06 | 收款單號 | 37-50 | 14A | 文字 | 參考 AC06，收款單號 |
| AD07 | 發票號碼 | 51-58 | 8A | 文字 | 參考 SI02，發票號碼 |
| AD08 | 沖銷金額 | 59-67 | 9P0 | 數值 | 沖銷金額，以分為單位 |
| AD09 | 沖帳狀態 | 68 | 1A | 文字 | 沖帳狀態標記，保留欄位 |
| AD10 | 發票公司別 | 69-70 | 2A | 文字 | 參考 #B01，發票所屬公司別 |
| AD11 | 發票日期 | 71-78 | 8S0 | 日期 | 參考 #AXX，發票開立日期 |
| AD12 | 價差日期 | 79-86 | 8S0 | 日期 | 參考 #AXX，價差處理日期 |
| ADXX | 異動日期 | 87-94 | 8S0 | 日期 | 參考 #AXX，最後異動日期 |
| ADYY | 異動時間 | 95-100 | 6S0 | 時間 | 參考 #AYY，最後異動時間 |
| ADZZ | 異動者 | 101-110 | 10A | 文字 | 參考 #AZZ，最後異動人員 |

## 6. 主鍵欄位
- 主鍵: AD01 + AD02 + AD03 + AD04 + AD05 + AD06 + AD07 + AD10 + AD12
  - AD01: 公司別
  - AD02: 客戶代號
  - AD03: 單據代號
  - AD04: 收款日期
  - AD05: 收款類別
  - AD06: 收款單號
  - AD07: 發票號碼
  - AD10: 發票公司別
  - AD12: 價差日期
- 約束類型: UNIQUE (唯一約束)

## 7. 索引資料
- 主要索引: AD01 + AD02 + AD03 + AD04 + AD05 + AD06 + AD07 + AD10 + AD12
- 索引類型: 唯一索引 (UNIQUE)
- 排序特性: 
  - 第一層: 公司別 (AD01)
  - 第二層: 客戶代號 (AD02)
  - 第三層: 單據代號 (AD03)
  - 第四層: 收款日期 (AD04)
  - 第五層: 收款類別 (AD05)
  - 第六層: 收款單號 (AD06)
  - 第七層: 發票號碼 (AD07)
  - 第八層: 發票公司別 (AD10)
  - 第九層: 價差日期 (AD12)

## 8. 備註
- 此實體檔案為收款明細的主要儲存結構
- 使用 UNIQUE 約束確保收款明細記錄的唯一性
- 支援收款與發票的對應關係管理
- 記錄收款明細的完整資訊，包含沖銷金額與狀態
- 與收款主檔(ARACPF)密切相關，提供明細層級的資料
- 支援應收帳款管理系統的收款明細處理
- 提供多個邏輯檔案的基礎資料來源
- 記錄發票與收款的對帳資訊
- 支援收款明細的查詢、報表與統計分析
- 包含完整的異動追蹤欄位(日期、時間、異動者)
- 用於收款與發票的對帳作業
- 支援價差處理的相關作業 