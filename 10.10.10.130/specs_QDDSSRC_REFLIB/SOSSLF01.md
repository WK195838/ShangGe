# SOSSLF01 - 人工發票重開控制檔邏輯檔規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | SOSSLF01 |
| 檔案類型 | LF (邏輯檔) |
| 檔案說明 | 人工發票重開控制檔 |
| 主鍵 | SS01+SS21+SS08+SS02 |
| 基底檔案 | SOSSPF |

## 2. 檔案功能說明

SOSSLF01邏輯檔案提供人工發票重開控制檔的特定排序存取，主要功能包括：

- 依序列記號排序查詢
- 按發票日期降序顯示（最新在前）
- 按商品代號分類存取
- 按發票號碼排序查詢
- 支援發票重開控制作業

## 3. 系統檔案清單

- **SOSSLF01**：人工發票重開控制檔邏輯檔（本檔）
- **SOSSPF**：人工發票重開控制檔實體檔（基底檔案）

## 4. 紀錄格式

### SS0記錄格式

本邏輯檔使用SOSSPF實體檔的記錄格式，包含：

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|------|----------|
| SS01 | 序列記號 | | | | | 原發票序列記號 |
| SS21 | 發票日期 | | | | DESCEND | 發票日期（降序） |
| SS08 | 商品代號 | | | | | 商品分類代號 |
| SS02 | 發票號碼 | | | | | 發票編號 |

## 5. 主鍵欄位

邏輯檔排序鍵值：
- **SS01** (序列記號)
- **SS21** (發票日期) - DESCEND
- **SS08** (商品代號)
- **SS02** (發票號碼)

## 6. 索引資料

排序結構：SS01+SS21+SS08+SS02
- 第一層：按序列記號排序
- 第二層：按發票日期降序（最新在前）
- 第三層：按商品代號排序
- 第四層：按發票號碼排序

## 7. 使用說明

1. 檔案用於發票重開控制作業
2. 依發票日期降序顯示最新記錄
3. 支援按序列記號快速定位
4. 提供商品分類查詢功能
5. 配合發票號碼精確查詢

## 8. 備註

- 邏輯檔基於SOSSPF實體檔
- 發票日期使用降序排列
- 主要用於發票重開控制流程
- 支援多層次排序查詢 