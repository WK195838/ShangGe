# POPELF01 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | POPELF01 |
| 檔案類型 | 邏輯檔案 (LF) |
| 檔案用途 | 國外採購驗收明細檔邏輯檔 |
| 作業系統 | AS/400 |
| 建立日期 | - |
| 最後修改日期 | - |

## 2. 檔案功能說明

POPELF01 為國外採購驗收明細檔 (POPEPF) 的複合索引邏輯檔案，提供透過特定鍵值組合 PE03+PE04+PE02 存取實體檔資料的路徑。此邏輯檔案以採購單編號為主要排序條件，再依產品代碼及驗收單編號排序，適用於以採購單為主軸的國外採購驗收明細查詢需求。

## 3. 系統檔案清單

- **實體檔案**: POPEPF (國外採購驗收明細檔)
- **邏輯檔案**: POPELF01 (本檔案)

## 4. 記錄格式

### 記錄格式 PE0
- **記錄識別**: PE0
- **檔案參照**: POPEPF
- **記錄類型**: 邏輯檔記錄格式

## 5. 欄位規格

POPELF01 邏輯檔案使用 POPEPF 實體檔案的所有欄位，詳細欄位規格請參考 POPEPF 實體檔案規格書。

## 6. 主鍵欄位

| 順序 | 欄位代號 | 欄位名稱 | 說明 |
|------|----------|----------|------|
| 1 | PE03 | 採購單編號 | 第一排序鍵值 |
| 2 | PE04 | 產品代碼 | 第二排序鍵值 |
| 3 | PE02 | 驗收單編號 | 第三排序鍵值 |

## 7. 索引資料

### 存取路徑設定
- **排序方式**: 升序
- **重複鍵值**: 不允許
- **索引類型**: 唯一索引

### 索引鍵值
- 第一鍵值: PE03 (採購單編號)
- 第二鍵值: PE04 (產品代碼)
- 第三鍵值: PE02 (驗收單編號)

## 8. 備註

1. **檔案特性**: 
   - 邏輯檔案
   - 參照實體檔案 POPEPF
   - 複合索引設計
   - 採購單導向排序

2. **存取特性**:
   - 提供以採購單為主的存取路徑
   - 支援採購單明細查詢
   - 按採購單編號→產品代碼→驗收單編號順序排序

3. **業務應用場景**:
   - 採購單驗收明細查詢
   - 採購執行追蹤
   - 產品驗收狀況分析
   - 採購與驗收對應關係查詢
   - 國外採購驗收統計

4. **與其他 POPELF 檔案差異**:
   - POPELF01: PE03+PE04+PE02 (採購單+產品+驗收單)
   - POPELF02: PE04+PE05+PE02 (產品+驗收日期+驗收單)
   - POPELF03: PE04+PE05+PE02 (產品+驗收日期+驗收單)
   - 提供採購單導向的查詢路徑

5. **使用注意事項**:
   - 適用於需要按採購單分類查看驗收明細的程式
   - 支援採購單執行進度追蹤
   - 便於採購與驗收的對應關係查詢
   - 特別適合採購管理與驗收核對作業
   - 可追蹤特定採購單的所有驗收明細記錄
   - 專門處理國外採購驗收明細的採購導向查詢 