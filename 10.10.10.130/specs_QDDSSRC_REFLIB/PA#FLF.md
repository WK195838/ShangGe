# PA#FLF 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | PA#FLF |
| 檔案描述 | 物流點代碼∣∣客戶 (邏輯檔) |
| 檔案類型 | LF (Logical File) |
| 記錄格式 | #F0 |
| 主鍵 | #F01 (物流點代號) |
| 實體檔案 | PA#FPF |
| 檔案屬性 | 邏輯檢視，客戶物流點 |

## 2. 檔案功能說明

PA#FLF 為 PA#FPF 物流點代碼檔的客戶物流點專用邏輯檔案，提供：
- 客戶物流點管理
- 配送路線規劃
- 物流據點控制
- 地區配送優化

## 3. 系統檔案清單

| 檔案代號 | 檔案名稱 | 說明 |
|----------|----------|------|
| PA#FLF | 物流點代碼客戶邏輯檔 | 主檔 |
| PA#FPF | 物流點代碼實體檔 | 實體檔案 |
| RERF | 參考檔案 | 欄位定義參考 |

## 4. 紀錄格式

### 記錄格式：#F0 (繼承自 PA#FPF)

## 5. 欄位規格

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|------|----------|
| #F01 | 物流點代號 | 1-10 | 10 | A | R | 主鍵，物流點識別碼 |
| #F02 | 物流點名稱 | 11-30 | 20 | A | R | 物流點中文名稱 |
| #F03 | 英文名稱 | 31-50 | 20 | A | R | 物流點英文名稱 |
| #F04 | 物流點地址 | 51-90 | 40 | A | R | 物流點地址 |
| #F05 | 聯絡電話 | 91-105 | 15 | A | R | 物流點電話 |
| #F06 | 負責人 | 106-115 | 10 | A | R | 物流點負責人 |
| #F07 | 物流類型 | 116 | 1 | A | R | 'C'-客戶，'S'-供應商，'D'-配送中心 |
| #F08 | 地區代號 | 117-121 | 5 | A | R | 所屬地區 |
| #F09 | 區域代號 | 122-126 | 5 | A | R | 所屬區域 |
| #F10 | 配送路線 | 127-131 | 5 | A | R | 配送路線代號 |
| #F11 | 營運狀態 | 132 | 1 | A | R | 'A'-有效，'I'-停用，'M'-維護中 |
| #F12 | 容量限制 | 133-139 | 7 | N | R | 倉儲容量限制 |
| #F13 | 服務時間 | 140-147 | 8 | A | R | 服務時間 |
| #F14 | GPS座標X | 148-157 | 10 | N | R | GPS經度座標 |
| #F15 | GPS座標Y | 158-167 | 10 | N | R | GPS緯度座標 |
| #FXX | 建立日期 | 168-175 | 8 | N | R | 格式：YYYYMMDD |
| #FYY | 建立時間 | 176-181 | 6 | N | R | 格式：HHMMSS |
| #FZZ | 建立者 | 182-191 | 10 | A | R | 操作人員 |

## 6. 主鍵欄位

| 鍵值序號 | 欄位代號 | 欄位名稱 | 排序 |
|----------|----------|----------|------|
| 1 | #F01 | 物流點代號 | 升序 |

## 7. 索引資料

### 主要索引
- **索引名稱**：主鍵索引
- **索引欄位**：#F01
- **索引類型**：PRIMARY
- **說明**：物流點代號升序排序

### 輔助索引
1. **地區物流索引**：#F08 + #F01 (地區 + 物流點)
2. **區域物流索引**：#F09 + #F01 (區域 + 物流點)
3. **路線索引**：#F10 (配送路線代號)
4. **類型索引**：#F07 (物流類型)
5. **狀態索引**：#F11 (營運狀態)
6. **地區區域索引**：#F08 + #F09 + #F01

### 邏輯檢視特性
- **基底檔案**：PA#FPF
- **檢視類型**：客戶物流點專用檢視
- **排序方式**：地區 + 區域 + 物流點
- **分組顯示**：依地區分組

## 8. 備註

### 設計考量
1. 此檔案為 PA#FPF 的客戶物流點專用邏輯檢視檔案
2. 提供客戶配送管理功能
3. 支援物流路線規劃與優化

### 特殊功能
- **地區分組**：按地區分組管理物流點
- **路線規劃**：支援配送路線優化
- **GPS定位**：提供精確位置定位
- **容量管控**：物流點容量限制管理

### 參考關聯
- **實體檔案**：PA#FPF (物流點代碼檔)
- **地區檔案**：PA#DPF (#F08 = #D01)
- **區域檔案**：PA#EPF (#F09 = #E01)
- **路線檔案**：PA#路線檔 (#F10 = 路線代號)
- **客戶檔案**：MTMDPF (物流點關聯)

### 業務規則
1. 顯示順序：地區 + 區域 + 物流點代號
2. 地區區域關係需維持完整性
3. GPS座標需符合地理位置
4. 容量限制需配合實際設施

### 資料完整性
1. 資料內容完全依賴 PA#FPF 實體檔案
2. #F08 需對應 PA#DPF 中的有效地區
3. #F09 需對應 PA#EPF 中的有效區域
4. GPS座標需符合有效範圍

### 使用注意事項
1. 此為邏輯檔案，不可直接寫入資料
2. 所有異動需透過 PA#FPF 實體檔案進行
3. 地區區域調整會影響物流點分組
4. 適用於配送管理與物流規劃 