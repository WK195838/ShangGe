# BRBAPF 檔案規格書

## 1. 基本資料
- 檔名: BRBAPF
- 類型: PF (Physical File)
- 說明: 目標版本主檔－依客戶
- 主鍵: BA01+BA02+BA03+BA04+BA05
- 建立日期: (待補)
- 最後修改日期: (待補)
- 參考檔: (無)
- 索引約束: UNIQUE

## 2. 檔案功能說明
此實體檔案為目標版本主檔－依客戶，提供以下功能：
- 記錄依客戶的目標版本資料
- 儲存目標版本的設定資訊
- 支援目標版本的完整生命週期管理
- 提供目標版本的詳細分析
- 記錄目標版本的各項組成
- 支援目標版本管理作業
- 提供目標版本資料的主要儲存結構
- 記錄目標版本的內容
- 支援目標版本的查詢與報表作業
- 支援目標版本分析與管理作業

## 3. 系統檔案清單
- 主要實體檔: BRBAPF (目標版本主檔－依客戶)
- 相關檔案: 
  - BRBBPF (目標檔－依業務員)
  - BRBCPF (預算檔－依產品品牌／種類)
  - BRBDPF (預測銷售檔－依產品代號)
  - BRBPPF (目標檔－Key Account)
- 參考檔: (無)

## 4. 紀錄格式
實體檔案記錄格式，包含完整的目標版本資料欄位，記錄客戶目標分析資訊。

## 5. 欄位代號、名稱、位置、長度、屬性、檢核說明
| 欄位代號 | 名稱 | 位置 | 長度 | 屬性 | 檢核說明 |
|----------|------|------|------|------|----------|
| BA01 | 通路別 | 1-2 | 2A | 文字 | 通路別代號 |
| BA02 | 客戶代號 | 3-7 | 5A | 文字 | 客戶代號 |
| BA03 | 產品代號 | 8-16 | 9A | 文字 | 產品代號 |
| BA04 | 目標年月 | 17-22 | 6S0 | 數值 | 目標年月，YYYYMM格式 |
| BA05 | 目標版本 | 23-26 | 4S2 | 數值 | 目標版本號，以分為單位 |
| BA06 | 目標數量 | 27-39 | 13S2 | 數值 | 目標數量，以分為單位 |
| BA07 | 目標金額 | 40-52 | 13S2 | 數值 | 目標金額，以分為單位 |
| BAXX | 異動日期 | 53-60 | 8S0 | 數值 | 異動日期，YYYYMMDD格式 |
| BAYY | 異動時間 | 61-66 | 6S0 | 數值 | 異動時間，HHMMSS格式 |
| BAZZ | 異動者 | 67-76 | 10A | 文字 | 異動者代號 |

## 6. 主鍵欄位
- 主鍵: BA01+BA02+BA03+BA04+BA05
  - BA01: 通路別
  - BA02: 客戶代號
  - BA03: 產品代號
  - BA04: 目標年月
  - BA05: 目標版本
- 約束類型: UNIQUE約束

## 7. 索引資料
- 主要索引: BA01+BA02+BA03+BA04+BA05 (依通路別+客戶代號+產品代號+目標年月+目標版本)
- 索引類型: UNIQUE索引
- 排序特性: 
  - 第一層: 通路別 (BA01)
  - 第二層: 客戶代號 (BA02)
  - 第三層: 產品代號 (BA03)
  - 第四層: 目標年月 (BA04)
  - 第五層: 目標版本 (BA05)

## 8. 備註
- 此實體檔案為目標版本主檔－依客戶的主要儲存結構
- 用於管理依客戶的目標版本分析
- 支援目標版本的完整資訊管理
- 記錄目標版本的計算資訊
- 支援目標版本管理作業
- 記錄目標版本的內容與分析
- 支援目標版本的查詢、報表與統計分析
- 提供目標版本的完整管理功能
- BA01 通路別用於通路區分
- BA02 客戶代號用於客戶識別
- BA03 產品代號用於產品識別
- BA04 目標年月採用YYYYMM格式，便於時間序列分析
- BA05 目標版本以分為單位，提高精確度
- BA06-BA07 目標數量和金額欄位以分為單位，提高精確度
- BAXX-BAZZ 異動追蹤欄位，記錄完整的異動軌跡
- 支援目標版本的追蹤與管理
- 提供目標版本的詳細分析基礎
- 用於目標版本的分析與控制
- 支援目標版本報表的產生與分析
- 與 BRB系列 形成相關的目標管理系列
- 提供目標版本的完整軌跡記錄
- 支援目標版本作業的稽核與管理
- 記錄客戶在不同通路和產品的目標版本資訊
- 用於目標管理與決策支援
- 支援多版本目標管理的需求
- 提供客戶層級的目標分析功能
- 支援通路別的目標管理與分析作業
- UNIQUE約束確保同一組合的唯一性
- 異動日期時間採用標準格式，便於追蹤
- 支援目標版本的版本控制與管理
- 提供完整的目標設定與追蹤機制 