# ARAALF01 檔案規格書

## 1. 基本資料
- 檔名: ARAALF01
- 類型: LF (Logical File)
- 說明: 發票號碼設定資料檔
- 基礎實體檔: ARAAPF
- 建立日期: (待補)
- 最後修改日期: (待補)
- 參考檔: RERF

## 2. 檔案功能說明
此邏輯檔案為發票號碼設定資料檔(ARAAPF)的次要存取路徑，提供以下功能：
- 依發票類別、公司別、序號進行索引存取
- 支援以發票類別為主要查詢條件的作業需求
- 提供與主檔 ARAALF 不同的排序方式
- 用於發票類別管理相關的查詢與報表作業
- 支援發票號碼設定的多重存取路徑

## 3. 系統檔案清單
- 基礎實體檔: ARAAPF (發票號碼設定資料檔)
- 相關邏輯檔: 
  - ARAALF (KEY=AA01+AA02+AA03) - 主要存取路徑
  - ARAALF02 (KEY=AA01+AA02，含選擇條件)
- 參考檔: RERF (系統參考檔)

## 4. 紀錄格式
基於 ARAAPF 實體檔的邏輯視圖，使用 PFILE(ARAAPF) 存取路徑，提供完整的發票號碼設定資料記錄。

## 5. 欄位明細
| 欄位代號 | 名稱 | 位置 | 長度 | 屬性 | 檢核說明 |
|----------|------|------|------|------|----------|
| AA01 | 公司別 | 1-2 | 2A | 文字 | 參考 #B01，必填 |
| AA02 | 發票類別 | 3-8 | 6S0 | 數值 | 發票類別代碼，必填 |
| AA03A | 類別 | 9 | 1A | 文字 | E=電子發票，空白=非電子發票 |
| AA03 | 序號 | 10-11 | 2S0 | 數值 | 發票序號 |
| AA04 | 字軌 | 12-13 | 2A | 文字 | 發票字軌 |
| AA05 | 起始號碼 | 14-21 | 8S0 | 數值 | 發票起始號碼 |
| AA06 | 結束號碼 | 22-29 | 8S0 | 數值 | 發票結束號碼 |
| AA07 | 使用號碼 | 30-37 | 8S0 | 數值 | 目前使用到的號碼 |
| AA08 | 預設狀態 | 38 | 1A | 文字 | V=已預設 |
| AA09 | 建立日期 | 39-46 | 8S0 | 日期 | 參考 #AXX |
| AAXX | 異動日期 | 47-54 | 8S0 | 日期 | 參考 #AXX |
| AAYY | 異動時間 | 55-60 | 6S0 | 時間 | 參考 #AYY |
| AAZZ | 異動者 | 61-70 | 10A | 文字 | 參考 #AZZ |

## 6. 主鍵欄位
- 主鍵: AA02 + AA01 + AA03
  - AA02: 發票類別 (主要排序欄位)
  - AA01: 公司別
  - AA03: 序號

## 7. 索引資料
- 主要索引: AA02 + AA01 + AA03 (依發票類別、公司別、序號)
- 存取路徑: PFILE(ARAAPF)
- 索引類型: 非唯一索引
- 排序特性: 
  - 第一層: 發票類別 (AA02)
  - 第二層: 公司別 (AA01)  
  - 第三層: 序號 (AA03)
- 與其他邏輯檔索引比較:
  - ARAALF: AA01 + AA02 + AA03 (依公司別優先)
  - ARAALF02: AA01 + AA02 (含選擇條件)

## 8. 備註
- 此邏輯檔案提供以發票類別為主要查詢條件的存取路徑
- 與主檔 ARAALF 的差異在於索引順序，本檔以發票類別優先排序
- 適用於需要依發票類別進行分類查詢的作業
- 支援發票類別統計與管理相關功能
- 與發票管理系統的其他邏輯檔案配合使用
- 提供多重存取路徑以滿足不同的查詢需求
- 基於相同的實體檔案，確保資料一致性 