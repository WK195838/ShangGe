# SOSGLF05 檔案規格書

## 1. 基本資料
- **檔案名稱**: SOSGLF05
- **檔案類型**: LF (邏輯檔案)
- **基底檔案**: SOSGPF (銷貨退回主檔)
- **檔案說明**: 銷貨退回主檔邏輯檔案 - 確認狀態地區管理
- **建立日期**: (依系統記錄)
- **最後異動日期**: (依系統記錄)

## 2. 檔案功能說明
此邏輯檔案提供以確認日期、客戶編號為主的複合排序索引，支援銷貨退回按確認狀態與客戶的查詢需求。

### 主要功能
- 確認狀態時序管理
- 客戶地區確認分析
- 退貨確認流程追蹤

## 3. 系統檔案清單
| 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|------|
| SOSGPF | PF | 銷貨退回主檔 (基底檔案) |
| SOSGLF05 | LF | 銷貨退回主檔邏輯檔案 |

## 4. 紀錄格式

### 4.1 邏輯檔案設定
```
PFILE(SOSGPF)      // 基底實體檔案
```

### 4.2 關鍵欄位 (Key Fields)
| 順序 | 欄位代號 | 欄位名稱 | 型態 | 長度 | 排序 | 說明 |
|------|----------|----------|------|------|------|------|
| 1 | SG26 | 確認日期 | N | 8,0 | ASC | 主要排序鍵 |
| 2 | SG01 | 客戶編號 | A | 10 | ASC | 次要排序鍵 |
| 3 | SG15 | 地區 | A | 5 | ASC | 第三排序鍵 |
| 4 | SG04 | 店代名稱 | A | 20 | ASC | 第四排序鍵 |
| 5 | SG05 | 銷售人員 | A | 10 | ASC | 第五排序鍵 |
| 6 | SG02 | 退貨單號 | A | 10 | ASC | 第六排序鍵 |

### 4.3 選擇條件 (SELECT/OMIT)
無特殊選擇條件設定

## 5. 主鍵欄位
- **主要鍵值**: SG26 + SG01 + SG15 + SG04 + SG05 + SG02
- **排序方式**: 確認日期、客戶編號、地區、店代名稱、銷售人員、退貨單號升序
- **索引類型**: 複合索引，六層排序

## 6. 索引資料
- **排序方式**: SG26 + SG01 + SG15 + SG04 + SG05 + SG02
- **索引類型**: 復合索引，確認狀態管理
- **特殊屬性**: 無特殊排序屬性

## 7. 使用說明

### 7.1 檔案用途
- 銷貨退回確認狀態管理
- 退貨確認處理
- 確認狀態統計

### 7.2 程式存取方式
```rpg
// 依確認日期查詢
SETLL (確認日期) SOSGLF05;
READ SOSGLF05;
// 依確認日期和客戶編號查詢
CHAIN (確認日期:客戶編號) SOSGLF05;
```

## 8. 備註
- 此邏輯檔案專注於退貨確認狀態管理
- 提供時序性的確認狀態查詢
- 支援退貨確認流程追蹤
- 以確認日期為主要排序條件，支援客戶地區確認狀態分析 