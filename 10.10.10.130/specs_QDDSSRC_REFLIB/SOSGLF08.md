# SOSGLF08 檔案規格書

## 1. 基本資料
- **檔案名稱**: SOSGLF08
- **檔案類型**: LF (邏輯檔案)
- **基底檔案**: SOSGPF (銷貨退回主檔)
- **檔案說明**: 銷貨退回主檔邏輯檔案 - 特定客戶群組已確認退貨查詢
- **建立日期**: (依系統記錄)
- **最後異動日期**: (依系統記錄)

## 2. 檔案功能說明
此邏輯檔案提供以退貨日期為主的排序索引，專門用於特定客戶編號範圍的退貨查詢，支援銷貨退回按日期與客戶範圍的選擇性查詢需求。

### 主要功能
- 特定客戶群組已確認退貨時序查詢
- 退貨日期時序分析
- 客戶範圍選擇性管理

## 3. 系統檔案清單
| 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|------|
| SOSGPF | PF | 銷貨退回主檔 (基底檔案) |
| SOSGLF08 | LF | 銷貨退回主檔邏輯檔案 |

## 4. 紀錄格式

### 4.1 邏輯檔案設定
```
PFILE(SOSGPF)      // 基底實體檔案
```

### 4.2 關鍵欄位 (Key Fields)
| 順序 | 欄位代號 | 欄位名稱 | 型態 | 長度 | 排序 | 說明 |
|------|----------|----------|------|------|------|------|
| 1 | SG06 | 退貨日期 | N | 8,0 | ASC | 主要排序鍵 |

### 4.3 選擇條件 (SELECT/OMIT)
| 條件類型 | 欄位代號 | 條件 | 值 | 說明 |
|----------|----------|------|----|----|
| OMIT | SG14 | VALUES | '*',' ' | 排除待確認或處理中確認狀態 |
| SELECT | SG01 | RANGE | 'R1':'R9' | 選擇客戶編號R1到R9範圍 |
| SELECT | SG03 | EQ | 'R1' | 且部門編號等於'R1' |

### 4.4 客戶範圍與狀態說明
#### 選擇的客戶範圍
| 條件 | 說明 |
|------|------|
| 客戶編號 R1 ~ R9 | 特定客戶群組 |
| 部門編號 R1 | 特定部門 |

#### 排除的狀態
| 狀態代號 | 說明 |
|----------|------|
| '*' | 待確認狀態 |
| ' ' | 處理中確認狀態 |

## 5. 主鍵欄位
- **主要鍵值**: SG06 (退貨日期)
- **排序方式**: 退貨日期升序
- **索引類型**: 單一索引，特定客戶群組專用

## 6. 索引資料
- **排序方式**: SG06 (退貨日期)
- **索引類型**: 單一索引，日期時序排列
- **特殊屬性**: 包含範圍選擇與排除條件

## 7. 使用說明

### 7.1 檔案用途
- 特定客戶群組已確認退貨時序查詢
- 特定客戶群組退貨分析
- 退貨時序統計

### 7.2 程式存取方式
```rpg
// 依退貨日期查詢特定客戶群組
SETLL (退貨日期) SOSGLF08;
READ SOSGLF08;
// 讀取日期範圍內的已確認退貨
CHAIN (起始日期) SOSGLF08;
```

### 7.3 選擇邏輯說明
- **僅顯示客戶編號 R1-R9 的退貨記錄**
- **排除未確認的退貨狀態** ('*', ' ')
- **限定部門編號為 R1**
- **按退貨日期時序排列**

## 8. 備註
- 此邏輯檔案專注於特定客戶群組的已確認退貨管理
- 提供日期時序的退貨查詢功能
- 支援特定客戶群組的退貨趨勢分析
- 專門用於 R1 部門的特定客戶範圍退貨管理 