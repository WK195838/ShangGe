# RERF 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | RERF |
| 檔案類型 | 實體檔 (PF) |
| 檔案說明 | 匯東 DATA-BASE REFERENCE FILE |
| 主索引鍵 | 無 |
| 參照檔案 | 自身為參照檔 |
| 建立日期 | (依實際建立日期填入) |
| 維護人員 | (依實際維護人員填入) |

## 2. 檔案功能說明

此實體檔案為系統的主要參照檔案，定義了整個系統中所有檔案的欄位規格與結構。

### 主要功能
- 提供系統所有檔案的欄位定義標準
- 統一管理欄位規格與屬性
- 支援 REF 參照機制
- 維護系統資料結構的一致性

## 3. 系統檔案清單

| 檔案名稱 | 檔案類型 | 說明 | 關聯 |
|----------|----------|------|------|
| RERF | PF | 系統參照檔案 | 主檔案 |

## 4. 記錄格式

### 記錄格式名稱：RERFR

| 格式說明 | 記錄長度 | 參照檔案 |
|----------|----------|----------|
| 系統參照記錄格式 | (依欄位定義計算) | 自身 |

## 5. 欄位規格

### 採番檔案欄位群組

#### RE@APF 採購單號採番檔欄位
| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|------|----------|
| @A01 | 公司編號 | - | 2 | 文字 | | 公司別代碼 |
| @A02 | 年度 | - | 2 | 文字 | | 年度代碼 |
| @A03 | 系統代號 | - | 1 | 文字 | | 系統別 |
| @A04 | 季年度編號 | - | 4S00 | 數值 | | 年度編號 |
| @A05 | 號碼 | - | 5P0 | 數值 | | 採番序號 |

#### RE@BPF 驗收單號採番檔欄位
| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|------|----------|
| @B01 | 公司編號 | - | 2 | 文字 | | 公司別代碼 |
| @B02 | 年度 | - | 2 | 文字 | | 年度代碼 |
| @B03 | 季年度編號 | - | 4S00 | 數值 | | 年度編號 |
| @B04 | 號碼 | - | 6S0 | 數值 | | 採番序號 |

#### RE@CPF 訂單號碼採番檔欄位
| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|------|----------|
| @C01 | 公司編號 | - | 2 | 文字 | | 公司別代碼 |
| @C02 | 年度 | - | 2 | 文字 | | 年度代碼 |
| @C03 | 季年度編號 | - | 4S00 | 數值 | | 年度編號 |
| @C04 | 號碼 | - | 6S0 | 數值 | | 採番序號 |

#### RE@DPF 送貨單號採番檔欄位
| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|------|----------|
| @D01 | 公司編號 | - | 2 | 文字 | | 公司別代碼 |
| @D02 | 年度 | - | 2 | 文字 | | 年度代碼 |
| @D03 | 季年度編號 | - | 4S00 | 數值 | | 年度編號 |
| @D04 | 號碼 | - | 6S0 | 數值 | | 採番序號 |

#### RE@EPF 銷退單號採番檔欄位
| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|------|----------|
| @E01 | 公司編號 | - | 2 | 文字 | | 公司別代碼 |
| @E02 | 年度 | - | 2 | 文字 | | 年度代碼 |
| @E03 | 季年度編號 | - | 4S00 | 數值 | | 年度編號 |
| @E04 | 號碼 | - | 6S0 | 數值 | | 採番序號 |

## 6. 主鍵欄位

此檔案主要作為參照檔案使用，不設置主鍵。

## 7. 索引資料

此檔案主要作為參照檔案使用，不設置特定索引。

## 8. 備註

### 特殊說明
- 此檔案為整個系統的核心參照檔案
- 所有使用 REF(RERF) 的檔案都參照此檔案的欄位定義
- 集中管理所有檔案的欄位規格
- 確保系統資料結構的一致性

### 參照機制
系統中多數檔案使用 REF(RERF) 語法：
- 統一欄位定義標準
- 降低維護複雜度
- 確保欄位規格一致性
- 便於系統升級維護

### 檔案群組管理
檔案分為以下主要群組：
- **RE@系列**：採番檔案群組
- **PA#系列**：代碼檔案群組
- **MTM系列**：主檔案群組
- **POP系列**：採購檔案群組
- **SOS系列**：銷售檔案群組
- **IMI系列**：庫存檔案群組
- **ARA系列**：應收檔案群組
- **LGL系列**：日誌檔案群組

### 採番檔案特性
採番檔案統一設計：
- 三維度採番機制（公司+年度+季年度）
- 支援多公司環境
- 年度自動結轉機制
- 號碼連續性控制

### 維護注意事項
- 此檔案的變更會影響所有參照檔案
- 新增欄位需評估系統影響範圍
- 修改欄位定義需進行完整測試
- 建議採用版本控制機制

### 系統整合
- 作為系統資料字典的核心
- 支援自動化開發工具
- 提供欄位定義查詢介面
- 配合系統文件產生機制

### 欄位定義標準
- 文字欄位：一般使用 A 型態
- 數值欄位：使用 P 或 S 型態
- 日期欄位：遵循 YYYYMMDD 格式
- 金額欄位：通常使用 13 2 格式

### 技術特性
- 支援多種資料型態定義
- 提供欄位標題 (COLHDG) 設定
- 支援欄位屬性控制
- 允許自定義檢核規則

### 發展歷程
- 最初設計支援基本採番需求
- 逐步擴展支援複雜業務邏輯
- 新增多維度分類機制
- 持續優化效能與穩定性

### 相關檔案
所有使用 REF(RERF) 的檔案，包括：
- 採番檔案群組 (RE@系列)
- 代碼檔案群組 (PA#系列)
- 業務檔案群組 (各系統主檔)
- 暫存檔案群組 (工作檔)

### 應用範圍
- 採購管理系統
- 銷售管理系統
- 庫存管理系統
- 應收帳款系統
- 財務管理系統
- 生產管理系統
