# SOSELF02 檔案規格書

## 1. 基本資料
- **檔案名稱**: SOSELF02
- **檔案類型**: LF (邏輯檔案)
- **基底檔案**: SOSEPF (送貨單主檔)
- **檔案說明**: 送貨單主檔邏輯檔案 - 配送排程管理
- **建立日期**: (依系統記錄)
- **最後異動日期**: (依系統記錄)

## 2. 檔案功能說明
此邏輯檔案提供以出貨訊息統計為主的複合排序索引，支援送貨單按出貨統計、配送期間、地區、通路等條件的查詢需求。

### 主要功能
- 配送排程管理
- 路線規劃分析
- 地區配送策略

## 3. 系統檔案清單
| 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|------|
| SOSEPF | PF | 送貨單主檔 (基底檔案) |
| SOSELF02 | LF | 送貨單主檔邏輯檔案 |

## 4. 紀錄格式

### 4.1 邏輯檔案設定
```
PFILE(SOSEPF)      // 基底實體檔案
```

### 4.2 關鍵欄位 (Key Fields)
| 順序 | 欄位代號 | 欄位名稱 | 型態 | 長度 | 排序 | 說明 |
|------|----------|----------|------|------|------|------|
| 1 | SE07 | 出貨訊息統計 | A | 8 | ASC | 主要排序鍵 |
| 2 | SE21 | 配送起始日 | N | 8,0 | ASC | 配送日期 |
| 3 | SE22 | 路線代號 | A | 3 | ASC | 配送路線 |
| 4 | SE23 | 配送時段 | N | 4,0 | ASC | 時段代號 |
| 5 | SE34 | 地區 | A | 5 | ASC | 地區代號 |
| 6 | SE35 | 通路 | A | 5 | ASC | 通路代號 |
| 7 | SE02 | 送貨單號 | A | 10 | ASC | 送貨單號 |

### 4.3 選擇條件 (SELECT/OMIT)
無特殊選擇條件設定

## 5. 主鍵欄位
- **主要鍵值**: SE07 + SE21 + SE22 + SE23 + SE34 + SE35 + SE02
- **排序方式**: 出貨訊息統計、配送起始日、路線、時段、地區、通路、單號
- **索引類型**: 複合索引，七層排序

## 6. 索引資料
- **排序方式**: SE07 + SE21 + SE22 + SE23 + SE34 + SE35 + SE02
- **索引類型**: 復合索引，支援配送排程查詢
- **特殊屬性**: 無特殊排序屬性

## 7. 使用說明

### 7.1 檔案用途
- 送貨單配送排程管理
- 配送排程管理
- 物流調度相關程式

### 7.2 程式存取方式
```rpg
// 依出貨統計查詢
SETLL (出貨訊息統計) SOSELF02;
READ SOSELF02;
// 依出貨統計和配送日期查詢
CHAIN (出貨訊息統計:配送起始日) SOSELF02;
```

## 8. 備註
- 此邏輯檔案專門用於配送排程管理
- 提供配送路線與時段的組織化查詢
- 支援地區性配送策略分析
- 提供完整的配送時間序列查詢 