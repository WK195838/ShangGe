# MTMBLF03 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | MTMBLF03 |
| 檔案描述 | 費用商基本資料檔 (邏輯檔) |
| 檔案類型 | LF (Logical File) |
| 記錄格式 | MB0 |
| 主鍵 | MB01 (供應商代號) |
| 實體檔案 | MTMBPF |
| 檔案屬性 | 邏輯檢視，費用供應商專用 |

## 2. 檔案功能說明

MTMBLF03 為 MTMBPF 供應商基本資料檔的費用供應商專用邏輯檔案，提供：
- 費用供應商資料檢視
- 費用管理專用檢視
- 費用核算支援
- 費用分析功能

## 3. 系統檔案清單

| 檔案代號 | 檔案名稱 | 說明 |
|----------|----------|------|
| MTMBLF03 | 費用商基本資料邏輯檔 | 主檔 |
| MTMBPF | 供應商基本資料實體檔 | 實體檔案 |
| MTMBLF | 供應商基本資料邏輯檔 | 基本邏輯檔 |
| RERF | 參考檔案 | 欄位定義參考 |

## 4. 紀錄格式

### 記錄格式：MB0 (繼承自 MTMBPF，條件篩選)

## 5. 欄位規格

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|------|----------|
| MB01 | 供應商代號 | 1-8 | 8 | A | R | 主鍵，供應商識別碼 |
| MB02 | 供應商名稱 | 9-26 | 18 | A | R | 供應商中文名稱 |
| MB03 | 英文名稱 | 27-44 | 18 | A | R | 供應商英文名稱 |
| MB04 | 供應商簡稱 | 45-54 | 10 | A | R | 供應商簡稱 |
| MB05 | 統一編號 | 55-62 | 8 | A | R | 統一編號 |
| MB06 | 供應商分類 | 63-67 | 5 | A | R | 供應商分類代號 |
| MB07 | 費用類型 | 68-72 | 5 | A | R | 費用供應商類型 |
| MB08 | 地區代號 | 73-77 | 5 | A | R | 所屬地區 |
| MB09 | 供應商狀態 | 78 | 1 | A | R | 'A'-有效，'I'-停用，'S'-暫停 |
| MB10 | 負責人 | 79-88 | 10 | A | R | 供應商負責人 |
| MB11 | 聯絡電話 | 89-103 | 15 | A | R | 供應商電話 |
| MB12 | 傳真號碼 | 104-118 | 15 | A | R | 傳真號碼 |
| MB13 | 供應商地址 | 119-158 | 40 | A | R | 供應商地址 |
| MB14 | 付款條件 | 159-163 | 5 | A | R | 付款條件代號 |
| MB15 | 幣別 | 164-166 | 3 | A | R | 交易幣別 |
| MB16 | 採購員 | 167-171 | 5 | A | R | 負責採購員 |
| 其他欄位 | 繼承MTMBPF | | | | | 參考MTMBPF規格 |

## 6. 主鍵欄位

| 鍵值序號 | 欄位代號 | 欄位名稱 | 排序 |
|----------|----------|----------|------|
| 1 | MB01 | 供應商代號 | 升序 |

## 7. 索引資料

### 主要索引
- **索引名稱**：費用供應商索引
- **索引欄位**：MB01
- **索引類型**：PRIMARY
- **說明**：供應商代號升序排序

### 輔助索引
1. **費用類型索引**：MB07 + MB01 (費用類型 + 供應商代號)
2. **費用分類索引**：MB06 + MB07 + MB01
3. **費用地區索引**：MB08 + MB07 + MB01
4. **費用狀態索引**：MB09 + MB07 + MB01
5. **採購員索引**：MB16 + MB01 (採購員 + 供應商代號)

### 邏輯檢視特性
- **基底檔案**：MTMBPF
- **檢視類型**：費用供應商專用檢視
- **排序方式**：費用類型 + 供應商代號
- **分組顯示**：依費用類型分組
- **過濾條件**：費用供應商條件篩選

## 8. 備註

### 設計考量
1. 此檔案為 MTMBPF 的費用供應商專用邏輯檢視檔案
2. 提供費用管理專門功能
3. 支援費用核算和分析需求

### 特殊功能
- **費用分類**：按費用類型分組管理
- **費用分析**：支援費用統計分析
- **核算支援**：費用核算專用檢視
- **預算控制**：費用預算管理

### 費用類型說明
- **營運費用**：日常營運費用供應商
- **行銷費用**：廣告行銷費用供應商
- **管理費用**：管理行政費用供應商
- **研發費用**：研發相關費用供應商
- **其他費用**：其他類別費用供應商

### 參考關聯
- **實體檔案**：MTMBPF (供應商基本資料)
- **費用類型檔**：PA#費用類型檔 (MB07 = 費用類型代號)
- **地區檔案**：PA#DPF (MB08 = #D01)
- **採購員檔案**：MTMCPF (MB16 = MC01)
- **費用記錄檔**：費用檔案 (供應商關聯)

### 業務規則
1. 顯示順序：費用類型 + 供應商代號
2. 費用類型關係需維持完整性
3. 採購員調整影響供應商管理
4. 費用供應商需特殊審核

### 資料完整性
1. 資料內容完全依賴 MTMBPF 實體檔案
2. MB07 需對應有效的費用類型代號
3. MB16 需對應 MTMCPF 中的有效採購員
4. MB08 需對應有效的地區代號

### 使用注意事項
1. 此為邏輯檔案，不可直接寫入資料
2. 所有異動需透過 MTMBPF 實體檔案進行
3. 費用類型調整會影響供應商分組
4. 適用於費用管理與核算分析 