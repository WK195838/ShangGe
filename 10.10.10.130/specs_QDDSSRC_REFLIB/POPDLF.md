# POPDLF 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | POPDLF |
| 檔案類型 | 邏輯檔案 (LF) |
| 檔案用途 | 產品進貨單主檔邏輯檔 |
| 作業系統 | AS/400 |
| 建立日期 | - |
| 最後修改日期 | - |

## 2. 檔案功能說明

POPDLF 為產品進貨單主檔 (POPDPF) 的邏輯檔案，提供透過單證編號 (PD02) 存取實體檔資料的路徑。此邏輯檔案採用參考存取路徑 (REFACCPTH) 設定，直接參照實體檔案的主要索引，適用於以單證編號為主要查詢條件的進貨業務需求。

## 3. 系統檔案清單

- **實體檔案**: POPDPF (產品進貨單主檔)
- **邏輯檔案**: POPDLF (本檔案)

## 4. 記錄格式

### 記錄格式 PD0
- **記錄識別**: PD0
- **檔案參照**: POPDPF
- **記錄類型**: 邏輯檔記錄格式

## 5. 欄位規格

POPDLF 邏輯檔案使用 POPDPF 實體檔案的所有欄位，詳細欄位規格請參考 POPDPF 實體檔案規格書。

## 6. 主鍵欄位

此邏輯檔案使用 REFACCPTH(POPDPF) 設定，直接參照實體檔案 POPDPF 的主要索引：

| 順序 | 欄位代號 | 欄位名稱 | 說明 |
|------|----------|----------|------|
| 1 | PD02 | 單證編號 | 主要索引鍵值 |

## 7. 索引資料

### 存取路徑設定
- **排序方式**: 參照實體檔案
- **重複鍵值**: 參照實體檔案設定
- **索引類型**: 參考存取路徑 (REFACCPTH)

### 索引鍵值
- 參照檔案: POPDPF
- 主要鍵值: PD02 (單證編號)

## 8. 備註

1. **檔案特性**: 
   - 邏輯檔案
   - 參照實體檔案 POPDPF
   - 使用參考存取路徑 (REFACCPTH)

2. **存取特性**:
   - 直接參照實體檔案的主要索引
   - 提供與實體檔案相同的存取路徑
   - 不額外定義排序條件

3. **REFACCPTH 特色**:
   - 自動繼承實體檔案的索引設定
   - 減少重複定義索引鍵值
   - 確保與實體檔案索引的一致性

4. **進貨作業應用**:
   - 進貨單查詢與維護
   - 進貨單據管理
   - 進貨狀態追蹤
   - 單證編號檢索

5. **使用注意事項**:
   - 適用於需要與實體檔案相同存取路徑的程式
   - 索引變更時會自動同步實體檔案設定
   - 提供最直接的單證編號查詢功能
   - 特別適合進貨單主要作業程式使用
   - 支援進貨流程的標準化操作 