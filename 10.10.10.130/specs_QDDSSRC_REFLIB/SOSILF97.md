# SOSILF97 檔案規格書

## 1. 基本資料
- **檔案名稱**: SOSILF97
- **檔案類型**: LF (邏輯檔案)
- **基底檔案**: SOSIPF (發票主檔)
- **檔案說明**: 發票主檔邏輯檔案 - 發票號碼單一排序查詢
- **建立日期**: (依系統記錄)
- **最後異動日期**: (依系統記錄)

## 2. 檔案功能說明
此邏輯檔案提供發票號碼的單一排序，無任何篩選條件，適用於簡單快速的發票號碼查詢與驗證作業。

### 主要功能
- 發票號碼排序查詢
- 發票存在性驗證
- 快速發票檢索
- 發票號碼範圍瀏覽

## 3. 系統檔案清單
| 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|------|
| SOSIPF | PF | 發票主檔 (基底檔案) |
| SOSILF97 | LF | 發票主檔邏輯檔案 |

## 4. 紀錄格式

### 4.1 邏輯檔案設定
```
PFILE(SOSIPF)      // 基底實體檔案
```

### 4.2 關鍵欄位 (Key Fields)
| 順序 | 欄位代號 | 欄位名稱 | 型態 | 長度 | 排序 | 說明 |
|------|----------|----------|------|------|------|------|
| 1 | SI02 | 發票號碼 | A | 10 | ASC | 主要排序鍵 |

### 4.3 選擇條件 (SELECT/OMIT)
無任何選擇條件設定

### 4.4 簡潔設計特色
此檔案採用最簡潔的設計，僅提供發票號碼排序，無篩選條件

## 5. 主鍵欄位
- **主要鍵值**: SI02
- **排序方式**: 發票號碼升序
- **索引類型**: 單一索引，發票號碼導向

## 6. 索引資料
- **排序方式**: SI02
- **索引類型**: 單一索引，支援發票號碼查詢
- **特殊屬性**: 無篩選條件，純發票號碼排序

## 7. 使用說明

### 7.1 檔案用途
- 發票號碼快速查詢
- 發票存在性驗證
- 發票號碼範圍檢索
- 發票號碼清單瀏覽

### 7.2 程式存取方式
```rpg
// 依發票號碼快速查詢
CHAIN (發票號碼) SOSILF97;
IF %FOUND(SOSILF97);
  // 發票存在
ELSE;
  // 發票不存在
ENDIF;

// 發票號碼範圍瀏覽
SETLL (起始發票號碼) SOSILF97;
READ SOSILF97;
DOW NOT %EOF(SOSILF97) AND SI02 <= 結束發票號碼;
  // 處理發票記錄
  READ SOSILF97;
ENDDO;
```

### 7.3 查詢效率特色
- **高效查詢**: 單一索引，查詢效率最佳
- **無篩選**: 不做任何條件篩選，包含所有發票
- **簡潔明確**: 設計目的單純明確

### 7.4 與其他檔案比較
| 項目 | SOSILF10 | SOSILF97 |
|------|----------|----------|
| 索引欄位 | SI02 | SI02 |
| 篩選條件 | 有SELECT條件 | 無條件 |
| 適用場景 | 篩選後查詢 | 純號碼查詢 |

### 7.5 應用場景
- **發票驗證**: 快速驗證發票號碼是否存在
- **號碼查詢**: 純發票號碼導向的查詢
- **範圍檢索**: 發票號碼範圍檢索作業
- **清單瀏覽**: 按發票號碼順序瀏覽所有發票

### 7.6 系統整合
- **驗證工具**: 作為其他程式的發票驗證工具
- **基礎查詢**: 提供最基礎的發票查詢功能
- **效能優化**: 在需要純號碼查詢時提供最佳效能

## 8. 備註
- 此邏輯檔案採用最簡潔的設計理念
- 無任何篩選條件，提供所有發票的號碼排序
- 適用於需要純發票號碼查詢的場景
- 與其他複雜篩選的邏輯檔案形成互補，提供基礎查詢支援 