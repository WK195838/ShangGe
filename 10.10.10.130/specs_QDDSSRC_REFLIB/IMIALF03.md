# IMIALF03 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | IMIALF03 |
| 檔案類型 | 邏輯檔案 (Logical File) |
| 檔案用途 | 產品庫存主檔（盤點專用） |
| 紀錄格式 | IA0 |
| 基礎實體檔案 | IMIAPF |
| 主鍵欄位 | IA02+IA01+IA03 |
| 排序方式 | 升序 |
| 特殊用途 | 盤點作業 |

## 2. 檔案功能說明

IMIALF03是產品庫存主檔的邏輯檔案，專門用於盤點作業：

1. **主要功能**：提供產品庫存資料的邏輯存取路徑
2. **基礎檔案**：基於IMIAPF實體檔案建立
3. **系統用途**：支援庫存盤點作業的資料查詢
4. **索引設計**：使用IA02+IA01+IA03的排序方式
5. **存取特性**：按產品代號、客戶代號、產品名稱的順序排列
6. **專用功能**：專門為盤點作業設計的存取路徑

## 3. 系統檔案清單

| 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|------|
| IMIALF03 | 邏輯檔案 | 產品庫存主檔邏輯檔案（盤點專用） |
| IMIAPF | 實體檔案 | 產品庫存主檔實體檔案（基礎檔案） |
| IMIALF | 邏輯檔案 | 產品庫存主檔邏輯檔案（標準排序） |
| IMIALF01 | 邏輯檔案 | 產品庫存主檔邏輯檔案（產品名稱優先） |
| IMIALF02 | 邏輯檔案 | 產品庫存主檔邏輯檔案（產品代號優先） |

## 4. 紀錄格式

| 格式名稱 | 說明 |
|----------|------|
| IA0 | 產品庫存主記錄格式（參考IMIAPF） |

## 5. 欄位代號、名稱、位置、長度、屬性、檢核說明

本邏輯檔案使用PFILE(IMIAPF)，所有欄位定義參考基礎實體檔案IMIAPF：

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 說明 |
|----------|----------|------|------|------|------|------|
| IA02 | 產品代號 | 1 | - | - | 主鍵 | 產品代號（第一排序鍵） |
| IA01 | 客戶代號 | 2 | - | - | 主鍵 | 客戶代號（第二排序鍵） |
| IA03 | 產品名稱 | 3 | - | - | 主鍵 | 產品名稱（第三排序鍵） |
| 其他欄位 | - | - | - | - | - | 繼承IMIAPF的所有欄位定義 |

*註：詳細欄位規格請參考基礎實體檔案IMIAPF的定義*

## 6. 主鍵欄位

本邏輯檔案的主鍵欄位為：
- IA02（產品代號）
- IA01（客戶代號）
- IA03（產品名稱）

### 主鍵特性：
- **IA02（產品代號）**：第一層分類，按產品代號排序
- **IA01（客戶代號）**：第二層分類，客戶代號排序
- **IA03（產品名稱）**：第三層分類，產品名稱排序

## 7. 索引資料

| 索引名稱 | 索引鍵 | 排序 | 用途說明 |
|----------|--------|------|----------|
| 主索引 | IA02+IA01+IA03 | 升序 | 盤點作業專用排序查詢 |

### 索引特性：
- **複合索引**：三個欄位組成的複合主鍵
- **盤點優化**：專為盤點作業優化的排序方式
- **階層式排序**：產品代號→客戶代號→產品名稱的三層排序

## 8. 備註

1. **邏輯檔案特性**：
   - 基於IMIAPF實體檔案的邏輯檔案
   - 使用PFILE(IMIAPF)引用基礎檔案
   - 專門為盤點作業設計的排序方式
2. **盤點專用設計**：
   - 排序方式：IA02+IA01+IA03（產品代號+客戶代號+產品名稱）
   - 適合盤點作業的資料存取順序
   - 便於盤點人員按產品代號順序進行盤點
3. **排序差異比較**：
   - IMIALF：IA01+IA02+IA03（客戶代號優先）
   - IMIALF01：IA03+IA02+IA01（產品名稱優先）
   - IMIALF02：IA02+IA03+IA01（產品代號優先）
   - IMIALF03：IA02+IA01+IA03（盤點專用排序）
4. **盤點作業支援**：
   - 按產品代號分組進行盤點
   - 在同一產品代號下按客戶代號排序
   - 便於盤點清單的產生和核對
5. **索引設計**：
   - 採用三欄位複合主鍵（IA02+IA01+IA03）
   - 產品代號為主要排序依據
   - 支援盤點作業的資料查詢模式
6. **系統整合**：
   - 與IMIAPF實體檔案緊密整合
   - 與其他IMIALF系列提供互補的存取路徑
   - 專門支援庫存盤點管理應用
7. **資料存取**：
   - 繼承基礎檔案的所有欄位
   - 提供盤點作業優化的資料檢視
   - 支援盤點相關的庫存分析
8. **業務應用**：
   - 庫存盤點作業
   - 盤點清單產生
   - 盤點差異分析
   - 庫存盤點報表
9. **檔案關係**：
   - 邏輯檔案：IMIALF03（本檔案）
   - 實體檔案：IMIAPF（基礎檔案）
   - 相關邏輯檔案：IMIALF系列
10. **存取效能**：
    - 針對盤點作業查詢優化
    - 提供高效的盤點資料存取
    - 支援盤點相關的應用程式
11. **資料完整性**：
    - 依賴基礎實體檔案的資料完整性
    - 透過邏輯檔案提供一致的資料檢視
    - 確保盤點資料的準確性
12. **維護特性**：
    - 結構簡單，維護容易
    - 變更需同步考慮基礎實體檔案
    - 提供穩定的盤點資料存取介面
13. **系統價值**：
    - 作為庫存盤點管理系統的專用存取檔案
    - 提供盤點作業優化的庫存資料檢視
    - 與其他邏輯檔案形成完整的存取路徑體系
14. **特殊用途**：
    - 專門用於庫存盤點作業
    - 支援盤點清單的產生和管理
    - 便於盤點結果的核對和分析 