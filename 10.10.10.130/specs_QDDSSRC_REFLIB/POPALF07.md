# POPALF07 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | POPALF07 |
| 檔案類型 | 邏輯檔案 (LF) |
| 檔案用途 | 供應商產品報價檔邏輯檔 |
| 作業系統 | AS/400 |
| 建立日期 | - |
| 最後修改日期 | - |

## 2. 檔案功能說明

POPALF07 為供應商產品報價檔 (POPAPF) 的條件篩選邏輯檔案，提供透過特定鍵值組合 PA01+PA03+PA02 存取實體檔資料的路徑，並具有選擇條件，僅顯示產品狀態 (PA12) 等於 'K' 的記錄。此邏輯檔案以產品代碼為第二排序條件，適用於以產品為主要查詢條件的特定狀態產品管理。

## 3. 系統檔案清單

- **實體檔案**: POPAPF (供應商產品報價檔)
- **邏輯檔案**: POPALF07 (本檔案)

## 4. 記錄格式

### 記錄格式 PA0
- **記錄識別**: PA0
- **檔案參照**: POPAPF
- **記錄類型**: 邏輯檔記錄格式

## 5. 欄位規格

POPALF07 邏輯檔案使用 POPAPF 實體檔案的所有欄位，詳細欄位規格請參考 POPAPF 實體檔案規格書。

## 6. 主鍵欄位

| 順序 | 欄位代號 | 欄位名稱 | 說明 |
|------|----------|----------|------|
| 1 | PA01 | 供應商代碼 | 第一排序鍵值 |
| 2 | PA03 | 產品代碼 | 第二排序鍵值 |
| 3 | PA02 | 報價編號 | 第三排序鍵值 |

## 7. 索引資料

### 存取路徑設定
- **排序方式**: 升序
- **重複鍵值**: 不允許
- **索引類型**: 唯一索引

### 索引鍵值
- 第一鍵值: PA01 (供應商代碼)
- 第二鍵值: PA03 (產品代碼)
- 第三鍵值: PA02 (報價編號)

### 選擇條件
- **選擇欄位**: PA12 (產品狀態)
- **選擇條件**: COMP(EQ 'K')
- **條件說明**: 僅顯示產品狀態為 'K' 的記錄

## 8. 備註

1. **檔案特性**: 
   - 邏輯檔案
   - 參照實體檔案 POPAPF
   - 具有條件選擇功能

2. **存取特性**:
   - 提供以產品為主的特定狀態存取路徑
   - 支援條件篩選，僅顯示 'K' 狀態產品
   - 按供應商→產品→報價編號順序排序

3. **與其他 POPALF 檔案差異**:
   - POPALF06: PA01+PA02+PA03 (報價編號優先，'K' 狀態)
   - POPALF07: PA01+PA03+PA02 (產品代碼優先，'K' 狀態)
   - 排序重點不同，適用場景不同

4. **選擇條件特色**:
   - 僅顯示產品狀態為 'K' 的記錄
   - 以產品代碼為第二排序條件
   - 適合以產品為主的特殊狀態管理

5. **使用注意事項**:
   - 適用於需要按產品查看特定狀態報價的作業程式
   - 支援產品導向的特殊狀態管理
   - 與 POPALF06 提供不同的排序策略
   - 特別適合產品狀態追蹤與分析作業
   - 可用於特定狀態產品的供應商比較 