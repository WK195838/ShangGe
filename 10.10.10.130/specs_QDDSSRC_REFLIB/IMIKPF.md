# IMIKPF 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案代號 | IMIKPF |
| 檔案名稱 | 派車主檔 |
| 檔案類型 | PF (實體檔案) |
| 資料庫 | REFLIB |
| 記錄格式 | IK0 |
| 主鍵 | IK02 + IK03 + IK04 + IK05 |
| 索引屬性 | UNIQUE |

## 2. 檔案功能說明

此實體檔案為派車主檔，記錄派車作業的主要資料。檔案以產品項次代號、送貨日期、出貨日期、序號的組合作為唯一主鍵，記錄派車單號、送貨資訊、出貨資訊等。此檔案為派車管理系統的核心檔案，支援物流調度、派車安排等業務需求。

## 3. 系統檔案清單

| 檔案代號 | 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|----------|------|
| IMIKPF | 派車主檔 | PF | 實體檔案 |
| RERF | 參照檔案 | - | 欄位定義參照 |

## 4. 紀錄格式

### 記錄格式：IK0
- **檔案類型**：實體檔案
- **參照檔案**：REF(RERF)
- **索引屬性**：UNIQUE
- **主鍵欄位**：IK02 + IK03 + IK04 + IK05

## 5. 欄位代號、名稱、位置、長度、屬性、檢核說明

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|----------|----------|
| IK01 | 派車單號 | - | - | - | R | 參照 RERF，派車單號 |
| IK02 | 產品項次代號 | - | - | - | R,K | 參照 RERF，產品項次代號，主鍵欄位1 |
| IK03 | 送貨日期 | - | 8 | N | R,K | 參照 RERF，送貨日期，主鍵欄位2，格式：YYYYMMDD |
| IK04 | 出貨日期 | - | - | - | R,K | 參照 RERF，出貨日期，主鍵欄位3 |
| IK05 | 序號 | - | - | - | R,K | 參照 RERF，序號，主鍵欄位4 |
| IK06 | 送貨數量 | - | - | - | R | 參照 RERF，送貨數量 |
| IK07 | 發貨數量 | - | - | - | R | 參照 RERF，發貨數量 |
| IKXX | 建立日期 | - | 8 | N | R | 參照 RERF，建立日期，格式：YYYYMMDD |
| IKYY | 建立時間 | - | - | - | R | 參照 RERF，建立時間 |
| IKZZ | 建立人員 | - | - | - | R | 參照 RERF，建立人員 |

## 6. 主鍵欄位

| 主鍵順序 | 欄位代號 | 欄位名稱 | 排序 |
|----------|----------|----------|------|
| 1 | IK02 | 產品項次代號 | ASC |
| 2 | IK03 | 送貨日期 | ASC |
| 3 | IK04 | 出貨日期 | ASC |
| 4 | IK05 | 序號 | ASC |

## 7. 索引資料

### 主要索引
- **索引鍵值**：IK02 + IK03 + IK04 + IK05
- **索引類型**：複合主鍵索引
- **索引屬性**：UNIQUE（唯一性約束）
- **排序方式**：遞增排序
- **用途**：確保每個產品項次代號、送貨日期、出貨日期、序號組合的唯一性

## 8. 備註

1. 此檔案為派車主檔的實體檔案
2. 具有 UNIQUE 屬性，確保主鍵的唯一性
3. 所有欄位定義均參照 RERF 檔案
4. 記錄完整的派車資訊，包括派車單號、日期、數量等
5. 支援送貨和發貨數量的管理
6. 記錄建立相關資訊：建立日期、時間、人員
7. 送貨日期和建立日期採用 YYYYMMDD 格式
8. 為派車邏輯檔案提供基礎資料來源
9. 支援派車作業的完整流程管理
10. 採用複合主鍵確保資料的唯一性
11. 適用於物流調度和派車管理系統
12. 序號欄位用於區分同一日期的多筆派車記錄 