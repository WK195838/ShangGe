# IMIGLF1 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | IMIGLF1 |
| 檔案類型 | 邏輯檔案 (Logical File) |
| 檔案用途 | 存貨調整主檔 |
| 紀錄格式 | IG0 |
| 主鍵欄位 | IG05(降序)+IG02 |
| 基於檔案 | IMIGPF |
| 特殊用途 | 存貨調整作業的日期客戶排序查詢（最新日期優先） |

## 2. 檔案功能說明

IMIGLF1是存貨調整主檔的邏輯檔案：

1. **主要功能**：提供存貨調整主檔的日期客戶排序存取（最新日期優先）
2. **檔案特性**：邏輯檔案，基於IMIGPF實體檔案
3. **系統用途**：支援存貨調整作業的日期客戶查詢
4. **排序特性**：以調整日期(降序)+客戶代號排序
5. **查詢優化**：提供最新日期優先的存取路徑
6. **支援功能**：為存貨調整作業提供高效的日期客戶查詢

## 3. 系統檔案清單

| 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|------|
| IMIGLF01 | 邏輯檔案 | 存貨調整主檔邏輯檔案（IG01+IG05+IG02排序） |
| IMIGLF02 | 邏輯檔案 | 存貨調整主檔邏輯檔案（IG05+IG01+IG02排序） |
| IMIGLF1 | 邏輯檔案 | 存貨調整主檔邏輯檔案（本檔案） |
| IMIGPF | 實體檔案 | 存貨調整主檔實體檔案 |
| IMIHPF | 實體檔案 | 存貨調整明細檔實體檔案 |

## 4. 紀錄格式

| 格式名稱 | 說明 |
|----------|------|
| IG0 | 存貨調整主檔記錄格式（基於IMIGPF） |

## 5. 欄位代號、名稱、位置、長度、屬性、檢核說明

本邏輯檔案基於IMIGPF實體檔案，主要欄位包括：

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 說明 |
|----------|----------|------|------|------|------|------|
| IG05 | 調整日期 | 1 | - | - | 主鍵(降序) | 存貨調整日期（降序排列） |
| IG02 | 客戶代號 | 2 | - | - | 主鍵 | 客戶代號 |

*註：其他欄位繼承自IMIGPF實體檔案*

## 6. 主鍵欄位

本邏輯檔案的主鍵欄位為：
- IG05（調整日期）- 降序排列
- IG02（客戶代號）

### 主鍵特性：
- **IG05（調整日期）**：主鍵第一層，調整日期（降序排列）
- **IG02（客戶代號）**：主鍵第二層，客戶代號
- **雙層主鍵**：以調整日期(降序)+客戶代號作為複合排序
- **最新優先**：提供以最新調整日期為主的存取路徑

## 7. 索引資料

| 索引名稱 | 索引鍵 | 排序 | 用途說明 |
|----------|--------|------|----------|
| 主索引 | IG05+IG02 | 降序+升序 | 調整日期(降序)+客戶代號複合索引 |

### 索引特性：
- **日期降序索引**：調整日期為第一排序鍵（降序）
- **客戶升序索引**：客戶代號為第二排序鍵（升序）
- **最新優先查詢**：提供快速的最新日期客戶查詢
- **時間序列優化**：支援最新調整記錄的快速存取

## 8. 備註

1. **邏輯檔案特性**：
   - 存貨調整主檔的邏輯檔案
   - 基於IMIGPF實體檔案
   - 提供日期客戶排序的存取路徑（最新日期優先）
2. **存貨調整功能**：
   - 支援存貨調整作業的日期查詢
   - 提供調整時間序列的處理和查詢
   - 支援存貨調整作業的最新記錄管理
3. **排序設計**：
   - IG05(降序)+IG02的雙層排序
   - 調整日期降序排序設計
   - 支援最新日期為主的查詢需求
4. **與其他檔案關聯**：
   - 基於IMIGPF實體檔案
   - 與IMIGLF01、IMIGLF02形成多重存取路徑
   - 支援完整的存貨調整資料結構
5. **日期管理支援**：
   - 調整日期（IG05）降序管理
   - 客戶代號（IG02）管理
   - 完整的日期客戶組合管理
6. **業務應用**：
   - 存貨調整最新記錄查詢
   - 調整時間序列分析
   - 最新日期別調整記錄查詢
   - 調整時間趨勢管理
7. **系統整合**：
   - 與庫存管理系統（IMI系列）整合
   - 支援庫存狀態的調整作業
   - 提供完整的庫存調整管理
8. **資料存取優化**：
   - 最新日期優先的存取路徑
   - 快速的最新記錄查詢能力
   - 支援調整時間序列的即時查詢
9. **調整作業流程支援**：
   - 最新調整日期記錄
   - 最新調整日期執行記錄
   - 最新調整日期確認記錄
   - 最新調整日期完成記錄
10. **客戶管理整合**：
    - 客戶代號（IG02）作為主鍵第二層
    - 支援客戶別調整記錄管理
    - 提供客戶調整記錄查詢
11. **時間維度管理**：
    - 調整日期（IG05）作為主鍵第一層（降序）
    - 支援時間序列分析
    - 提供最新日期範圍查詢功能
12. **系統價值**：
    - 作為存貨調整系統的重要邏輯檔案
    - 提供高效的最新日期客戶查詢功能
    - 支援調整作業的各種最新記錄查詢需求
13. **特殊設計**：
    - 日期降序的排序設計
    - 雙層主鍵複合排序
    - 基於IMIGPF的邏輯檔案設計
14. **庫存影響管理**：
    - 與庫存系統緊密整合
    - 支援庫存調整狀態更新
    - 提供庫存調整作業功能
15. **決策支援**：
    - 提供最新調整決策資料
    - 支援調整政策制定
    - 提供調整效果評估
16. **合規管理**：
    - 支援調整作業合規要求
    - 提供調整記錄審計
    - 確保調整作業透明度
17. **調整統計功能**：
    - 支援最新調整數量統計
    - 提供最新調整金額統計
    - 支援調整趨勢分析
18. **品質管理整合**：
    - 最新調整日期（IG05）管理
    - 支援品質調整分析
    - 提供品質改善資料
19. **雙維度分析**：
    - 時間維度（IG05降序）
    - 客戶維度（IG02）
    - 完整的雙維度分析
20. **系統維護**：
    - 邏輯檔案易於維護
    - 資料一致性保證
    - 提供良好的系統維護性
21. **調整監控功能**：
    - 最新調整日期（IG05）監控
    - 支援調整作業狀態追蹤
    - 提供調整異常監控
22. **資料完整性保證**：
    - 基於IMIGPF實體檔案
    - 雙層主鍵約束確保資料完整性
    - 邏輯檔案確保資料一致性
23. **調整作業效率**：
    - 最新日期優先排序提升查詢效率
    - 合理的排序設計提升處理效率
    - 支援快速的調整作業處理
24. **系統擴展性**：
    - 良好的邏輯檔案結構設計
    - 支援未來功能擴展
    - 提供系統成長空間
25. **業務流程支援**：
    - 完整的調整作業流程支援
    - 從申請到確認的全程管理
    - 提供完整的業務流程基礎
26. **日期識別機制**：
    - 調整日期（IG05）作為主鍵第一層（降序）
    - 提供唯一的日期識別
    - 支援最新日期別的調整管理
27. **客戶分組管理**：
    - 客戶代號（IG02）作為主鍵第二層
    - 支援客戶分組分析
    - 提供客戶調整統計
28. **時間序列分析**：
    - 調整日期（IG05）降序連結相關時間
    - 支援時間序列的調整管理
    - 提供完整的時間追蹤
29. **庫存調整基礎**：
    - 提供庫存調整的最新時間基礎資料
    - 支援庫存數量調整
    - 確保庫存資料準確性
30. **調整類型支援**：
    - 支援各種調整類型管理
    - 提供調整分類功能
    - 支援調整原因分析
31. **存貨管理整合**：
    - 與存貨系統緊密整合
    - 支援存貨狀態調整
    - 提供存貨調整功能
32. **成本影響管理**：
    - 支援調整成本計算
    - 提供成本調整分析
    - 支援成本影響評估
33. **調整審核支援**：
    - 支援調整審核流程
    - 提供審核狀態管理
    - 確保調整作業合規
34. **報表支援功能**：
    - 提供調整報表資料
    - 支援調整統計報表
    - 支援調整分析報表
35. **最新記錄支援**：
    - 調整日期（IG05）降序支援最新記錄優先
    - 支援最新調整趨勢分析
    - 完整的最新記錄管理
36. **客戶調整組合管理**：
    - 客戶代號+最新調整日期的組合管理
    - 支援客戶調整組合分析
    - 提供客戶調整統計
37. **調整時間整合**：
    - 調整日期（IG05）降序連結相關檔案
    - 支援時間化的調整管理
    - 提供完整的時間追蹤
38. **調整會計支援**：
    - 支援調整會計處理
    - 提供會計分錄基礎
    - 支援成本分攤功能
39. **庫存盤點整合**：
    - 與庫存盤點系統整合
    - 支援盤點調整處理
    - 提供盤點差異調整功能
40. **最新記錄優先查詢**：
    - 調整日期（IG05）降序設計
    - 提供最新記錄優先查詢
    - 支援即時調整狀態監控
41. **客戶別最新記錄管理**：
    - 客戶代號（IG02）與最新日期組合
    - 支援客戶別最新調整記錄查詢
    - 提供客戶最新調整狀態
42. **調整效率優化**：
    - 最新記錄優先的存取設計
    - 減少查詢時間和系統負載
    - 提升調整作業處理效率
43. **即時監控支援**：
    - 最新調整日期（IG05）降序排列
    - 支援即時調整狀態監控
    - 提供調整異常即時發現
44. **業務決策支援**：
    - 最新調整記錄提供決策依據
    - 支援調整政策制定
    - 提供調整效果即時評估
45. **系統性能優化**：
    - 降序排列提升最新記錄查詢性能
    - 優化的索引設計
    - 提供高效的資料存取
46. **調整歷史管理**：
    - 最新記錄優先的歷史管理
    - 支援調整歷史追蹤
    - 提供完整的調整記錄
47. **客戶服務支援**：
    - 客戶別最新調整記錄查詢
    - 支援客戶服務需求
    - 提供客戶調整狀態查詢
48. **資料分析優化**：
    - 最新記錄優先的分析設計
    - 支援調整趨勢分析
    - 提供調整模式識別
49. **系統整合價值**：
    - 與其他調整檔案形成完整體系
    - 提供多角度的調整資料存取
    - 支援完整的調整管理功能
50. **未來擴展支援**：
    - 靈活的邏輯檔案設計
    - 支援未來功能需求
    - 提供系統成長基礎 