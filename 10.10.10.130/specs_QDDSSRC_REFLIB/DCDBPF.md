# DCDBPF 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | DCDBPF |
| 檔案類型 | 實體檔案 (Physical File) |
| 檔案用途 | 捷盟發票轉出一次檔 |
| 紀錄格式 | DB0 |
| 主鍵欄位 | DB02 |
| 排序方式 | 升序 |

## 2. 檔案功能說明

DCDBPF是捷盟發票轉出一次檔的主要實體檔案：

1. **主要功能**：儲存捷盟發票轉出的臨時資料
2. **資料內容**：包含發票輸出、發票日期、格式等轉出相關資訊
3. **系統用途**：支援捷盟介面系統的發票轉出作業
4. **一次性檔案**：用於批次處理發票轉出作業的暫存檔案
5. **資料結構**：採用分隔符號設計，便於資料匯出處理

## 3. 系統檔案清單

| 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|------|
| DCDBPF | 實體檔案 | 捷盟發票轉出一次檔（主檔案） |
| DCDAPF | 實體檔案 | 捷盟發票驗收單號對照檔（相關檔案） |

## 4. 紀錄格式

| 格式名稱 | 說明 |
|----------|------|
| DB0 | 捷盟發票轉出一次檔主記錄格式 |

## 5. 欄位代號、名稱、位置、長度、屬性、檢核說明

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 說明 |
|----------|----------|------|------|------|------|------|
| DB02 | 發票輸出 | 1 | 10 | 字元 | 主鍵 | 發票輸出標記 |
| SP01 | 分隔符號1 | 2 | 1 | 字元 | - | 欄位分隔符號 |
| DB03 | 發票年月日 | 3 | 8 | 數值 | - | 發票日期（YYYYMMDD） |
| SP02 | 分隔符號2 | 4 | 1 | 字元 | - | 欄位分隔符號 |
| DB04 | 年月 | 5 | 8 | 數值 | - | 年月（YYYYMM） |
| SP03 | 分隔符號3 | 6 | 1 | 字元 | - | 欄位分隔符號 |
| DB05 | 其他年月日 | 7 | 8 | 數值 | - | 其他相關日期 |
| SP04 | 分隔符號4 | 8 | 1 | 字元 | - | 欄位分隔符號 |
| DB06 | 發票日期 | 9 | 8 | 數值 | - | 發票日期 |
| SP05 | 分隔符號5 | 10 | 1 | 字元 | - | 欄位分隔符號 |
| DB07 | 發票格式 | 11 | 4 | 字元 | - | 發票格式代號 |
| SP06 | 分隔符號6 | 12 | 1 | 字元 | - | 欄位分隔符號 |
| DB10 | 驗收編號 | 13 | 10 | 字元 | - | 驗收單編號 |
| SP07 | 分隔符號7 | 14 | 1 | 字元 | - | 欄位分隔符號 |
| DB08 | DC編號 | 15 | 3 | 字元 | - | DC系統編號 |
| SP08 | 分隔符號8 | 16 | 1 | 字元 | - | 欄位分隔符號 |
| DB09 | 其他編號 | 17 | 10 | 字元 | - | 其他相關編號 |

## 6. 主鍵欄位

本實體檔案的主鍵欄位為：
- DB02（發票輸出）

### 主鍵特性：
- **單一欄位主鍵**：以發票輸出標記作為唯一識別
- **轉出控制**：確保每次轉出作業的唯一性
- **批次處理**：支援批次發票轉出作業

## 7. 索引資料

| 索引名稱 | 索引鍵 | 排序 | 用途說明 |
|----------|--------|------|----------|
| 主索引 | DB02 | 升序 | 發票輸出標記查詢 |

### 索引特性：
- **單一索引**：以發票輸出為主要存取鍵值
- **轉出順序**：按發票輸出標記順序處理
- **效能考量**：提供快速的發票轉出查詢
- **批次控制**：支援批次轉出作業的順序控制

## 8. 備註

1. **一次性檔案**：專門用於發票轉出的臨時處理檔案
2. **分隔符號設計**：
   - SP01-SP08：8個分隔符號欄位
   - 便於資料匯出和格式化處理
   - 支援CSV或其他分隔格式的資料轉換
3. **日期欄位**：
   - DB03：發票年月日（完整日期）
   - DB04：年月（月份統計用）
   - DB05：其他年月日（備用日期）
   - DB06：發票日期（主要日期欄位）
4. **編號管理**：
   - DB10：驗收編號（業務編號）
   - DB08：DC編號（系統編號）
   - DB09：其他編號（擴充編號）
5. **轉出控制**：
   - DB02：發票輸出標記（轉出控制）
   - DB07：發票格式（格式控制）
6. **系統整合**：與DCDAPF檔案配合進行發票轉出處理
7. **業務應用**：
   - 捷盟發票批次轉出
   - 發票資料匯出處理
   - 介面檔案產生
   - 轉出狀態管理
8. **資料流程**：
   - 從DCDAPF讀取發票資料
   - 轉換為DCDBPF格式
   - 進行批次轉出處理
   - 產生介面檔案
9. **特殊設計**：分隔符號的設計使得資料易於解析和處理 