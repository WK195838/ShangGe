# DC01PF 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | DC01PF |
| 檔案類型 | 實體檔案 (Physical File) |
| 檔案用途 | 捷盟發票下載檔 |
| 紀錄格式 | DC0 |
| 主鍵欄位 | DC11+DC01+DC02 |
| 排序方式 | 升序 |

## 2. 檔案功能說明

DC01PF是捷盟發票下載的主要實體檔案：

1. **主要功能**：儲存捷盟發票下載資料
2. **資料內容**：包含客戶代號、發票輸出狀態、發票日期等關鍵資訊
3. **系統用途**：支援捷盟介面系統的發票下載作業
4. **索引設計**：以客戶代號+客戶代號+發票輸出為複合主鍵
5. **資料管理**：提供發票下載的完整資訊

## 3. 系統檔案清單

| 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|------|
| DC01PF | 實體檔案 | 捷盟發票下載檔（主檔案） |
| DC01LF01 | 邏輯檔案 | 基於DC01PF的邏輯檔案 |

## 4. 紀錄格式

| 格式名稱 | 說明 |
|----------|------|
| DC0 | 捷盟發票下載主記錄格式 |

## 5. 欄位代號、名稱、位置、長度、屬性、檢核說明

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 說明 |
|----------|----------|------|------|------|------|------|
| DC11 | 客戶代號 | 1 | 2 | 字元 | 主鍵 | 客戶代號（簡碼） |
| DC01 | 客戶代號 | 2 | 9 | 字元 | 主鍵 | 客戶代號（完整） |
| DC02 | 發票輸出 | 3 | 10 | 字元 | 主鍵 | 發票輸出標記 |
| DC03 | 發票年月日 | 4 | 8 | 數值 | - | 發票日期（YYYYMMDD） |
| DC04 | 年月 | 5 | 6 | 數值 | - | 年月（YYYYMM） |
| DC05 | 其他年月日 | 6 | 8 | 數值 | - | 其他相關日期 |
| DC06 | 發票日期 | 7 | 8 | 數值 | 編輯字 | 發票日期，編輯格式：____/__/__ |
| DC07 | 發票格式 | 8 | 4 | 字元 | - | 發票格式代號 |
| DC10 | 驗收編號 | 9 | 10 | 字元 | - | 驗收單編號 |
| DC08 | DC編號 | 10 | 3 | 字元 | - | DC系統編號 |
| DC09 | 其他編號 | 11 | 10 | 字元 | - | 其他相關編號 |
| DC12 | 資料標記 | 12 | 1 | 字元 | - | 資料狀態標記 |
| DCXX | 異動代號 | 13 | 8 | 數值 | - | 異動識別代號 |
| DCYY | 異動時間 | 14 | 6 | 數值 | - | 異動時間（HHMMSS） |
| DCZZ | 異動者 | 15 | 10 | 字元 | - | 異動操作者 |

## 6. 主鍵欄位

本實體檔案的主鍵欄位為：
- DC11（客戶代號）
- DC01（客戶代號）
- DC02（發票輸出）

### 主鍵特性：
- **DC11（客戶代號）**：第一層分類，客戶簡碼識別
- **DC01（客戶代號）**：第二層分類，客戶完整代號
- **DC02（發票輸出）**：第三層分類，發票輸出狀態分類

## 7. 索引資料

| 索引名稱 | 索引鍵 | 排序 | 用途說明 |
|----------|--------|------|----------|
| 主索引 | DC11+DC01+DC02 | 升序 | 客戶+發票輸出複合查詢 |

### 索引特性：
- **複合索引**：三個欄位組成的複合主鍵
- **客戶分層**：支援客戶簡碼和完整代號的雙層客戶識別
- **狀態分類**：按發票輸出狀態進行分類管理
- **查詢效能**：提供高效的客戶和狀態別資料存取路徑

## 8. 備註

1. **捷盟專用檔案**：專門用於捷盟通路的發票下載管理
2. **雙重客戶識別**：
   - DC11：客戶代號簡碼（2位）
   - DC01：客戶代號完整（9位）
   - 提供靈活的客戶識別機制
3. **日期欄位**：
   - DC03：發票年月日（數值格式）
   - DC06：發票日期（編輯格式顯示）
   - DC05：其他年月日（備用日期欄位）
   - DC04：年月（月份統計用）
4. **編號管理**：
   - DC10：驗收編號（主要業務編號）
   - DC08：DC編號（系統內部編號）
   - DC09：其他編號（擴充編號欄位）
5. **狀態控制**：
   - DC12：資料標記（狀態控制）
   - DC02：發票輸出（輸出狀態）
   - DC07：發票格式（格式控制）
6. **異動追蹤**：包含異動代號、時間、操作者等完整追蹤資訊
7. **系統整合**：作為DC01LF01邏輯檔案的基礎
8. **業務應用**：
   - 捷盟發票下載管理
   - 客戶發票查詢
   - 發票狀態追蹤
   - 介面資料處理
9. **與其他DC檔案的關係**：
   - 與DCDAPF：發票驗收單號對照
   - 與DCDBPF：發票轉出處理
   - 與DC01LF01：提供邏輯檔案基礎
10. **資料完整性**：透過複合主鍵約束確保資料的唯一性和完整性
11. **下載管理**：專門處理捷盟系統的發票下載相關作業 