# IMILPF 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案代號 | IMILPF |
| 檔案名稱 | 禮盒組拆明細檔 |
| 檔案類型 | PF (實體檔案) |
| 資料庫 | REFLIB |
| 記錄格式 | IL0 |
| 主鍵 | IL02 + IL05 |
| 索引屬性 | UNIQUE |

## 2. 檔案功能說明

此實體檔案為禮盒組拆明細檔，記錄禮盒組拆作業的明細資料。檔案以產品代號加產品項次代號作為唯一主鍵，記錄組拆的詳細資訊，包括組拆數量、組拆日期、成本資訊等。此檔案支援禮盒組裝和拆解的完整流程管理，包含組裝（+1）和拆解（-1）的標識功能。

## 3. 系統檔案清單

| 檔案代號 | 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|----------|------|
| IMILPF | 禮盒組拆明細檔 | PF | 實體檔案 |
| RERF | 參照檔案 | - | 欄位定義參照 |

## 4. 紀錄格式

### 記錄格式：IL0
- **檔案類型**：實體檔案
- **參照檔案**：REF(RERF)
- **索引屬性**：UNIQUE
- **主鍵欄位**：IL02 + IL05

## 5. 欄位代號、名稱、位置、長度、屬性、檢核說明

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|----------|----------|
| IL01 | 單據編號 | - | - | - | R | 參照 RERF(#B01)，單據編號 |
| IL02 | 產品代號 | - | - | - | R,K | 參照 RERF，產品代號，主鍵欄位1 |
| IL03 | 產品項次代號 | - | - | - | R | 參照 RERF(#D03)，產品項次代號 |
| IL04 | 組拆日期 | - | 8 | N | R | 參照 RERF(#AXX)，組拆日期，格式：YYYYMMDD |
| IL05 | 產品項次代號 | - | - | - | R,K | 參照 RERF(MA01)，產品項次代號，主鍵欄位2 |
| IL06 | 數量 | - | - | - | R | 參照 RERF，數量 |
| IL07 | 組拆標識 | - | - | - | R | 參照 RERF，組拆標識（+1:組裝, -1:拆解） |
| IL08 | FOB總成本 | - | - | - | R | 參照 RERF，FOB總成本 |
| IL09 | FHI總成本 | - | - | - | R | 參照 RERF，FHI總成本 |
| IL10 | 關稅總成本 | - | - | - | R | 參照 RERF，關稅總成本 |
| ILXX | 建立日期 | - | 8 | N | R | 參照 RERF(#AXX)，建立日期，格式：YYYYMMDD |
| ILYY | 建立時間 | - | - | - | R | 參照 RERF(#AYY)，建立時間 |
| ILZZ | 建立人員 | - | - | - | R | 參照 RERF(#AZZ)，建立人員 |

## 6. 主鍵欄位

| 主鍵順序 | 欄位代號 | 欄位名稱 | 排序 |
|----------|----------|----------|------|
| 1 | IL02 | 產品代號 | ASC |
| 2 | IL05 | 產品項次代號 | ASC |

## 7. 索引資料

### 主要索引
- **索引鍵值**：IL02 + IL05 (產品代號 + 產品項次代號)
- **索引類型**：複合主鍵索引
- **索引屬性**：UNIQUE（唯一性約束）
- **排序方式**：遞增排序
- **用途**：確保每個產品代號和產品項次代號組合的唯一性

## 8. 備註

1. 此檔案為禮盒組拆明細檔的實體檔案
2. 具有 UNIQUE 屬性，確保主鍵的唯一性
3. 所有欄位定義均參照 RERF 檔案
4. 支援禮盒組裝和拆解的完整流程
5. 組拆標識欄位：+1 表示組裝，-1 表示拆解
6. 包含完整的成本資訊：FOB、FHI、關稅總成本
7. 記錄建立相關資訊：建立日期、時間、人員
8. 組拆日期和建立日期採用 YYYYMMDD 格式
9. 為禮盒組拆邏輯檔案提供基礎資料來源
10. 支援禮盒產品的組裝和拆解管理
11. 產品代號和產品項次代號組合作為唯一識別
12. 適用於禮盒類產品的庫存管理和成本計算 