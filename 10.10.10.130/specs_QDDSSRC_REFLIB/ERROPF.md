# ERROPF 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | ERROPF |
| 檔案類型 | 實體檔案 (Physical File) |
| 檔案用途 | 客戶帳款資料錯誤檔 |
| 紀錄格式 | ER0 |
| 主鍵欄位 | ER01+ER02 |
| 排序方式 | 升序 |
| 特殊屬性 | UNIQUE |

## 2. 檔案功能說明

ERROPF是客戶帳款資料錯誤處理的檔案：

1. **主要功能**：儲存客戶帳款資料處理時的錯誤記錄
2. **資料內容**：包含錯誤日期、客戶名稱、各種帳款代碼等錯誤資訊
3. **系統用途**：支援客戶帳款資料錯誤追蹤和處理
4. **索引設計**：以錯誤日期+客戶名稱為複合主鍵
5. **唯一性約束**：使用UNIQUE屬性確保記錄不重複

## 3. 系統檔案清單

| 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|------|
| ERROPF | 實體檔案 | 客戶帳款資料錯誤檔（主檔案） |
| RERF | 參考檔案 | 參考欄位定義檔 |

## 4. 紀錄格式

| 格式名稱 | 說明 |
|----------|------|
| ER0 | 客戶帳款錯誤主記錄格式 |

## 5. 欄位代號、名稱、位置、長度、屬性、檢核說明

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 說明 |
|----------|----------|------|------|------|------|------|
| ER01 | 錯誤日期 | 1 | 8 | 數值 | 參考#AXX/主鍵 | 錯誤發生日期 |
| ER02 | 客戶名稱 | 2 | - | 字元 | 參考MD01/主鍵 | 客戶名稱 |
| ER03 | 信用代碼 | 3 | - | 字元 | 參考MD29 | 信用狀況代碼 |
| ER04 | 計息信用代碼 | 4 | - | 字元 | 參考MD30 | 計息信用狀況代碼 |
| ER05 | 帳款狀態 | 5 | - | 字元 | 參考MD31 | 帳款狀態代碼 |
| ER06 | 風險等級 | 6 | - | 字元 | 參考MD32 | 風險等級代碼 |

## 6. 主鍵欄位

本實體檔案的主鍵欄位為：
- ER01（錯誤日期）
- ER02（客戶名稱）

### 主鍵特性：
- **ER01（錯誤日期）**：第一層分類，按錯誤發生日期排序
- **ER02（客戶名稱）**：第二層分類，客戶識別

## 7. 索引資料

| 索引名稱 | 索引鍵 | 排序 | 用途說明 |
|----------|--------|------|----------|
| 主索引 | ER01+ER02 | 升序 | 錯誤記錄查詢 |

### 索引特性：
- **複合索引**：兩個欄位組成的複合主鍵
- **時間排序**：按錯誤發生日期進行時間序列管理
- **客戶分類**：提供客戶別的錯誤記錄存取

## 8. 備註

1. **錯誤處理檔案**：專門用於客戶帳款資料處理錯誤的記錄和追蹤
2. **唯一性約束**：
   - 使用UNIQUE屬性
   - 確保相同日期和客戶的錯誤記錄不重複
   - 提供資料完整性保護
3. **參考欄位設計**：
   - 使用REF(RERF)參考檔案定義
   - ER01參考#AXX（日期格式）
   - ER02參考MD01（客戶名稱）
   - ER03參考MD29（信用代碼）
   - ER04參考MD30（計息信用代碼）
   - ER05參考MD31（帳款狀態）
   - ER06參考MD32（風險等級）
4. **客戶帳款管理**：
   - ER03：信用代碼（客戶信用狀況）
   - ER04：計息信用代碼（利息計算相關）
   - ER05：帳款狀態（帳款處理狀態）
   - ER06：風險等級（客戶風險評估）
5. **錯誤追蹤功能**：
   - 按日期記錄錯誤發生時間
   - 識別發生錯誤的客戶
   - 記錄相關的帳款狀態資訊
6. **資料品質控制**：
   - 協助識別客戶帳款資料的問題
   - 提供錯誤修正的依據
   - 支援資料清理作業
7. **業務應用**：
   - 客戶帳款錯誤分析
   - 資料品質監控
   - 異常客戶識別
   - 帳款處理問題追蹤
8. **檔案特色**：
   - 輕量化設計：6個欄位，結構簡潔
   - 錯誤導向：專注於錯誤記錄管理
   - 唯一約束：防止重複錯誤記錄
9. **系統整合**：
   - 與RERF參考檔案整合
   - 與客戶主檔（MD系列）關聯
   - 支援帳款處理系統的錯誤管理
10. **資料處理**：
    - 錯誤記錄的新增和查詢
    - 客戶帳款問題的識別
    - 資料修正作業的支援
11. **品質保證**：透過錯誤記錄機制提升客戶帳款資料的準確性和完整性 