# WF#GPF 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | WF#GPF |
| 檔案類型 | 實體檔 (PF) |
| 檔案描述 | 傳票介面控制檔 |
| 作業系統 | AS/400 |
| 資料庫 | DB2/400 |
| 關聯參考檔 | RERF |

## 2. 檔案功能說明

此檔案為傳票系統的核心介面控制檔，負責管理傳票編號的產生與控制。主要功能：
- 控制傳票編號的統一產生機制
- 確保傳票編號的唯一性及順序性
- 記錄傳票處理的確認狀態
- 提供傳票建立及維護的時間追蹤
- 支援傳票作業的介面控制

## 3. 系統檔案清單

| 項目 | 檔案名稱 | 類型 | 說明 |
|------|----------|------|------|
| 主檔 | WF#GPF | PF | 傳票介面控制檔 |
| 參考檔 | RERF | PF | 系統參考檔 |

## 4. 紀錄格式

### 記錄格式：WF#GR
**唯一性約束：UNIQUE**

| 欄位代號 | 欄位名稱 | 型態 | 長度 | 小數 | 屬性 | 說明 |
|----------|----------|------|------|------|------|------|
| #G01 | 介面控制編號 | A | 12 | 0 | 主鍵 | 傳票介面控制編號 |
| #G02 | 確認日期 | S | 8 | 0 | REFFLD(#AXX) | 傳票確認日期 |
| #GXX | 建立日期 | S | 8 | 0 | REFFLD(#AXX) | 記錄建立日期 |
| #GYY | 建立時間 | S | 6 | 0 | REFFLD(#AYY) | 記錄建立時間 |
| #GZZ | 建立人員 | A | 10 | 0 | REFFLD(#AZZ) | 記錄建立人員 |

## 5. 主鍵欄位

| 順序 | 欄位代號 | 欄位名稱 | 排序方式 |
|------|----------|----------|----------|
| 1 | #G01 | 介面控制編號 | 遞增 |

## 6. 索引資料

### 索引鍵值
- **主索引**：#G01
- **唯一性約束**：UNIQUE
- **排序方式**：遞增

### 存取路徑
此檔案提供以下存取路徑：
1. 依介面控制編號直接存取
2. 支援傳票編號的唯一性檢查
3. 提供傳票系統的集中控制機制

## 7. 使用說明

### 查詢功能
- 支援依介面控制編號查詢
- 提供傳票確認狀態檢索
- 支援建立日期範圍查詢
- 支援建立人員查詢

### 作業程序
1. 傳票系統產生新的控制編號
2. 記錄建立日期、時間及人員
3. 處理完成後更新確認日期
4. 提供傳票作業的統一控制

### 維護作業
- **新增**：系統自動產生新的控制記錄
- **查詢**：支援多重條件檢索
- **更新**：更新確認狀態及日期
- **管控**：確保編號唯一性

### 注意事項
- 檔案具有UNIQUE約束，避免重複編號
- 確認日期欄位可能為空值，代表未確認狀態
- 建立相關欄位系統自動維護
- 介面控制編號為傳票系統核心識別

## 8. 備註

- 此檔案為傳票系統的核心控制檔案
- 檔名含有特殊字元#，需特別注意系統相容性
- 參考RERF檔案的欄位定義標準
- 提供傳票編號的集中管理機制
- 支援傳票作業的統一控制及追蹤
- 唯一性約束確保資料完整性 