# IMIIPF 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案代號 | IMIIPF |
| 檔案名稱 | 存貨調撥主檔 |
| 檔案類型 | PF (實體檔案) |
| 資料庫 | REFLIB |
| 記錄格式 | II0 |
| 主鍵欄位 | II02 |
| 檔案屬性 | UNIQUE |

## 2. 檔案功能說明

此實體檔案為存貨調撥主檔，用於記錄產品在不同倉庫或地點間的調撥作業主要資訊。檔案具有 UNIQUE 屬性，以產品代號作為主鍵，確保每個產品代號在調撥作業中的唯一性。主要功能包括記錄調撥單據編號、產品代號、出貨入貨項次代號、調撥日期、入庫日期、確認狀態等完整的調撥作業資訊，是存貨調撥管理系統的核心檔案。

## 3. 系統檔案清單

| 檔案代號 | 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|----------|------|
| IMIIPF | 存貨調撥主檔 | PF | 實體檔案 |

## 4. 紀錄格式

### 記錄格式：II0
- **參照檔案**：RERF (參考檔案)
- **檔案屬性**：UNIQUE (唯一性約束)
- **存取方式**：直接存取

## 5. 欄位代號、名稱、位置、長度、屬性、檢核說明

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|------|----------|
| II01 | 單據編號或出貨 | - | - | - | R | 參照 RERF，單據編號或出貨編號 |
| II02 | 產品代號 | - | - | - | R | 參照 RERF，產品代號，主鍵欄位 |
| II03 | 出貨產品項次代號 | - | - | - | R | 參照 RERF，出貨產品項次代號 |
| II04 | 入貨產品項次代號 | - | - | - | R | 參照 RERF，入貨產品項次代號 |
| II05 | 調撥日期 | - | 8 | 數值 | R | 調撥日期 (YYYYMMDD 格式) |
| II06 | 產品入庫日期 | - | 8 | 數值 | R | 產品入庫日期 (YYYYMMDD 格式) |
| II07 | 確認狀態 | - | - | - | R | 參照 RERF，確認狀態 |
| II08 | 庫存狀態 | - | - | - | R | 參照 RERF，庫存狀態 |
| II09 | 單據編號或收貨 | - | - | - | R | 參照 RERF，單據編號或收貨編號 |
| IIXX | 建立日期 | - | 8 | 數值 | R | 建立日期 (YYYYMMDD 格式) |
| IIYY | 建立時間 | - | - | - | R | 參照 RERF，建立時間 |
| IIZZ | 建立人員 | - | - | - | R | 參照 RERF，建立人員 |

## 6. 主鍵欄位

| 主鍵順序 | 欄位代號 | 欄位名稱 | 排序 |
|----------|----------|----------|------|
| 1 | II02 | 產品代號 | ASC |

## 7. 索引資料

### 主要索引
- **索引鍵值**：II02 (產品代號)
- **索引類型**：主鍵索引
- **唯一性**：UNIQUE 約束
- **排序方式**：遞增排序
- **用途**：確保產品代號的唯一性，支援快速的產品查詢

### 檔案屬性
- **UNIQUE**：確保主鍵的唯一性約束
- **REF(RERF)**：參照 RERF 檔案的欄位定義

## 8. 備註

1. 此檔案為存貨調撥主檔的實體檔案，是調撥作業的核心資料表
2. 具有 UNIQUE 屬性，確保產品代號的唯一性
3. 所有欄位定義均參照 RERF 檔案，確保資料一致性
4. 以產品代號作為主鍵，支援快速的產品查詢和維護
5. 產品代號編碼格式：XX-XX-X-XX-XXXXX (單位-類別-系列人-規格異動-序號)
6. 記錄完整的調撥流程資訊，包括出貨入貨項次、日期、狀態等
7. 支援多個邏輯檔案的基礎資料來源
8. 日期欄位採用 YYYYMMDD 格式儲存
9. 建立相關欄位用於追蹤資料建立的時間和人員
10. 確認狀態和庫存狀態欄位用於控制調撥作業的流程管理
11. 此檔案為存貨管理系統中調撥作業的主控檔案 