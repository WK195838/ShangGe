# SOSLPF 檔案規格書

## 1. 基本資料
- **檔案名稱**: SOSLPF
- **檔案類型**: PF (實體檔案)
- **檔案說明**: 專櫃目標達成率資料檔
- **建立日期**: (依系統記錄)
- **最後異動日期**: (依系統記錄)

## 2. 檔案功能說明
此實體檔案用於儲存專櫃目標達成率相關資料，包含專櫃編號、年月、產品別等基本資訊，以及各月份的專櫃銷貨金額目標資料，支援專櫃目標管理與達成率統計分析。

### 主要功能
- 專櫃目標資料管理
- 月別專櫃目標金額記錄
- 專櫃目標達成率計算基礎
- 專櫃績效評估支援

## 3. 系統檔案清單
| 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|------|
| SOSLPF | PF | 專櫃目標達成率資料檔 (主檔案) |
| SOSLLF | LF | 專櫃目標達成率資料檔邏輯檔案 |
| SOSLLF01 | LF | 專櫃目標達成率資料檔邏輯檔案 |

## 4. 紀錄格式

### 4.1 檔案設定
```
REF(RERF)          // 參考檔案
UNIQUE             // 唯一性約束
```

### 4.2 欄位定義
| 欄位代號 | 欄位名稱 | 型態 | 長度 | 小數 | 說明 |
|----------|----------|------|------|------|------|
| SL01 | 專櫃編號 | A | - | - | 專櫃編號 |
| SL02 | 年月 | N | 4 | 0 | 年月 (格式: YYMM) |
| SL03 | 產品別 | A | - | - | 產品別 |
| SL04 | 銷貨金額年度 | N | - | - | 年度銷貨金額目標 |
| SL05 | 銷貨金額四月 | N | - | - | 四月銷貨金額目標 |
| SL06 | 銷貨金額五月 | N | - | - | 五月銷貨金額目標 |
| SL07 | 銷貨金額六月 | N | - | - | 六月銷貨金額目標 |
| SL08 | 銷貨金額七月 | N | - | - | 七月銷貨金額目標 |
| SL09 | 銷貨金額八月 | N | - | - | 八月銷貨金額目標 |
| SL10 | 銷貨金額九月 | N | - | - | 九月銷貨金額目標 |
| SL11 | 銷貨金額十月 | N | - | - | 十月銷貨金額目標 |
| SL12 | 銷貨金額十一月 | N | - | - | 十一月銷貨金額目標 |
| SL13 | 銷貨金額十二月 | N | - | - | 十二月銷貨金額目標 |
| SL14 | 銷貨金額一月 | N | - | - | 一月銷貨金額目標 |
| SL15 | 銷貨金額二月 | N | - | - | 二月銷貨金額目標 |
| SL16 | 銷貨金額三月 | N | - | - | 三月銷貨金額目標 |
| SLXX | 異動日期 | N | 8 | 0 | 異動日期 |
| SLYY | 異動時間 | A | - | - | 異動時間 |
| SLZZ | 異動者 | A | - | - | 異動者代號 |

### 4.3 月別目標設計
#### 金額目標欄位群組 (SL05-SL16)
- 涵蓋全年12個月的專櫃銷貨金額目標
- 按年度月份順序排列 (4月起始)

### 4.4 專櫃目標特色
專門針對專櫃管理設計，以金額目標為主要管理指標

## 5. 主鍵欄位
- **主要鍵值**: SL01 + SL02 + SL03
- **排序方式**: 專櫃編號、年月、產品別升序
- **索引類型**: 復合索引，三層專櫃分類
- **唯一性**: UNIQUE約束，確保組合鍵唯一

## 6. 索引資料
- **排序方式**: SL01 + SL02 + SL03
- **索引類型**: 復合索引，支援專櫃目標查詢
- **特殊屬性**: REF(RERF)參考、UNIQUE約束

## 7. 使用說明

### 7.1 檔案用途
- 專櫃目標資料儲存
- 月別專櫃目標金額管理
- 專櫃目標達成率計算基礎
- 專櫃績效評估

### 7.2 程式存取方式
```rpg
// 讀取特定專櫃年月目標資料
CHAIN (專櫃編號:年月:產品別) SOSLPF;
// 更新專櫃目標資料
UPDATE SL0;
// 新增專櫃目標資料
WRITE SL0;
```

### 7.3 專櫃目標管理特色
- **專櫃導向**: 以專櫃為主要管理單位
- **完整月別**: 涵蓋全年12個月目標設定
- **金額管理**: 專注於銷貨金額目標管理
- **產品分類**: 支援產品別目標設定

### 7.4 業務應用場景
- **專櫃目標設定**: 年度與月別專櫃目標設定
- **達成追蹤**: 專櫃實際銷貨與目標達成追蹤
- **績效評估**: 專櫃績效評估與比較
- **預算規劃**: 專櫃銷貨預算規劃與管理

### 7.5 與SOSKPF比較
| 項目 | SOSKPF | SOSLPF |
|------|--------|--------|
| 管理對象 | 客戶銷貨目標 | 專櫃目標 |
| 目標類型 | 數量+金額 | 金額 |
| 主鍵層級 | 8層 | 3層 |
| 複雜度 | 高 | 中 |

### 7.6 資料完整性
- **UNIQUE約束**: 確保每個組合鍵唯一性
- **REF(RERF)**: 參考檔案確保資料一致性
- **異動記錄**: SLXX/SLYY/SLZZ完整異動追蹤

### 7.7 專櫃管理應用
- **專櫃分析**: 專櫃別目標達成分析
- **產品比較**: 同專櫃不同產品比較
- **時序統計**: 專櫃目標時序統計
- **績效排名**: 專櫃績效排名分析

### 7.8 報表統計支援
- **專櫃統計**: 各專櫃目標金額統計
- **月別統計**: 各月專櫃目標統計
- **產品分析**: 專櫃產品別目標分析
- **達成率計算**: 專櫃目標達成率計算

## 8. 備註
- 此實體檔案為專櫃目標管理的核心檔案
- 專門針對專櫃管理需求設計，結構相對簡化
- 提供完整的月別專櫃金額目標管理
- 透過UNIQUE約束與REF參考確保資料完整性與一致性 