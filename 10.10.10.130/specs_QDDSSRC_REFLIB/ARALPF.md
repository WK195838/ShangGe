# ARALPF 檔案規格書

## 1. 基本資料
- 檔名: ARALPF
- 類型: PF (Physical File)
- 說明: 銷貨折讓明細稅額檔
- 主鍵: AL02+AL03+AL04
- 建立日期: (待補)
- 最後修改日期: (待補)
- 參考檔: RERF
- 索引約束: UNIQUE

## 2. 檔案功能說明
此實體檔案為銷貨折讓明細稅額檔，提供以下功能：
- 記錄銷貨折讓明細的稅額資料
- 儲存銷貨折讓明細的稅額計算資訊
- 支援銷貨折讓明細稅額的完整生命週期管理
- 提供銷貨折讓明細稅額與主檔的對應關係
- 記錄銷貨折讓明細的稅務處理資訊
- 支援應收帳款管理系統的銷貨折讓明細稅額處理
- 提供銷貨折讓明細稅額資料的主要儲存結構
- 記錄銷貨折讓明細的稅額計算結果
- 支援銷貨折讓明細稅額的查詢與報表作業
- 支援營業稅相關的稅額計算作業

## 3. 系統檔案清單
- 主要實體檔: ARALPF (銷貨折讓明細稅額檔)
- 相關檔案: 
  - ARAGPF (銷貨折讓明細檔)
  - ARAMPF (銷貨折讓稅額主檔)
  - ARANPF (銷貨折讓稅額明細檔)
- 參考檔: RERF (系統參考檔)

## 4. 紀錄格式
實體檔案記錄格式，包含完整的銷貨折讓明細稅額資料欄位，支援 UNIQUE 約束確保資料唯一性。

## 5. 欄位代號、名稱、位置、長度、屬性、檢核說明
| 欄位代號 | 名稱 | 位置 | 長度 | 屬性 | 檢核說明 |
|----------|------|------|------|------|----------|
| AL01 | 公司別 | 1-2 | 2A | 文字 | 參考 AG01，必填，公司代碼 |
| AL02 | 折讓單號 | 3-14 | 12A | 文字 | 參考 AG02，必填，折讓單號 |
| AL03 | 產品代號 | 15-29 | 15A | 文字 | 參考 AG03，必填，產品識別碼 |
| AL04 | 發票號碼 | 30-37 | 8A | 文字 | 參考 AG04，必填，發票號碼 |
| AL07 | 折讓稅額 | 38-46 | 9P0 | 數值 | 參考 AG07，折讓稅額，以分為單位 |
| ALXX | 異動日期 | 47-54 | 8S0 | 日期 | 參考 AGXX，最後異動日期 |
| ALYY | 異動時間 | 55-60 | 6S0 | 時間 | 參考 AGYY，最後異動時間 |
| ALZZ | 異動者 | 61-70 | 10A | 文字 | 參考 AGZZ，最後異動人員 |

## 6. 主鍵欄位
- 主鍵: AL02 + AL03 + AL04
  - AL02: 折讓單號
  - AL03: 產品代號
  - AL04: 發票號碼
- 約束類型: UNIQUE (唯一約束)

## 7. 索引資料
- 主要索引: AL02 + AL03 + AL04 (依折讓單號、產品代號、發票號碼)
- 索引類型: 唯一索引 (UNIQUE)
- 排序特性: 
  - 第一層: 折讓單號 (AL02)
  - 第二層: 產品代號 (AL03)
  - 第三層: 發票號碼 (AL04)

## 8. 備註
- 此實體檔案為銷貨折讓明細稅額的主要儲存結構
- 使用 UNIQUE 約束確保折讓明細稅額記錄的唯一性
- 支援銷貨折讓明細稅額的完整資訊管理
- 記錄銷貨折讓明細的稅額計算資訊
- 與銷貨折讓明細檔(ARAGPF)密切相關，透過折讓單號、產品代號、發票號碼關聯
- 支援應收帳款管理系統的銷貨折讓明細稅額處理
- 記錄銷貨折讓明細的稅務處理資訊
- 支援銷貨折讓明細稅額的查詢、報表與統計分析
- 包含完整的異動追蹤欄位(日期、時間、異動者)
- 支援營業稅相關的稅額計算作業
- 所有欄位都參考自銷貨折讓明細檔(ARAGPF)的對應欄位
- 提供銷貨折讓明細稅額的獨立管理功能
- 用於銷貨折讓的稅額計算與申報作業
- 支援銷貨折讓稅額的分離式管理架構 