# SOSGLF07 檔案規格書

## 1. 基本資料
- **檔案名稱**: SOSGLF07
- **檔案類型**: LF (邏輯檔案)
- **基底檔案**: SOSGPF (銷貨退回主檔)
- **檔案說明**: 銷貨退回主檔邏輯檔案 - 特定店代發票追蹤
- **建立日期**: (依系統記錄)
- **最後異動日期**: (依系統記錄)

## 2. 檔案功能說明
此邏輯檔案提供以原發票號為主的排序索引，專門用於特定店代名稱的退貨查詢，支援銷貨退回按原發票與店代的選擇性查詢需求。

### 主要功能
- 特定店代發票退貨追蹤
- 店代退貨分析
- 選擇性店代管理

## 3. 系統檔案清單
| 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|------|
| SOSGPF | PF | 銷貨退回主檔 (基底檔案) |
| SOSGLF07 | LF | 銷貨退回主檔邏輯檔案 |

## 4. 紀錄格式

### 4.1 邏輯檔案設定
```
PFILE(SOSGPF)      // 基底實體檔案
```

### 4.2 關鍵欄位 (Key Fields)
| 順序 | 欄位代號 | 欄位名稱 | 型態 | 長度 | 排序 | 說明 |
|------|----------|----------|------|------|------|------|
| 1 | SG09 | 原發票號 | A | 15 | ASC | 主要排序鍵 |

### 4.3 選擇條件 (SELECT/OMIT)
| 條件類型 | 欄位代號 | 條件 | 值 | 說明 |
|----------|----------|------|----|----|
| SELECT | SG04 | VALUES | 'A0002','B0000' | 選擇特定店代名稱 |

### 4.4 店代名稱說明
| 店代代號 | 說明 |
|----------|------|
| A0002 | 店代 A0002 |
| B0000 | 店代 B0000 |

## 5. 主鍵欄位
- **主要鍵值**: SG09 (原發票號)
- **排序方式**: 原發票號升序
- **索引類型**: 單一索引，特定店代專用

## 6. 索引資料
- **排序方式**: SG09 (原發票號)
- **索引類型**: 單一索引，特定店代專用
- **特殊屬性**: 包含選擇條件

## 7. 使用說明

### 7.1 檔案用途
- 特定店代銷貨退回原發票追蹤
- 店代退貨追蹤
- 店代退貨分析

### 7.2 程式存取方式
```rpg
// 依原發票號查詢特定店代
SETLL (原發票號) SOSGLF07;
READ SOSGLF07;
// 直接讀取特定店代退貨記錄
CHAIN (原發票號) SOSGLF07;
```

### 7.3 店代選擇邏輯
- **僅顯示 A0002 與 B0000 店代的退貨記錄**
- **自動篩選特定店代資料**

## 8. 備註
- 此邏輯檔案專注於特定店代的發票退貨管理
- 提供選擇性的店代退貨查詢功能
- 支援店代退貨業務的精確分析
- 專門用於特定店代的發票退貨管理 