# SOVQLF03 檔案規格書

## 1. 基本資料

| 欄位 | 內容 |
|------|------|
| 檔案名稱 | SOVQLF03 |
| 檔案描述 | 媒體申報資料擷取邏輯檔 |
| 檔案類型 | 邏輯檔案 (LF) |
| 記錄格式 | VQ0 |
| 關鍵字 | VQ91+VQ92+VQ04+VQ16 |
| 實體檔案 | SOVQPF |
| 作業系統 | AS/400 |
| 資料庫 | DB2/400 |
| 存取方式 | 索引存取 |

## 2. 檔案功能說明

媒體申報資料擷取邏輯檔專門用於從SOVPPF到SOVQPF的資料擷取作業，按照期數、類型、年月、發票統一編號的順序排序。本邏輯檔主要用於資料轉換與擷取處理，支援媒體申報資料的整合與處理。

## 3. 系統檔案清單

| 相關檔案 | 檔案名稱 | 說明 |
|----------|----------|------|
| 邏輯檔案 | SOVQLF03 | 媒體申報資料擷取邏輯檔 |
| 實體檔案 | SOVQPF | 媒體申報工作檔 |
| 來源檔案 | SOVPPF | 媒體申報工作延伸檔 |

## 4. 紀錄格式

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|------|----------|
| VQ91 | 期數編號 | 1-2 | 2 | 文字 | 索引1 | 申報期數識別 |
| VQ92 | 類型處理 | 3-3 | 1 | 文字 | 索引2 | 申報類型處理碼 |
| VQ04 | 發票年月 | 4-9 | 6,0 | 數值 | 索引3 | 發票年月(YYYYMM) |
| VQ16 | 發票統一編號 | 10-23 | 14 | 文字 | 索引4 | 發票統一編號 |

## 5. 主鍵欄位

- **排序鍵**：VQ91+VQ92+VQ04+VQ16 (期數編號+類型處理+發票年月+發票統一編號)
- **索引類型**：複合索引
- **排序方式**：遞增排序

## 6. 索引資料

| 索引名稱 | 索引欄位 | 索引類型 | 說明 |
|----------|----------|----------|------|
| PRIMARY | VQ91+VQ92+VQ04+VQ16 | LOGICAL | 資料擷取複合索引 |

## 7. 使用說明

1. **資料擷取**：支援從SOVPPF到SOVQPF的資料擷取作業
2. **統一編號查詢**：按發票統一編號進行資料查詢
3. **期數資料處理**：按申報期數進行資料分組處理
4. **資料轉換**：支援媒體申報資料的轉換作業
5. **整合處理**：提供媒體申報資料的整合存取功能

## 8. 備註

- 邏輯檔案基於SOVQPF實體檔案建立
- 專門用於資料擷取作業的邏輯檔案設計
- 按發票統一編號排序，便於統一編號導向的資料處理
- 支援媒體申報系統的資料整合需求
- 與其他媒體申報邏輯檔案配合使用，提供完整的資料存取功能 