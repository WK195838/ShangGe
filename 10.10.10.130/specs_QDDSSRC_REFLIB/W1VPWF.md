# W1VPWF 檔案規格書

## 1. 基本資料
- **檔案名稱**: W1VPWF
- **檔案描述**: VIP基本資料檔(工作檔)
- **檔案類型**: 實體檔案 (PF)
- **記錄格式**: WP0
- **主鍵**: WP02 + WP021 + WP01 + WP08 + WP05 + WP03 + WP09 + WP10 + WP11 + WP12 + WP13 (UNIQUE約束)
- **用途**: VIP客戶資料處理工作暫存檔
- **相關系統**: VIP客戶管理系統

## 2. 檔案功能說明
W1VPWF檔案主要用於：
- 提供VIP客戶資料處理的工作暫存空間
- 支援VIP客戶資料的批次處理
- 暫存客戶資料匯入與驗證作業
- 提供多重索引的彈性查詢功能

## 3. 系統檔案清單
### 工作檔案
- W1VPWF: VIP基本資料檔(工作檔)

### 相關檔案
- W1VPPF: VIP基本資料檔

## 4. 紀錄格式

### 記錄: WP0
| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|------|----------|
| WP01 | 專櫃代號 | 1-5 | 5 | A | 索引鍵3 | 專櫃識別代號 |
| WP02 | 電話號碼 | 6-20 | 15 | A | 主鍵1 | 必填，不可重複 |
| WP021 | 分機號碼 | 21-25 | 5 | A | 主鍵2 | 分機號碼 |
| WP03 | 姓名 | 26-67 | 42 | O | 索引鍵6 | 客戶姓名 |
| WP041 | 生日年 | 68-69 | 2 | S 0 | - | 生日年份 |
| WP042 | 生日月 | 70-71 | 2 | S 0 | - | 生日月份 |
| WP05 | 性別 | 72 | 1 | A | 索引鍵5 | M-男, F-女, ''-未知 |
| WP06 | 戶籍地址 | 73-134 | 62 | O | - | 戶籍地址資訊 |
| WP07 | 工作地或其他住址 | 135-176 | 42 | O | - | 工作或其他地址 |
| WP08 | E-MAIL ADDRESS | 177-206 | 30 | A | 索引鍵4 | 電子郵件地址 |
| WP09 | 客戶資料異動通知 | 207 | 1 | A | 索引鍵7 | Y-同意, N-不同意 |
| WP10 | 會員認證 | 208 | 1 | A | 索引鍵8 | V-驗證, ''-未驗證 |
| WP11 | DM郵寄 | 209 | 1 | A | 索引鍵9 | V-同意, ''-不同意 |
| WP12 | EMAIL郵寄 | 210 | 1 | A | 索引鍵10 | V-同意, ''-不同意 |
| WP13 | 電話通知 | 211 | 1 | A | 索引鍵11 | V-同意, ''-不同意 |
| WP14 | 會員等級 | 212 | 1 | A | - | A-金級, B-銀級 |

## 5. 主鍵欄位
- **主鍵組合**: WP02 + WP021 + WP01 + WP08 + WP05 + WP03 + WP09 + WP10 + WP11 + WP12 + WP13
- **唯一性約束**: UNIQUE
- **索引**: 十一重複合索引

## 6. 索引資料
### 主要索引
- **索引1**: WP02 (電話號碼)
- **索引2**: WP021 (分機號碼)
- **索引3**: WP01 (專櫃代號)
- **索引4**: WP08 (E-MAIL ADDRESS)
- **索引5**: WP05 (性別)
- **索引6**: WP03 (姓名)
- **索引7**: WP09 (客戶資料異動通知)
- **索引8**: WP10 (會員認證)
- **索引9**: WP11 (DM郵寄)
- **索引10**: WP12 (EMAIL郵寄)
- **索引11**: WP13 (電話通知)

### 索引結構
```
KEY: WP02 + WP021 + WP01 + WP08 + WP05 + WP03 + WP09 + WP10 + WP11 + WP12 + WP13
```

## 7. 使用說明
### 新增作業
1. 輸入完整客戶資料
2. 設定所有通訊偏好
3. 指定會員等級與認證狀態
4. 驗證資料完整性

### 查詢作業
1. 支援多重條件組合查詢
2. 可依任一索引欄位快速查詢
3. 支援通訊偏好分類查詢
4. 可進行客戶分群分析

### 維護作業
1. 十一重複合主鍵確保資料唯一性
2. 所有索引欄位均可獨立查詢
3. 支援批次資料處理
4. 定期清理暫存資料

### 批次處理
1. 支援大量客戶資料匯入
2. 提供資料驗證與清理功能
3. 支援重複資料檢查
4. 可進行資料品質分析

## 8. 備註
- 此為工作檔案，具有複雜的十一重複合主鍵設計
- 提供最大彈性的多重索引查詢功能
- 適用於VIP客戶資料的複雜分析與處理作業
- 承襲W1VPPF的完整欄位結構，增強索引功能 