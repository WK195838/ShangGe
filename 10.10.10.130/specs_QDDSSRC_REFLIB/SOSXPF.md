# SOSXPF 檔案規格書

## 1. 基本資料

| 欄位 | 內容 |
|------|------|
| 檔案名稱 | SOSXPF |
| 檔案描述 | 銷貨退回稅額檔 |
| 檔案類型 | 實體檔案 (PF) |
| 記錄格式 | SX0 |
| 關鍵字 | SX02 |
| 作業系統 | AS/400 |
| 資料庫 | DB2/400 |
| 存取方式 | 索引存取 |

## 2. 檔案功能說明

銷貨退回稅額檔主要用於管理銷貨退回業務的稅額處理，記錄每筆退貨交易的稅額計算與控制資訊。本檔案支援退貨稅額的精確計算與追蹤，確保財務作業的準確性。

## 3. 系統檔案清單

| 相關檔案 | 檔案名稱 | 說明 |
|----------|----------|------|
| 主檔案 | SOSXPF | 銷貨退回稅額檔 |
| 參考檔案 | RERF | 參考檔案 |

## 4. 紀錄格式

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|------|----------|
| SX01 | 客戶編號 | 1-5 | 5 | 文數字 | - | 參考SG01欄位，客戶編號 |
| SX02 | 退貨號碼 | 6-13 | 8 | 文數字 | 主鍵 | 參考SG02欄位，退貨號碼 |
| SX09 | 發票號碼 | 14-21 | 8 | 文數字 | - | 參考SG02欄位，發票號碼 |
| SX10 | 退貨含稅金額 | 22-32 | 11,2 | 數值 | - | 參考SG10欄位，退貨含稅金額 |
| SXXX | 建立日期 | 33-40 | 8,0 | 數值 | - | 參考SGXX欄位，建立日期 |
| SXYY | 建立時間 | 41-46 | 6,0 | 數值 | - | 參考SGYY欄位，建立時間 |
| SXZZ | 建立者 | 47-56 | 10 | 文字 | - | 參考SGZZ欄位，建立者 |

## 5. 主鍵欄位

- **主鍵**：SX02 (退貨號碼)
- **索引類型**：UNIQUE
- **排序方式**：遞增排序

## 6. 索引資料

| 索引名稱 | 索引欄位 | 索引類型 | 說明 |
|----------|----------|----------|------|
| PRIMARY | SX02 | UNIQUE | 主索引，退貨號碼 |

## 7. 使用說明

1. **資料建立**：系統處理退貨作業時自動建立記錄
2. **資料查詢**：支援按退貨號碼查詢
3. **資料維護**：配合退貨作業流程進行維護
4. **存取控制**：依據業務權限控制存取
5. **資料完整性**：透過參考完整性確保資料品質

## 8. 備註

- 本檔案使用UNIQUE屬性確保退貨號碼不重複
- 所有日期時間欄位採用數值格式儲存
- 金額欄位保留兩位小數精度
- 建立者資訊用於稽核追蹤
- 與發票主檔案系統整合，支援退貨稅額管理作業 