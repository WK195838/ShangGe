# PA#ALF9 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | PA#ALF9 |
| 檔案描述 | 規則代碼檔 FOR #A02=CENTER |
| 檔案類型 | LF (Logical File) |
| 記錄格式 | #A0 |
| 主鍵 | #A01 (代碼) |
| 實體檔案 | PA#APF |
| 檔案屬性 | 邏輯檢視，條件：#A02 = 'CENTER' |

## 2. 檔案功能說明

PA#ALF9 為 PA#APF 規則代碼檔的配送中心專用邏輯檔案，提供：
- 配送中心代碼的專門檢視
- 物流管理系統支援
- 中心配送管理
- 物流績效分析

## 3. 系統檔案清單

| 檔案代號 | 檔案名稱 | 說明 |
|----------|----------|------|
| PA#ALF9 | 配送中心代碼邏輯檔 | 主檔 |
| PA#APF | 規則代碼實體檔 | 實體檔案 |
| RERF | 參考檔案 | 欄位定義參考 |

## 4. 紀錄格式

### 記錄格式：#A0 (繼承自 PA#APF，條件篩選)

## 5. 欄位規格

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|------|----------|
| #A01 | 中心代碼 | 1-10 | 10 | A | R | 主鍵，配送中心識別碼 |
| #A02 | 代碼類型 | 11-20 | 10 | A | R | 固定值：'CENTER' |
| #A03 | 中心名稱 | 21-60 | 40 | A | R | 配送中心中文名稱 |
| #A04 | 英文名稱 | 61-100 | 40 | A | R | 配送中心英文名稱 |
| #A05 | 中心說明 | 101-200 | 100 | A | R | 配送中心詳細說明 |
| #A06 | 使用狀態 | 201 | 1 | A | R | 'A'-有效，'I'-停用 |
| #A07 | 排序序號 | 202-204 | 3 | N | R | 顯示排序 |
| #A08 | 中心分類 | 205 | 1 | A | R | 'M'-主中心，'S'-分中心，'R'-區域中心 |
| #A09 | 地區代號 | 206-210 | 5 | A | R | 所屬地區 |
| #A10 | 主管代號 | 211-215 | 5 | A | R | 中心主管代號 |
| #A11 | 聯絡電話 | 216-230 | 15 | A | R | 中心聯絡電話 |
| #A12 | 中心地址 | 231-270 | 40 | A | R | 配送中心地址 |
| #A13 | 容量限制 | 271-279 | 9 | N | R | 最大處理容量 |
| #A14 | 營運狀態 | 280 | 1 | A | R | 'O'-營運中，'M'-維護中，'C'-關閉 |
| #AXX | 建立日期 | 281-288 | 8 | N | R | 格式：YYYYMMDD |
| #AYY | 建立時間 | 289-294 | 6 | N | R | 格式：HHMMSS |
| #AZZ | 建立者 | 295-304 | 10 | A | R | 操作人員 |

## 6. 主鍵欄位

| 鍵值序號 | 欄位代號 | 欄位名稱 | 排序 |
|----------|----------|----------|------|
| 1 | #A01 | 中心代碼 | 升序 |

## 7. 索引資料

### 主要索引
- **索引名稱**：主鍵索引
- **索引欄位**：#A01
- **索引類型**：PRIMARY
- **說明**：中心代碼升序排序

### 輔助索引
1. **分類索引**：#A08 (中心分類)
2. **排序索引**：#A07 (排序序號)
3. **狀態索引**：#A06 (使用狀態)
4. **地區索引**：#A09 (地區代號)
5. **主管索引**：#A10 (主管代號)
6. **營運狀態索引**：#A14 (營運狀態)
7. **容量索引**：#A13 (容量限制)

### 邏輯檢視特性
- **基底檔案**：PA#APF
- **檢視條件**：#A02 = 'CENTER'
- **檢視類型**：條件篩選檢視
- **排序方式**：#A07 + #A01 升序

## 8. 備註

### 設計考量
1. 此檔案為 PA#APF 的條件邏輯檢視檔案
2. 專門處理配送中心相關代碼資料
3. 提供物流管理功能

### 配送中心分類說明
- **M級 (主中心)**：主要配送中心，負責大區域配送
- **S級 (分中心)**：分區配送中心，負責地區配送
- **R級 (區域中心)**：區域配送中心，負責區域配送

### 營運狀態說明
- **O級 (營運中)**：正常營運狀態
- **M級 (維護中)**：維護保養狀態
- **C級 (關閉)**：暫時關閉狀態

### 參考關聯
- **實體檔案**：PA#APF (#A02 = 'CENTER')
- **主管檔案**：MTMCPF (#A10 = MC01)
- **地區檔案**：PA#DPF (#A09 = #D01)
- **配送檔案**：配送相關檔案 (中心代碼關聯)

### 業務規則
1. 中心代碼必須唯一
2. 主管代號需對應有效員工
3. 容量限制需符合實際能力
4. 營運狀態影響配送規劃

### 資料完整性
1. 資料內容完全依賴 PA#APF 實體檔案
2. 僅顯示 #A02 = 'CENTER' 的記錄
3. #A10 需對應 MTMCPF 中的有效主管
4. #A09 需對應有效的地區代號

### 使用注意事項
1. 此為邏輯檔案，不可直接寫入資料
2. 所有異動需透過 PA#APF 實體檔案進行
3. 新增配送中心時需設定 #A02 = 'CENTER'
4. 適用於物流管理與配送規劃 