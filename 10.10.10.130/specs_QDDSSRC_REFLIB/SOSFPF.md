# SOSFPF 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | SOSFPF |
| 檔案類型 | PF (物理檔案) |
| 檔案說明 | 送貨單明細檔 |
| 排序鍵值 | SF02+SF03 |
| 記錄長度 | *NOMAX |
| 記錄格式 | SF0 |
| 參考檔案 | RERF |
| 檔案屬性 | UNIQUE |

## 2. 檔案功能說明

本檔案儲存送貨單的明細資料，包含每筆送貨單的商品明細、數量、價格、確認狀態等詳細資訊。與送貨單主檔配合，完整記錄配送作業。

## 3. 系統檔案清單

| 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|------|
| SOSFPF | PF | 送貨單明細檔物理檔 |

## 4. 記錄格式

### 記錄格式：SF0

## 5. 欄位說明

| 欄位代號 | 名稱 | 位置 | 長度 | 型態 | 屬性 | 說明 |
|----------|------|------|------|------|------|------|
| SF01 | 客戶編號 | - | - | R | COLHDG | 客戶編號 |
| SF02 | 送貨單號 | - | - | R | COLHDG | 送貨單號 |
| SF03 | 商品序號 | - | - | R | COLHDG | 商品序號 |
| SF04 | 訂購數量 | - | - | R | COLHDG | 訂購數量 |
| SF05 | 出貨數量 | - | - | R | COLHDG | 出貨數量 |
| SF06 | 單價 | - | - | R | COLHDG | 單價 |
| SF07 | 折扣率確認前 | - | - | R | COLHDG | 折扣率確認前 |
| SF08 | 折扣後金額 | - | - | R | COLHDG | 折扣後金額 |
| SF09 | 折扣後出貨數量 | - | - | R | COLHDG | 折扣後出貨數量 |
| SF10 | 成本價格-FOB | - | - | R | COLHDG | 成本價格-FOB |
| SF11 | 成本價格-FHI | - | - | R | COLHDG | 成本價格-FHI |
| SF12 | 成本價格-DUTY | - | - | R | COLHDG | 成本價格-DUTY |
| SF13 | 折扣後總計折扣 | - | - | R | COLHDG | 折扣後總計折扣 |
| SF14 | 特殊總計折扣 | - | - | R | COLHDG | 特殊總計折扣 |
| SF15 | 備註 | - | - | R | COLHDG | 備註 |
| SF16 | 商品編號 | - | - | R | COLHDG | 商品編號 |
| SF17 | 價格確認狀態編號 | - | - | R | COLHDG | 價格確認狀態編號 |
| SF18 | 出貨確認狀態編號 | - | - | R | COLHDG | 出貨確認狀態編號 |
| SF19 | 確認訂購數量 | - | - | R | COLHDG | 確認訂購數量 |
| SF20 | 確認出貨數量 | - | - | R | COLHDG | 確認出貨數量 |
| SF22 | 建檔日期 | - | 8 | DATE | COLHDG | 建檔日期 |
| SF23 | 建檔時間 | - | - | R | COLHDG | 建檔時間 |
| SF24 | 建檔者 | - | - | R | COLHDG | 建檔者 |
| SF25 | 送貨日期 | - | 8 | DATE | COLHDG | 送貨日期 |
| SF26 | 交貨地點代號 | - | - | R | COLHDG | 交貨地點代號 |
| SF27 | 檔案地點代號 | - | - | R | COLHDG | 檔案地點代號 |
| SF28 | 實際成本價格-FOB | - | - | R | COLHDG | 實際成本價格-FOB |
| SF29 | 實際成本價格-FHI | - | - | R | COLHDG | 實際成本價格-FHI |
| SF30 | 實際成本價格-DUTY | - | - | R | COLHDG | 實際成本價格-DUTY |
| SF131 | 折扣後總計折扣 | - | - | R | COLHDG | 折扣後總計折扣 |
| SF141 | 特殊總計折扣 | - | - | R | COLHDG | 特殊總計折扣 |
| SFXX | 異動日期 | - | 8 | DATE | COLHDG | 異動日期 |
| SFYY | 異動時間 | - | - | R | COLHDG | 異動時間 |
| SFZZ | 異動者 | - | - | R | COLHDG | 異動者 |

## 6. 主鍵欄位

### 主鍵
- SF02（送貨單號）
- SF03（商品序號）

## 7. 索引資料

| 索引名稱 | 索引欄位 | 排序方式 | 說明 |
|----------|----------|----------|------|
| 主索引 | SF02+SF03 | 遞增 | 按送貨單號、商品序號排序 |

## 8. 備註

1. 本檔案為送貨單明細的主要儲存檔案
2. 記錄長度為 *NOMAX，支援可變長度記錄
3. 具有 UNIQUE 屬性，確保記錄唯一性
4. 價格確認狀態編號說明：
   - '*'：確認價格
   - ' '：預估價格
   - 'C'：訂購價格
5. 出貨確認狀態編號說明：
   - '*'：確認價格
   - ' '：預估價格
   - 'C'：訂購價格
6. 包含 FOB、FHI、DUTY 等多種成本價格計算方式
7. 與 SOSEPF 送貨單主檔搭配使用，提供完整的送貨作業資料 