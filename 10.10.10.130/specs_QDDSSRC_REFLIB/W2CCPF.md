# W2CCPF 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | W2CCPF |
| 檔案類型 | 實體檔 (PF) |
| 檔案描述 | 其他產品匯總表暫存檔 |
| 作業系統 | AS/400 |
| 資料庫 | DB2/400 |

## 2. 檔案功能說明

此檔案為其他產品匯總報表的暫存檔(版本2)，負責暫存其他產品的匯總分析資料，採用不同的分組邏輯。主要功能：
- 暫存其他產品的匯總統計資料
- 提供供應商優先的產品匯總功能
- 支援產品及營業點的多維度分析
- 管理供應商與產品的對應關係
- 提供其他產品匯總的替代暫存機制

## 3. 系統檔案清單

| 項目 | 檔案名稱 | 類型 | 說明 |
|------|----------|------|------|
| 主檔 | W2CCPF | PF | 其他產品匯總表暫存檔 |
| 關聯檔 | W2CBPF | PF | 其他產品匯總表暫存檔(版本1) |

## 4. 紀錄格式

### 記錄格式：CC0
**唯一性約束：UNIQUE**

| 欄位代號 | 欄位名稱 | 型態 | 長度 | 小數 | 說明 |
|----------|----------|------|------|------|------|
| CC01 | 供應商 | A | 5 | 0 | 供應商代號 |
| CC02 | 供應商名稱 | O | 18 | 0 | 供應商名稱 |
| CC03 | 產品代號 | A | 9 | 0 | 產品代號 |
| CC04 | 產品名稱 | O | 18 | 0 | 產品名稱 |
| CC05 | 營業點 | A | 5 | 0 | 營業點代號 |
| CC06 | 專櫃名稱 | O | 18 | 0 | 專櫃名稱 |
| CC07 | 週期編號 | S | 8 | 0 | 統計週期編號 |
| CC08 | 數量 | S | 8 | 0 | 匯總數量 |

## 5. 主鍵欄位

| 順序 | 欄位代號 | 欄位名稱 | 排序方式 |
|------|----------|----------|----------|
| 1 | CC01 | 供應商 | 遞增 |
| 2 | CC03 | 產品代號 | 遞增 |
| 3 | CC05 | 營業點 | 遞增 |
| 4 | CC07 | 週期編號 | 遞增 |

## 6. 索引資料

### 索引鍵值
- **主索引**：CC01 + CC03 + CC05 + CC07
- **唯一性約束**：UNIQUE
- **排序方式**：供應商遞增，產品代號遞增，營業點遞增，週期編號遞增

### 存取路徑
此檔案提供以下存取路徑：
1. 依供應商分組檢索匯總資料
2. 依產品代號分類統計
3. 依營業點分組檢索
4. 依週期編號時間分析
5. 支援供應商×產品×營業點×週期的四維分析

### 與W2CBPF差異
- **排序差異**：CC版本以產品代號為第二排序，CB版本以營業點為第二排序
- **分析角度**：CC版本強調產品分析，CB版本強調營業點分析
- **資料結構**：相同欄位，不同排序邏輯

## 7. 使用說明

### 查詢功能
- 支援依供應商查詢匯總資料
- 提供產品代號優先的分類統計
- 支援營業點分組檢索
- 提供週期編號的時間分析
- 支援產品導向的銷售數量統計

### 作業程序
1. 從基礎交易資料彙整其他產品統計
2. 按供應商、產品、營業點、週期分組匯總
3. 記錄匯總數量及相關描述資訊
4. 提供產品導向報表的資料來源
5. 定期清理過期的暫存資料

### 維護作業
- **新增**：建立新的匯總暫存記錄
- **查詢**：支援產品導向的檢索分析
- **更新**：更新匯總數量資料
- **刪除**：清理過期暫存資料
- **彙總**：產生產品導向統計報表

### 注意事項
- 此為暫存檔，資料具有時效性
- 檔案具有UNIQUE約束，避免重複匯總
- 四重複合主鍵支援多維度分析
- 與W2CBPF提供不同分析角度

## 8. 備註

- 此檔案為其他產品匯總分析的暫存檔案(版本2)
- 四重複合主鍵確保匯總資料唯一性
- 支援供應商×產品×營業點×週期的四維分析
- 提供產品導向的銷售統計資料基礎
- 所有名稱欄位採用開放長度格式
- 與W2CBPF提供互補的分析視角 