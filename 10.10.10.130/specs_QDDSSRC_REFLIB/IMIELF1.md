# IMIELF1 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | IMIELF1 |
| 檔案類型 | 邏輯檔案 (Logical File) |
| 檔案用途 | 產品報廢主檔 |
| 紀錄格式 | IE0 |
| 基礎實體檔案 | IMIEPF |
| 主鍵欄位 | IE05+IE02 |
| 特殊屬性 | IE05使用DESCEND降序排列 |
| 特殊用途 | 提供報廢日期降序+客戶代號的存取路徑 |

## 2. 檔案功能說明

IMIELF1是產品報廢主檔的邏輯檔案，基於IMIEPF實體檔案：

1. **主要功能**：提供產品報廢資料的日期降序排序存取
2. **檔案特性**：邏輯檔案，不實際儲存資料
3. **系統用途**：支援最新報廢記錄優先的查詢和處理
4. **基礎檔案**：使用IMIEPF實體檔案作為資料來源
5. **排序方式**：報廢日期降序+客戶代號排序
6. **支援功能**：為產品報廢作業提供最新記錄優先的存取路徑

## 3. 系統檔案清單

| 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|------|
| IMIELF1 | 邏輯檔案 | 產品報廢主檔邏輯檔案（本檔案） |
| IMIELF01 | 邏輯檔案 | 產品報廢主檔邏輯檔案（IE01+IE05+IE02排序） |
| IMIELF02 | 邏輯檔案 | 產品報廢主檔邏輯檔案（IE05+IE01+IE02排序） |
| IMIEPF | 實體檔案 | 產品報廢主檔實體檔案 |
| IMIFPF | 實體檔案 | 產品報廢明細檔實體檔案 |

## 4. 紀錄格式

| 格式名稱 | 說明 |
|----------|------|
| IE0 | 產品報廢主記錄格式（來自IMIEPF） |

## 5. 欄位代號、名稱、位置、長度、屬性、檢核說明

本邏輯檔案使用IMIEPF實體檔案的欄位定義：

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 說明 |
|----------|----------|------|------|------|------|------|
| IE05 | 報廢日期 | 1 | - | - | 主鍵/DESCEND | 報廢日期（降序排列） |
| IE02 | 客戶代號 | 2 | - | - | 主鍵 | 客戶代號 |
| (其他) | (其他欄位) | - | - | - | - | 繼承自IMIEPF實體檔案 |

*註：完整欄位定義請參考IMIEPF實體檔案規格書*

## 6. 主鍵欄位

本邏輯檔案的主鍵欄位為：
- IE05（報廢日期）
- IE02（客戶代號）

### 主鍵特性：
- **IE05（報廢日期）**：主鍵第一層，報廢日期，使用DESCEND降序排列
- **IE02（客戶代號）**：主鍵第二層，客戶代號
- **兩層主鍵**：報廢日期降序+客戶代號的組合鍵
- **最新記錄優先**：以最新報廢日期為主要排序依據

## 7. 索引資料

| 索引名稱 | 索引鍵 | 排序 | 用途說明 |
|----------|--------|------|----------|
| 主索引 | IE05(DESCEND)+IE02 | 降序+升序 | 報廢日期降序+客戶代號存取路徑 |

### 索引特性：
- **混合排序索引**：報廢日期降序+客戶代號升序的複合索引
- **最新優先**：以最新報廢日期為主要查詢依據
- **客戶分組**：在相同日期內按客戶代號分組

## 8. 備註

1. **邏輯檔案特性**：
   - 基於IMIEPF實體檔案的邏輯檔案
   - 不實際儲存資料，提供不同的存取路徑
   - 資料來源完全依賴IMIEPF實體檔案
2. **產品報廢功能**：
   - 支援產品報廢作業的最新記錄查詢
   - 提供報廢日期降序的資料存取
   - 支援報廢作業的最新狀態分析
3. **資料存取設計**：
   - 兩層主鍵設計支援精確查詢
   - 報廢日期降序排序便於最新記錄查詢
   - 支援報廢作業的最新記錄優先查詢需求
4. **與其他檔案關聯**：
   - 基於IMIEPF實體檔案
   - 與IMIELF01、IMIELF02形成不同存取路徑
   - 配合IMIFPF明細檔案使用
5. **最新記錄導向設計**：
   - 以最新報廢日期為主要排序依據
   - 適合報廢作業的最新狀態查詢
   - 支援最新報廢記錄管理
6. **報廢作業支援**：
   - 最新報廢日期查詢（IE05降序）
   - 客戶代號查詢（IE02）
   - 完整的報廢作業最新記錄查詢支援
7. **資料完整性**：
   - 繼承IMIEPF實體檔案的完整性約束
   - 確保資料一致性
   - 支援完整的報廢資料查詢
8. **業務應用**：
   - 產品報廢最新狀態分析
   - 報廢作業最新記錄查詢處理
   - 最新報廢趨勢統計
   - 報廢作業最新記錄統計分析
9. **系統整合**：
   - 與庫存管理系統（IMI系列）整合
   - 支援報廢作業的完整流程
   - 提供報廢資料的最新記錄查詢基礎
10. **查詢效能**：
    - 兩層主鍵提供高效的資料存取
    - 日期降序排序提升最新記錄查詢效能
    - 支援快速的最新報廢記錄查詢
11. **報廢管理功能**：
    - 支援報廢作業的最新記錄管理
    - 提供報廢作業的最新記錄追蹤
    - 支援報廢最新記錄統計的分析
12. **最新記錄處理支援**：
    - 最新報廢日期處理（IE05降序）
    - 客戶代號處理（IE02）
    - 完整的最新記錄處理流程支援
13. **客戶管理整合**：
    - 支援客戶別最新報廢記錄查詢
    - 提供客戶最新報廢記錄統計
    - 支援客戶最新報廢記錄分析
14. **時間維度管理**：
    - 報廢日期（IE05）支援最新記錄查詢
    - 支援報廢作業的最新記錄分析
    - 提供最新報廢趨勢的統計
15. **系統價值**：
    - 作為產品報廢系統的重要最新記錄存取路徑
    - 提供報廢日期降序優先的查詢功能
    - 支援報廢作業的最新記錄分析處理
16. **特殊設計**：
    - 報廢日期降序+客戶代號的兩層主鍵
    - 最新記錄優先的排序設計
    - 高效的最新報廢記錄查詢結構
17. **報廢流程支援**：
    - 最新報廢申請記錄處理
    - 最新報廢執行記錄處理
    - 最新報廢確認記錄處理
    - 最新報廢完成記錄處理
18. **庫存影響管理**：
    - 與庫存系統緊密整合
    - 支援庫存最新報廢狀態查詢
    - 提供庫存最新報廢調整的查詢
19. **成本影響管理**：
    - 支援報廢成本的最新記錄查詢
    - 提供成本最新報廢調整的查詢
    - 支援成本最新報廢分析的需求
20. **決策支援**：
    - 提供報廢決策的最新記錄資料查詢
    - 支援報廢政策的最新記錄制定查詢
    - 提供報廢效果的最新記錄評估查詢
21. **合規管理**：
    - 支援報廢作業的最新記錄合規查詢
    - 提供報廢記錄的最新記錄審計查詢
    - 確保報廢作業的最新記錄透明度查詢
22. **報廢統計功能**：
    - 支援報廢數量最新記錄統計
    - 提供報廢金額最新記錄統計
    - 支援報廢最新記錄趨勢分析
23. **品質管理整合**：
    - 支援品質報廢的最新記錄查詢
    - 提供品質改善的最新記錄分析查詢
    - 支援品質控制的最新記錄統計查詢
24. **多維度查詢**：
    - 最新時間維度查詢（IE05降序）
    - 客戶維度查詢（IE02）
    - 支援多維度的最新報廢記錄分析
25. **系統維護**：
    - 邏輯檔案維護簡單
    - 資料維護依賴實體檔案
    - 提供良好的系統維護性
26. **DESCEND特性**：
    - IE05欄位使用DESCEND降序排列
    - 確保最新報廢記錄排在前面
    - 提供高效的最新記錄存取
27. **客戶分組功能**：
    - 在相同日期內按客戶代號分組
    - 支援客戶別最新報廢狀態查詢
    - 提供客戶最新報廢記錄管理
28. **精簡主鍵設計**：
    - 僅使用兩層主鍵，提升查詢效能
    - 專注於最新記錄和客戶分組
    - 適合快速的最新狀態查詢
29. **報廢監控功能**：
    - 支援最新報廢狀態監控
    - 提供報廢作業的即時狀態查詢
    - 支援報廢異常的快速發現
30. **系統效率**：
    - 最新記錄優先設計提升查詢效率
    - 減少不必要的歷史資料查詢
    - 提供快速的當前狀態分析 