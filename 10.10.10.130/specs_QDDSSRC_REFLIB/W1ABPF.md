# W1ABPF 檔案規格書

## 1. 基本資料
- **檔案名稱**: W1ABPF
- **檔案描述**: IP對照帳號檔
- **檔案類型**: 實體檔案 (PF)
- **記錄格式**: AB0
- **主鍵**: AB01 + AB02 (UNIQUE約束)
- **用途**: 管理IP位址與對照帳號的關聯資料
- **相關系統**: 帳號管理系統

## 2. 檔案功能說明
W1ABPF檔案主要用於：
- 記錄IP位址與對照帳號的對應關係
- 提供IP地址管理功能
- 支援網路存取控制機制
- 維護帳號對照資料

## 3. 系統檔案清單
### 主檔案
- W1ABPF: IP對照帳號檔

### 相關檔案
- 無特定相關檔案

## 4. 紀錄格式

### 記錄: AB0
| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|------|----------|
| AB01 | 對應帳號 | 1-10 | 10 | A | 主鍵 | 必填，不可重複 |
| AB02 | IP地址 | 11-25 | 15 | A | 主鍵 | 必填，不可重複 |
| ABXX | 異動日期 | 26-33 | 8 | S 0 | - | YYYYMMDD格式 |
| ABYY | 異動時間 | 34-39 | 6 | S 0 | - | HHMMSS格式 |
| ABZZ | 異動人員 | 40-49 | 10 | A | - | 異動者代號 |

## 5. 主鍵欄位
- **主鍵組合**: AB01 + AB02
- **唯一性約束**: UNIQUE
- **索引**: 複合索引 (對應帳號 + IP地址)

## 6. 索引資料
### 主要索引
- **索引1**: AB01 + AB02 (主鍵，唯一性)

### 索引結構
```
KEY: AB01 (對應帳號) + AB02 (IP地址)
```

## 7. 使用說明
### 新增作業
1. 指定對應帳號(AB01)
2. 輸入IP地址(AB02)
3. 系統自動記錄異動資訊

### 查詢作業
1. 可依對應帳號查詢
2. 可依IP地址查詢
3. 支援複合條件查詢

### 維護作業
1. 對應帳號與IP地址一旦建立不可更改
2. 需要更改時必須先刪除再新增
3. 系統記錄完整異動軌跡

## 8. 備註
- 檔案具有UNIQUE約束，確保一對一對應關係
- 記錄異動日期時間及異動人員，提供完整稽核軌跡
- IP地址格式需符合標準規範
- 對應帳號須為有效帳號代碼 