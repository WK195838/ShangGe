# PUBF4F 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | PUBF4F |
| 檔案類型 | 實體檔 (PF) |
| 檔案說明 | F4輔助檔案 (F4 HELP FILE) |
| 主索引鍵 | FPPGM+FPSCR+SEQ |
| 參照檔案 | 無 |
| 建立日期 | (依實際建立日期填入) |
| 維護人員 | (依實際維護人員填入) |

## 2. 檔案功能說明

此實體檔案用於儲存F4功能鍵提示的相關資訊，包含程式名稱、畫面名稱、序號及對應的呼叫程式等設定。

### 主要功能
- 儲存F4功能鍵的提示資訊
- 定義F4功能對應的呼叫程式及參數
- 管理各程式畫面的F4輔助設定
- 提供F4功能位置及對應程式的設定資料

## 3. 系統檔案清單

| 檔案名稱 | 檔案類型 | 說明 | 關聯 |
|----------|----------|------|------|
| PUBF4F | PF | F4輔助檔案實體檔 | 主檔案 |

## 4. 記錄格式

### 記錄格式名稱：F4REC

| 格式說明 | 記錄長度 | 參照檔案 |
|----------|----------|----------|
| F4輔助記錄格式 | (依欄位定義計算) | 無 |

## 5. 欄位規格

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|------|----------|
| FPPGM | 程式名稱 | 1 | 10 | 文字 | KEY | 主鍵欄位，程式名稱 |
| FPSCR | 畫面名稱 | 2 | 6 | 文字 | KEY | 主鍵欄位，畫面識別 |
| SEQ | F4序號 | 3 | 3 | 數值 | 0, KEY | 主鍵欄位，F4順序編號 |
| FPROW | 欄位位置列 | 4 | 3 | 數值 | 0 | 欄位位置的列號 |
| FPCOLS | 欄位位置行起 | 5 | 3 | 數值 | 0 | 欄位位置的起始行號 |
| FPCOLE | 欄位位置行迄 | 6 | 3 | 數值 | 0 | 欄位位置的結束行號 |
| FCPGM | 呼叫程式名稱 | 7 | 10 | 文字 | | 對應的CALL程式名稱 |
| CPARM | 呼叫參數 | 8 | 10 | 文字 | | CALL程式的參數 |
| TEXT | 說明資料 | 9 | 20 | 文字 | O | F4功能說明文字 |

## 6. 主鍵欄位

| 欄位代號 | 欄位名稱 | 排序 | 說明 |
|----------|----------|------|------|
| FPPGM | 程式名稱 | 升序 | 複合主鍵第一部分 |
| FPSCR | 畫面名稱 | 升序 | 複合主鍵第二部分 |
| SEQ | F4序號 | 升序 | 複合主鍵第三部分 |

## 7. 索引資料

### 主要索引
- **索引名稱**：主鍵索引
- **索引欄位**：FPPGM+FPSCR+SEQ
- **索引類型**：唯一索引 (UNIQUE)
- **唯一性**：是

### 檔案特性
- UNIQUE：確保程式名稱+畫面名稱+序號唯一性

## 8. 備註

### 特殊說明
- 此檔案為F4功能鍵的輔助設定檔
- 使用 UNIQUE 關鍵字確保記錄唯一性
- 複合主鍵由程式名稱、畫面名稱、序號組成
- 主要用於AS/400系統中F4功能鍵的管理

### F4功能說明
F4功能在AS/400系統中通常用於：
- 提供輸入欄位的選擇清單
- 呼叫相關的輔助程式
- 顯示可用的選項或代碼
- 提供使用者友善的操作介面

### 欄位位置設定
- FPROW：定義F4功能對應的螢幕列位置
- FPCOLS：定義F4功能對應的螢幕起始行位置
- FPCOLE：定義F4功能對應的螢幕結束行位置

### 程式呼叫設定
- FCPGM：指定按F4時要呼叫的程式名稱
- CPARM：傳遞給被呼叫程式的參數

### 相關檔案
- PUBF4L（F4輔助檔案邏輯檔）

### 維護注意事項
- 程式名稱+畫面名稱+序號組成複合主鍵，不可重複
- 位置設定需確保與實際畫面佈局一致
- 呼叫程式名稱需存在於系統中
- F4序號用於同一畫面多個F4功能的排序

### 系統應用
- 用於定義各程式畫面的F4輔助功能
- 提供使用者操作的便利性
- 支援動態呼叫相關輔助程式
- 集中管理F4功能的設定資料 