# REWF98 檔案規格書

## 1. 基本資料
- **檔案代號**: REWF98
- **檔案名稱**: 異動明細表（A）－禮盒組拆
- **檔案類型**: PF (實體檔案)
- **記錄格式**: WF980
- **系統**: AS/400 RPG
- **功能**: 管理禮盒產品組拆異動的明細記錄（A類型）

## 2. 檔案功能說明
異動明細表（A）專門記錄禮盒產品組拆作業的詳細異動資料，包含倉庫別、單據號、異動日期、產品編號、價位、容量等重要資訊，並提供完整的庫存異動追蹤與成本計算功能，是禮盒管理系統的核心檔案。

## 3. 系統檔案清單
- 主檔案：REWF98 (異動明細表A)
- 參考檔案：RERF (參考主檔)
- 關聯檔案：IMIRLF (庫存異動檔)、IMISLF99 (庫存檔)

## 4. 紀錄格式
### 記錄格式：WF980

## 5. 欄位規格

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 參考欄位 | 說明 |
|----------|----------|------|------|------|------|----------|------|
| WF9801 | 倉庫別 | - | R | 文字 | 顯示 | IR02 | 倉庫識別代號 |
| WF981A | 單據 | - | R | 文字 | 顯示 | IR05 | 異動單據號碼 |
| WF9802 | 異動日期 | - | R | 文字 | 顯示 | IR04 | 異動作業日期 |
| WF9803 | 產品編號 | - | R | 文字 | 顯示 | IR06 | 產品識別編號 |
| WF9804 | 價位 | - | R | 文字 | 顯示 | @IS02 | 產品價位等級 |
| WF9805 | 容量 | - | R | 文字 | 顯示 | @IS03 | 產品容量規格 |
| WF9806 | 產品名稱 | - | R | 文字 | 顯示 | IR03 | 產品名稱說明 |
| WF9807 | 進出 | 4 | 4 | 文字 | 顯示 | - | 進出庫標記 |
| WF9808 | 來源倉庫別 | - | R | 文字 | 顯示 | IR11 | 來源倉庫代號 |
| WF9809 | 確認碼 | - | R | 文字 | 顯示 | @IS04 | 確認狀態碼 |
| WF9810 | 數量 | 6 | 6 | 數字 | 顯示 | - | 異動數量 |
| WF9811 | FOB- | 11 | 11 | 數字 | 小數2位 | - | FOB成本金額 |
| WF9812 | FHI- | 11 | 11 | 數字 | 小數2位 | - | FHI成本金額 |
| WF9813 | DUTY | 11 | 11 | 數字 | 小數2位 | - | 關稅成本金額 |

## 6. 主鍵欄位
- **複合主鍵**:
  - WF9801 (倉庫別)
  - WF981A (單據)
  - WF9802 (異動日期)
  - WF9803 (產品編號)
  - WF9804 (價位)
  - WF9805 (容量)
  - WF9806 (產品名稱)

## 7. 索引資料
- 主要索引：依倉庫別、單據、異動日期、產品編號、價位、容量、產品名稱排序
- 檔案結構：七層複合主鍵索引
- 特殊功能：禮盒組拆異動追蹤

## 8. 備註
- 此檔案專門處理禮盒產品的組拆異動作業
- 與庫存管理系統緊密整合，參考IMIRLF和IMISLF99檔案
- 支援多種成本計算（FOB、FHI、DUTY）
- 提供完整的異動追蹤功能，包含來源倉庫和確認機制
- 複合主鍵設計確保每筆異動記錄的唯一性 