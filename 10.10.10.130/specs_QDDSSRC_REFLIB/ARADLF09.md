# ARADLF09 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | ARADLF09 |
| 檔案描述 | 收款明細檔邏輯檔案09 |
| 檔案類型 | 邏輯檔案 (Logical File) |
| 基礎實體檔 | ARADPF |
| 作業系統 | IBM i (AS/400) |
| 程式語言 | DDS |

## 2. 檔案功能說明

ARADLF09是基於收款明細實體檔ARADPF的邏輯檔案，提供以下功能：
- 以公司別(AD01)、客戶代號(AD02)、業務員(AD03)、發票年月(AD04)、發票別(AD05)、發票號碼(AD06)、發票金額(AD11降序)、單據號碼(AD07)、單據日期(AD12)的組合作為存取路徑
- 支援按發票金額降序排列的收款明細查詢
- 適用於需要依發票金額大小排序的收款分析作業

## 3. 系統檔案清單

| 序號 | 檔案名稱 | 檔案類型 | 說明 |
|------|----------|----------|------|
| 1 | ARADPF | 實體檔案 | 收款明細主檔 |
| 2 | ARADLF09 | 邏輯檔案 | 收款明細檔邏輯檔案09 |

## 4. 紀錄格式

| 紀錄格式名稱 | 說明 | 基礎檔案 |
|--------------|------|----------|
| AD0 | 收款明細紀錄格式 | ARADPF |

## 5. 欄位規格

ARADLF09使用與基礎實體檔ARADPF相同的欄位結構，主要欄位包括：

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|----------|
| AD01 | 公司別 | 1-2 | 2 | 文字 | 必填欄位 |
| AD02 | 客戶代號 | 3-8 | 6 | 文字 | 必填欄位 |
| AD03 | 業務員 | 9-11 | 3 | 文字 | 必填欄位 |
| AD04 | 發票年月 | 12-15 | 4 | 數值 | 格式YYMM |
| AD05 | 發票別 | 16-17 | 2 | 文字 | 必填欄位 |
| AD06 | 發票號碼 | 18-25 | 8 | 數值 | 必填欄位 |
| AD07 | 單據號碼 | 26-35 | 10 | 文字 | 必填欄位 |
| AD11 | 發票金額 | 44-58 | 15 | 數值 | 金額欄位，降序排列 |
| AD12 | 單據日期 | 59-66 | 8 | 數值 | 日期格式YYYYMMDD |
| ... | ... | ... | ... | ... | (其他欄位同ARADPF) |

## 6. 主鍵欄位

ARADLF09本身為邏輯檔案，無獨立主鍵定義，其資料完整性由基礎實體檔ARADPF維護。

## 7. 索引資料

| 索引名稱 | 索引欄位 | 排序 | 說明 |
|----------|----------|------|------|
| 主要索引 | AD01 + AD02 + AD03 + AD04 + AD05 + AD06 + AD11 + AD07 + AD12 | 混合排序 | 複合索引，AD11為降序 |

### 索引鍵值組成：
1. AD01 (公司別) - 升序排列
2. AD02 (客戶代號) - 升序排列
3. AD03 (業務員) - 升序排列
4. AD04 (發票年月) - 升序排列
5. AD05 (發票別) - 升序排列
6. AD06 (發票號碼) - 升序排列
7. AD11 (發票金額) - **降序排列** (DESCEND)
8. AD07 (單據號碼) - 升序排列
9. AD12 (單據日期) - 升序排列

## 8. 備註

### 設計考量：
- 提供完整的發票資訊排序路徑，從公司、客戶到具體發票
- 特別以發票金額降序排列，便於分析高金額收款項目
- 九個欄位的複合索引確保精確的資料定位

### 使用時機：
- 收款金額分析報表（由高到低排序）
- 大額收款項目查詢作業
- 客戶收款狀況統計分析
- 業務員收款績效分析

### 注意事項：
- 本邏輯檔案依賴ARADPF實體檔案的資料完整性
- AD11發票金額採降序排列，便於優先顯示高金額項目
- 複合索引鍵值較長，適用於精確查詢而非範圍掃描
- 適用於需要按金額大小進行收款分析的管理報表 