# SOSFLF02 檔案規格書

## 1. 基本資料
- **檔案名稱**: SOSFLF02
- **檔案類型**: LF (邏輯檔案)
- **基底檔案**: SOSFPF (送貨單明細檔)
- **檔案說明**: 送貨單明細檔邏輯檔案 - 產品配送時序查詢
- **建立日期**: (依系統記錄)
- **最後異動日期**: (依系統記錄)

## 2. 檔案功能說明
此邏輯檔案提供以產品編號為主、送貨日期遞減排序的索引，支援送貨單明細按產品最新配送記錄的查詢需求。

### 主要功能
- 產品最新配送記錄查詢
- 產品配送時序分析
- 產品配送狀態監控

## 3. 系統檔案清單
| 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|------|
| SOSFPF | PF | 送貨單明細檔 (基底檔案) |
| SOSFLF02 | LF | 送貨單明細檔邏輯檔案 |

## 4. 紀錄格式

### 4.1 邏輯檔案設定
```
PFILE(SOSFPF)      // 基底實體檔案
```

### 4.2 關鍵欄位 (Key Fields)
| 順序 | 欄位代號 | 欄位名稱 | 型態 | 長度 | 排序 | 說明 |
|------|----------|----------|------|------|------|------|
| 1 | SF03 | 產品編號 | A | 15 | ASC | 主要排序鍵 |
| 2 | SF25 | 送貨日期 | N | 8,0 | DESC | 降序排列 |

### 4.3 選擇條件 (SELECT/OMIT)
無特殊選擇條件設定

## 5. 主鍵欄位
- **主要鍵值**: SF03 + SF25
- **排序方式**: 產品編號升序、送貨日期降序
- **索引類型**: 複合索引

## 6. 索引資料
- **排序方式**: SF03 + SF25(遞減)
- **索引類型**: 復合索引，產品最新配送優先
- **特殊屬性**: 送貨日期遞減排序

## 7. 使用說明

### 7.1 檔案用途
- 產品最新送貨記錄查詢
- 產品配送狀態查詢
- 最新配送記錄分析

### 7.2 程式存取方式
```rpg
// 依產品編號查詢最新配送記錄
SETLL (產品編號) SOSFLF02;
READ SOSFLF02;
// 讀取特定產品最新配送記錄
CHAIN (產品編號:*HIVAL) SOSFLF02;
```

## 8. 備註
- 此邏輯檔案專注於產品配送的時序分析
- 提供最新優先的產品配送記錄查詢
- 支援產品配送效率分析與監控
- 送貨日期遞減排序，最新配送記錄優先 