# SOSILF11 檔案規格書

## 1. 基本資料
- **檔案名稱**: SOSILF11
- **檔案類型**: LF (邏輯檔案)
- **基底檔案**: SOSIPF (發票主檔)
- **檔案說明**: 發票主檔邏輯檔案 - 發票日期降序查詢
- **建立日期**: (依系統記錄)
- **最後異動日期**: (依系統記錄)

## 2. 檔案功能說明
此邏輯檔案提供以發票日期降序排列的簡單索引，適用於按發票開立時間倒序查詢，最新發票優先顯示的需求。

### 主要功能
- 發票日期倒序查詢
- 最新發票優先顯示
- 時序統計分析
- 發票日期範圍查詢

## 3. 系統檔案清單
| 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|------|
| SOSIPF | PF | 發票主檔 (基底檔案) |
| SOSILF11 | LF | 發票主檔邏輯檔案 |

## 4. 紀錄格式

### 4.1 邏輯檔案設定
```
PFILE(SOSIPF)      // 基底實體檔案
```

### 4.2 關鍵欄位 (Key Fields)
| 順序 | 欄位代號 | 欄位名稱 | 型態 | 長度 | 排序 | 說明 |
|------|----------|----------|------|------|------|------|
| 1 | SI21 | 發票日期 | N | 8,0 | DESC | 主要排序鍵 (降序) |

### 4.3 選擇條件 (SELECT/OMIT)
無特殊選擇條件設定

## 5. 主鍵欄位
- **主要鍵值**: SI21
- **排序方式**: 發票日期降序
- **索引類型**: 單一索引，時序導向

## 6. 索引資料
- **排序方式**: SI21 (DESC)
- **索引類型**: 單一索引，降序排列
- **特殊屬性**: DESCEND 排序，最新優先

## 7. 使用說明

### 7.1 檔案用途
- 最新發票查詢
- 發票日期倒序瀏覽
- 發票時序統計
- 日期範圍分析

### 7.2 程式存取方式
```rpg
// 取得最新發票
SETLL *HIVAL SOSILF11;
READP SOSILF11;
// 依日期範圍查詢 (從最新開始)
SETLL (結束日期) SOSILF11;
READ SOSILF11;
```

### 7.3 查詢特性
- **時序**: 最新發票優先出現
- **效率**: 日期倒序查詢最佳化
- **適用**: 發票時序分析與統計

## 8. 備註
- 此邏輯檔案專為時序查詢設計
- 發票日期採降序排列，便於最新資料檢索
- 適用於發票時序分析與報表產生
- 查詢效率優化，適合日期範圍統計 