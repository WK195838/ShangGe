# POPAPF 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | POPAPF |
| 檔案類型 | 實體檔案 (PF) |
| 檔案用途 | 供應商產品報價檔 |
| 作業系統 | AS/400 |
| 建立日期 | - |
| 最後修改日期 | - |

## 2. 檔案功能說明

POPAPF 為供應商產品報價檔的核心實體檔案，負責儲存供應商對各項產品的報價資訊。此檔案記錄包含供應商基本資料、產品資訊、價格條件、交貨條件等完整的採購報價資料，是採購管理系統的重要基礎檔案。

## 3. 系統檔案清單

- **實體檔案**: POPAPF (本檔案)
- **參考檔案**: RERF (欄位參考檔)
- **工作檔案**: REWF02
- **相關邏輯檔**: POPALF、POPALF01-08 等系列邏輯檔

## 4. 記錄格式

### 記錄格式 PA0
- **記錄識別**: PA0
- **記錄類型**: 實體檔記錄格式
- **索引方式**: UNIQUE (唯一索引)

## 5. 欄位規格

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|------|----------|
| PA01 | 供應商代碼 | 1 | R | 文數字 | 參考 RERF | 第一主鍵 |
| PA02 | 報價編號 | 2 | 10 | 文數字 | 一般欄位 | 第二主鍵 |
| PA03 | 產品代碼 | 3 | R | 文數字 | 參考 RERF | 第三主鍵 |
| PA04 | 生產日期 | 4 | 8 | 數字 | 日期格式 | B2CHKA 檢核 |
| PA05 | 供應商產品代碼 | 5 | R | 文數字 | 參考 RERF | - |
| PA06 | 到貨期 | 6 | 8 | 數字 | 日期格式 | B2CHKA 檢核 |
| PA07 | 到貨港區 | 7 | R | 文數字 | 參考 RERF | - |
| PA08 | 幣別 | 8 | R | 文數字 | 參考 RERF | - |
| PA09 | 匯率 | 9 | R | 數字 | 參考 RERF | - |
| PA10 | 單位採購價格 | 10 | R | 數字 | 參考 RERF | - |
| PA11 | 每箱採購價格 | 11 | R | 數字 | 參考 RERF | - |
| PA12 | 產品狀態 | 12 | R | 文字 | 參考 RERF | - |
| PA13 | 包裝說明 | 13 | R | 文字 | 參考 RERF | - |
| PA14 | 備註欄 | 14 | R | 文字 | 參考 RERF | - |
| PAXX | 建立日期 | 15 | 8 | 數字 | 日期格式 | B2CHKA 檢核 |
| PAYY | 建立時間 | 16 | R | 數字 | 參考 RERF | - |
| PAZZ | 建立者 | 17 | R | 文字 | 參考 RERF | - |

## 6. 主鍵欄位

| 順序 | 欄位代號 | 欄位名稱 | 說明 |
|------|----------|----------|------|
| 1 | PA01 | 供應商代碼 | 第一主鍵 |
| 2 | PA02 | 報價編號 | 第二主鍵 |
| 3 | PA03 | 產品代碼 | 第三主鍵 |

## 7. 索引資料

### 存取路徑設定
- **排序方式**: 升序
- **重複鍵值**: 不允許 (UNIQUE)
- **索引類型**: 唯一索引

### 索引鍵值
- 主要索引: PA01+PA02+PA03
- 索引名稱: KEY=PA01-PA03

## 8. 備註

1. **檔案特性**: 
   - 實體檔案
   - 唯一索引設定
   - 參考 RERF 欄位定義檔

2. **重要欄位說明**:
   - PA01: 供應商代碼，連結供應商主檔
   - PA02: 報價編號，識別特定報價單
   - PA03: 產品代碼，連結產品主檔
   - PA04/PA06: 生產日期與到貨期，影響採購時程
   - PA10/PA11: 單位與每箱價格，採購成本計算基礎

3. **檢核設定**:
   - B2CHKA: 針對日期欄位 (PA04, PA06, PAXX) 進行格式檢核
   - 確保日期資料的正確性與一致性

4. **系統關聯**:
   - 為多個 POPALF 邏輯檔的基礎檔案
   - 與工作檔 REWF02 關聯
   - 支援各種不同的查詢與報表需求

5. **使用注意事項**:
   - 主鍵組合確保報價資料的唯一性
   - 日期欄位需遵循系統日期格式標準
   - 價格欄位與幣別、匯率欄位需保持一致性
   - 產品狀態欄位影響邏輯檔的選擇條件 