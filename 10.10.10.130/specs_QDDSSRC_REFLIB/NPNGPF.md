# NPNGPF 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | NPNGPF |
| 檔案描述 | 費用代碼對照檔 |
| 檔案類型 | PF (Physical File) |
| 記錄格式 | NG0 |
| 主鍵 | NG01 (費用代碼) |
| 檔案屬性 | UNIQUE |
| Reference檔案 | RERF |

## 2. 檔案功能說明

NPNGPF 為費用代碼對照的實體檔案，儲存系統中所有費用類別的代碼資訊，包括：
- 費用代碼定義與說明
- 會計科目對照
- 費用分類管理
- 成本中心歸屬
- 預算控制參數

## 3. 系統檔案清單

| 檔案代號 | 檔案名稱 | 說明 |
|----------|----------|------|
| NPNGPF | 費用代碼對照檔 | 主檔 |
| NPNGLF | 費用代碼對照邏輯檔 | 邏輯檢視 |
| RERF | 參考檔案 | 欄位定義參考 |

## 4. 紀錄格式

### 記錄格式：NG0

## 5. 欄位規格

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|------|----------|
| NG01 | 費用代碼 | 1-5 | 5 | A | R | 主鍵，費用識別碼 |
| NG02 | 費用名稱 | 6-25 | 20 | A | R | 費用中文名稱 |
| NG03 | 英文名稱 | 26-45 | 20 | A | R | 費用英文名稱 |
| NG04 | 費用分類 | 46-50 | 5 | A | R | 費用類別代號 |
| NG05 | 會計科目 | 51-60 | 10 | A | R | 對應會計科目 |
| NG06 | 使用狀態 | 61 | 1 | A | R | 'A'-有效，'I'-停用 |
| NG07 | 費用說明 | 62-101 | 40 | A | R | 費用詳細說明 |
| NG08 | 成本中心 | 102-106 | 5 | A | R | 歸屬成本中心 |
| NG09 | 預算控制 | 107 | 1 | A | R | 'Y'-需預算控制 |
| NG10 | 審核等級 | 108-109 | 2 | N | R | 需審核等級 |
| NG11 | 報表分組 | 110-114 | 5 | A | R | 報表分組代號 |
| NG12 | 稅務性質 | 115 | 1 | A | R | 稅務處理性質 |
| NGXX | 建立日期 | 116-123 | 8 | N | R | 格式：YYYYMMDD |
| NGYY | 建立時間 | 124-129 | 6 | N | R | 格式：HHMMSS |
| NGZZ | 建立者 | 130-139 | 10 | A | R | 操作人員 |

## 6. 主鍵欄位

| 鍵值序號 | 欄位代號 | 欄位名稱 | 排序 |
|----------|----------|----------|------|
| 1 | NG01 | 費用代碼 | 升序 |

## 7. 索引資料

### 主要索引
- **索引名稱**：主鍵索引
- **索引欄位**：NG01
- **索引類型**：UNIQUE
- **說明**：確保費用代碼唯一性

### 輔助索引
1. **分類索引**：NG04 (費用分類)
2. **科目索引**：NG05 (會計科目)
3. **狀態索引**：NG06 (使用狀態)
4. **成本中心索引**：NG08 (成本中心)
5. **報表分組索引**：NG11 (報表分組)

## 8. 備註

### 設計考量
1. 此檔案為費用管理系統的核心檔案
2. 提供費用分類與會計科目的對照機制
3. 支援預算控制與成本分析功能

### 費用分類
- **直接費用**：直接歸屬於特定成本對象
- **間接費用**：需分攤的共同費用
- **管理費用**：管理部門發生的費用
- **銷售費用**：銷售活動相關費用

### 參考關聯
- **會計系統**：透過 NG05 連結會計科目
- **成本中心**：透過 NG08 連結成本中心
- **預算系統**：透過 NG09 控制預算執行
- **邏輯檔案**：NPNGLF (費用代碼邏輯檔)

### 資料完整性
1. 費用代碼必須唯一
2. 會計科目需對應會計科目表
3. 成本中心需對應有效成本中心
4. 審核等級需符合組織架構

### 維護注意事項
1. 費用代碼異動影響會計處理流程
2. 會計科目變更需通知財務部門
3. 停用費用代碼需確認無未完成業務
4. 預算控制設定影響費用申請流程 