# POPDLF1 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | POPDLF1 |
| 檔案類型 | 邏輯檔案 (LF) |
| 檔案用途 | 國外採購驗收主檔邏輯檔 |
| 作業系統 | AS/400 |
| 建立日期 | - |
| 最後修改日期 | - |

## 2. 檔案功能說明

POPDLF1 為國外採購驗收主檔 (POPDPF) 的時間導向邏輯檔案，提供透過特定鍵值組合存取實體檔資料的路徑。此邏輯檔案的特殊之處在於驗收日期 (PD04) 採用降序排列，適用於需要按最新日期優先顯示的國外採購驗收查詢需求。

## 3. 系統檔案清單

- **實體檔案**: POPDPF (國外採購驗收主檔)
- **邏輯檔案**: POPDLF1 (本檔案)

## 4. 記錄格式

### 記錄格式 PD0
- **記錄識別**: PD0
- **檔案參照**: POPDPF
- **記錄類型**: 邏輯檔記錄格式

## 5. 欄位規格

POPDLF1 邏輯檔案使用 POPDPF 實體檔案的所有欄位，詳細欄位規格請參考 POPDPF 實體檔案規格書。

## 6. 主鍵欄位

| 順序 | 欄位代號 | 欄位名稱 | 排序方向 | 說明 |
|------|----------|----------|----------|------|
| 1 | PD04 | 驗收日期 | 降序 | 第一排序鍵值 (DESCEND) |
| 2 | PD02 | 驗收單編號 | 升序 | 第二排序鍵值 |

## 7. 索引資料

### 存取路徑設定
- **排序方式**: 混合排序 (降序+升序)
- **重複鍵值**: 不允許
- **索引類型**: 唯一索引

### 索引鍵值
- 第一鍵值: PD04 (驗收日期) - 降序
- 第二鍵值: PD02 (驗收單編號) - 升序

### 特殊排序設定
- PD04 欄位設定為 DESCEND (降序排列)

## 8. 備註

1. **檔案特性**: 
   - 邏輯檔案
   - 參照實體檔案 POPDPF
   - 混合排序模式 (降序+升序)
   - 最新日期優先設計

2. **存取特性**:
   - 提供最新日期優先的存取路徑
   - 支援按最新驗收日期→驗收單編號順序查詢
   - 特別適合需要查看最新驗收資料的業務需求

3. **時間導向查詢特色**:
   - 降序排列確保最新的驗收日期資料優先顯示
   - 支援時間序列倒序分析
   - 便於最新驗收活動的快速檢視

4. **與其他 POPDLF 檔案差異**:
   - POPDLF: 基礎單純 PD02 索引
   - POPDLF01: PD01+PD04+PD02 (廠商優先升序)
   - POPDLF02: PD04+PD01+PD02 (時間優先升序)
   - POPDLF1: PD04(D)+PD02 (最新日期優先降序)

5. **使用注意事項**:
   - 適用於需要查看最新驗收資料的作業程式
   - 降序排列確保最新的驗收日期資料優先顯示
   - 支援最新驗收單查詢與近期驗收分析
   - 特別適合即時驗收監控與最新驗收統計
   - 便於驗收活動的時效性管理
   - 專門處理國外採購驗收的最新狀態查詢 