# IMINLF01 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案代號 | IMINLF01 |
| 檔案名稱 | 存貨月結檔 |
| 檔案類型 | LF (邏輯檔案) |
| 資料庫 | REFLIB |
| 記錄格式 | IN0 |
| 基礎實體檔案 | IMINPF |

## 2. 檔案功能說明

此邏輯檔案基於 IMINPF（存貨月結檔實體檔案），提供以單據編號、年月、產品項次代號（重新排序）的存取路徑。主要用於存貨月結作業的特定排序查詢，將產品項次代號的順序重新調整，方便按照不同的產品項次優先順序進行資料存取。適用於需要特定排序邏輯的存貨月結管理作業。

## 3. 系統檔案清單

| 檔案代號 | 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|----------|------|
| IMINLF01 | 存貨月結檔 | LF | 邏輯檔案 |
| IMINPF | 存貨月結檔 | PF | 基礎實體檔案 |

## 4. 紀錄格式

### 記錄格式：IN0
- **基於實體檔案**：IMINPF
- **存取方式**：直接邏輯存取
- **排序方式**：複合排序（單據編號 + 年月 + 產品項次代號調整順序）

## 5. 欄位代號、名稱、位置、長度、屬性、檢核說明

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|----------|----------|
| IN01 | 單據編號 | - | - | - | R,K | 參照 RERF，單據編號，索引欄位1 |
| IN02 | 年月 | - | - | - | R,K | 參照 RERF，年月，索引欄位2 |
| IN03 | 產品項次代號 | - | - | - | R,K | 參照 RERF，產品項次代號，索引欄位4 |
| IN04 | 產品項次代號 | - | - | - | R,K | 參照 RERF，產品項次代號，索引欄位3 |
| IN05 | 期初庫存 | - | - | - | R | 參照 RERF，期初庫存 |
| IN06 | 進貨 | - | - | - | R | 參照 RERF，進貨 |
| IN07 | 退貨 | - | - | - | R | 參照 RERF，退貨 |
| IN08 | 銷貨 | - | - | - | R | 參照 RERF，銷貨 |
| IN09 | 銷退 | - | - | - | R | 參照 RERF，銷退 |
| IN10 | 耗貨 | - | - | - | R | 參照 RERF，耗貨 |
| IN11 | 盤點 | - | - | - | R | 參照 RERF，盤點 |
| IN12 | 其他增 | - | - | - | R | 參照 RERF，其他增加 |
| IN13 | 調撥 | - | - | - | R | 參照 RERF，調撥 |
| IN14 | 調整 | - | - | - | R | 參照 RERF，調整 |
| IN15 | 報廢 | - | - | - | R | 參照 RERF，報廢 |
| IN16 | 禮盒組拆 | - | - | - | R | 參照 RERF，禮盒組拆 |
| IN17 | 期末庫存 | - | - | - | R | 參照 RERF，期末庫存 |

## 6. 主鍵欄位

| 主鍵順序 | 欄位代號 | 欄位名稱 | 排序 |
|----------|----------|----------|------|
| 1 | IN01 | 單據編號 | ASC |
| 2 | IN02 | 年月 | ASC |
| 3 | IN04 | 產品項次代號 | ASC |
| 4 | IN03 | 產品項次代號 | ASC |

## 7. 索引資料

### 主要索引
- **索引鍵值**：IN01 + IN02 + IN04 + IN03
- **索引類型**：複合索引
- **排序方式**：遞增排序
- **用途**：支援按照單據編號、年月、產品項次代號（重新排序）的存取路徑

## 8. 備註

1. 此檔案為邏輯檔案，基於 IMINPF 實體檔案
2. 採用複合索引鍵值排序
3. 所有欄位定義均繼承自基礎實體檔案 IMINPF
4. 主要特色是重新調整產品項次代號的排序順序
5. 適用於需要特定排序邏輯的存貨月結查詢
6. 支援存貨月結作業的多元化資料存取需求
7. 提供與標準邏輯檔案不同的排序視圖
8. 便於特定業務邏輯的資料處理 