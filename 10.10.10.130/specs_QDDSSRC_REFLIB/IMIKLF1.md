# IMIKLF1 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案代號 | IMIKLF1 |
| 檔案名稱 | 派車主檔 |
| 檔案類型 | LF (邏輯檔案) |
| 資料庫 | REFLIB |
| 記錄格式 | IK0 |
| 基礎實體檔案 | IMIKPF |

## 2. 檔案功能說明

此邏輯檔案基於 IMIKPF（派車主檔實體檔案），提供以送貨日期（遞減）、產品項次代號、出貨日期、序號的組合排序存取路徑。主要用於派車作業的資料查詢和管理，按照送貨日期的遞減順序排列，方便查詢最新的派車資料。適用於派車調度、物流管理等業務場景。

## 3. 系統檔案清單

| 檔案代號 | 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|----------|------|
| IMIKLF1 | 派車主檔 | LF | 邏輯檔案 |
| IMIKPF | 派車主檔 | PF | 基礎實體檔案 |

## 4. 紀錄格式

### 記錄格式：IK0
- **基於實體檔案**：IMIKPF
- **存取方式**：直接邏輯存取
- **排序方式**：複合排序（送貨日期遞減 + 產品項次代號 + 出貨日期 + 序號）

## 5. 欄位代號、名稱、位置、長度、屬性、檢核說明

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|----------|----------|
| IK01 | 派車單號 | - | - | - | R | 參照 RERF，派車單號 |
| IK02 | 產品項次代號 | - | - | - | R | 參照 RERF，產品項次代號，索引欄位2 |
| IK03 | 送貨日期 | - | - | - | R | 參照 RERF，送貨日期，索引欄位1（遞減） |
| IK04 | 出貨日期 | - | - | - | R | 參照 RERF，出貨日期，索引欄位3 |
| IK05 | 序號 | - | - | - | R | 參照 RERF，序號，索引欄位4 |

## 6. 主鍵欄位

| 主鍵順序 | 欄位代號 | 欄位名稱 | 排序 |
|----------|----------|----------|------|
| 1 | IK03 | 送貨日期 | DESC |
| 2 | IK02 | 產品項次代號 | ASC |
| 3 | IK04 | 出貨日期 | ASC |
| 4 | IK05 | 序號 | ASC |

## 7. 索引資料

### 主要索引
- **索引鍵值**：IK03 + IK02 + IK04 + IK05
- **索引類型**：複合索引
- **排序方式**：
  - IK03 (送貨日期)：遞減排序 (DESCEND)
  - IK02 (產品項次代號)：遞增排序
  - IK04 (出貨日期)：遞增排序
  - IK05 (序號)：遞增排序
- **用途**：支援按照送貨日期遞減順序的派車資料查詢

## 8. 備註

1. 此檔案為邏輯檔案，基於 IMIKPF 實體檔案
2. 採用複合索引鍵值排序
3. 送貨日期採用遞減排序，便於查詢最新派車資料
4. 所有欄位定義均繼承自基礎實體檔案 IMIKPF
5. 主要用於派車作業的資料管理和查詢
6. 支援按照時間順序的派車資料存取
7. 適用於物流調度和派車管理系統
8. 提供多層次的資料排序功能 