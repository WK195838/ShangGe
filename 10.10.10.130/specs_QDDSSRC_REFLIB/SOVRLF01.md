# SOVRLF01 檔案規格書

## 1. 基本資料

| 欄位 | 內容 |
|------|------|
| 檔案名稱 | SOVRLF01 |
| 檔案描述 | 媒體申報人工輸入檔－進項 |
| 檔案類型 | 邏輯檔案 (LF) |
| 記錄格式 | VR0 |
| 關鍵字 | VR91+VR92+VR04+VR96 |
| 實體檔案 | SOVRPF |
| 作業系統 | AS/400 |
| 資料庫 | DB2/400 |
| 存取方式 | 索引存取 |

## 2. 檔案功能說明

媒體申報人工輸入檔進項邏輯檔專門用於人工輸入的進項稅額資料存取，透過格式範圍選擇(21-29)篩選進項相關資料。本邏輯檔提供按期數、類型、年月、程式名稱排序的人工進項資料存取功能，支援人工調整的進項稅額申報作業。

## 3. 系統檔案清單

| 相關檔案 | 檔案名稱 | 說明 |
|----------|----------|------|
| 邏輯檔案 | SOVRLF01 | 媒體申報人工輸入檔進項邏輯檔 |
| 實體檔案 | SOVRPF | 媒體申報人工輸入檔 |
| 相關檔案 | SOVRLF02 | 媒體申報人工輸入檔銷項邏輯檔 |

## 4. 紀錄格式

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|------|----------|
| VR91 | 期數編號 | 1-2 | 2 | 文字 | 索引1 | 申報期數識別 |
| VR92 | 類型處理 | 3-3 | 1 | 文字 | 索引2 | 申報類型處理碼 |
| VR04 | 發票年月 | 4-9 | 6,0 | 數值 | 索引3 | 發票年月(YYYYMM) |
| VR96 | 程式名稱 | 10-15 | 6 | 文字 | 索引4 | 程式名稱 |
| VR01 | 格式 | 16-17 | 2 | 文字 | 選擇 | 進項格式(21-29) |

## 5. 主鍵欄位

- **排序鍵**：VR91+VR92+VR04+VR96 (期數編號+類型處理+發票年月+程式名稱)
- **索引類型**：複合索引
- **排序方式**：遞增排序
- **選擇條件**：VR01 RANGE('21' '29')

## 6. 索引資料

| 索引名稱 | 索引欄位 | 索引類型 | 說明 |
|----------|----------|----------|------|
| PRIMARY | VR91+VR92+VR04+VR96 | LOGICAL | 人工進項複合索引 |

## 7. 使用說明

1. **人工進項管理**：專門存取人工輸入的進項稅額資料
2. **申報期數查詢**：按期數編號進行人工進項資料查詢
3. **程式追蹤**：按程式名稱追蹤人工輸入來源
4. **格式篩選**：自動篩選進項格式範圍(21-29)的資料
5. **人工調整**：支援人工調整進項稅額的記錄與查詢

## 8. 備註

- 邏輯檔案基於SOVRPF實體檔案建立
- 使用RANGE選擇條件限制格式為進項範圍(21-29)
- 程式名稱欄位用於追蹤人工輸入的程式來源
- 與SOVRLF02銷項邏輯檔對應，形成完整的人工輸入管理
- 支援媒體申報系統的人工進項稅額處理需求 