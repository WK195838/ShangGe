# IMIALF04 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | IMIALF04 |
| 檔案類型 | 邏輯檔案 (Logical File) |
| 檔案用途 | 產品庫存主檔（精簡版） |
| 紀錄格式 | IA0 |
| 基礎實體檔案 | IMIAPF |
| 主鍵欄位 | IA03 |
| 排序方式 | 升序 |
| 特殊用途 | 產品名稱索引查詢 |

## 2. 檔案功能說明

IMIALF04是產品庫存主檔的邏輯檔案，專門提供精簡的產品資訊：

1. **主要功能**：提供產品庫存資料的精簡邏輯存取路徑
2. **基礎檔案**：基於IMIAPF實體檔案建立
3. **系統用途**：支援產品名稱導向的快速查詢
4. **索引設計**：使用IA03（產品名稱）作為主鍵
5. **存取特性**：按產品名稱排序，僅包含關鍵欄位
6. **專用功能**：專門為產品名稱查詢優化的存取路徑

## 3. 系統檔案清單

| 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|------|
| IMIALF04 | 邏輯檔案 | 產品庫存主檔邏輯檔案（精簡版） |
| IMIAPF | 實體檔案 | 產品庫存主檔實體檔案（基礎檔案） |
| IMIALF | 邏輯檔案 | 產品庫存主檔邏輯檔案（標準排序） |
| IMIALF01 | 邏輯檔案 | 產品庫存主檔邏輯檔案（產品名稱優先） |
| IMIALF02 | 邏輯檔案 | 產品庫存主檔邏輯檔案（產品代號優先） |
| IMIALF03 | 邏輯檔案 | 產品庫存主檔邏輯檔案（盤點專用） |

## 4. 紀錄格式

| 格式名稱 | 說明 |
|----------|------|
| IA0 | 產品庫存主記錄格式（精簡版，僅包含選定欄位） |

## 5. 欄位代號、名稱、位置、長度、屬性、檢核說明

本邏輯檔案使用PFILE(IMIAPF)，僅選擇特定欄位：

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 說明 |
|----------|----------|------|------|------|------|------|
| IA03 | 產品名稱 | 1 | - | - | 主鍵 | 產品名稱（主要排序鍵） |
| IA02 | 產品代號 | 2 | - | - | 選擇 | 產品代號 |
| IA08 | 庫存數量 | 3 | - | - | 選擇 | 庫存數量 |
| IA10 | 單位成本 | 4 | - | - | 選擇 | 單位成本 |

*註：詳細欄位規格請參考基礎實體檔案IMIAPF的定義*

## 6. 主鍵欄位

本邏輯檔案的主鍵欄位為：
- IA03（產品名稱）

### 主鍵特性：
- **IA03（產品名稱）**：單一主鍵，按產品名稱排序
- **唯一性**：依據產品名稱進行排序和存取
- **查詢優化**：專門為產品名稱查詢設計

## 7. 索引資料

| 索引名稱 | 索引鍵 | 排序 | 用途說明 |
|----------|--------|------|----------|
| 主索引 | IA03 | 升序 | 產品名稱排序查詢 |

### 索引特性：
- **單一索引**：以產品名稱為主鍵
- **名稱優化**：專為產品名稱查詢優化
- **精簡設計**：僅包含必要的欄位資訊

## 8. 備註

1. **邏輯檔案特性**：
   - 基於IMIAPF實體檔案的邏輯檔案
   - 使用PFILE(IMIAPF)引用基礎檔案
   - 僅選擇特定欄位（IA02、IA03、IA08、IA10）
2. **精簡設計**：
   - 排序方式：IA03（產品名稱）
   - 僅包含關鍵欄位：產品代號、產品名稱、庫存數量、單位成本
   - 適合快速查詢和報表產生
3. **欄位選擇**：
   - IA02：產品代號（識別用）
   - IA03：產品名稱（主鍵）
   - IA08：庫存數量（庫存資訊）
   - IA10：單位成本（成本資訊）
4. **與其他IMIALF系列比較**：
   - IMIALF：完整欄位，IA01+IA02+IA03排序
   - IMIALF01：完整欄位，IA03+IA02+IA01排序
   - IMIALF02：完整欄位，IA02+IA03+IA01排序
   - IMIALF03：完整欄位，IA02+IA01+IA03排序（盤點專用）
   - IMIALF04：精簡欄位，IA03排序（本檔案）
5. **應用場景**：
   - 產品名稱查詢
   - 產品清單報表
   - 庫存快速查詢
   - 成本資訊檢視
6. **索引設計**：
   - 採用單一主鍵（IA03）
   - 產品名稱為唯一排序依據
   - 支援產品名稱導向的資料查詢模式
7. **系統整合**：
   - 與IMIAPF實體檔案緊密整合
   - 與其他IMIALF系列提供互補的存取路徑
   - 專門支援產品名稱查詢應用
8. **資料存取**：
   - 僅繼承選定的欄位
   - 提供精簡的產品資料檢視
   - 支援快速的產品查詢
9. **業務應用**：
   - 產品名稱查詢
   - 庫存快速檢視
   - 產品成本查詢
   - 精簡報表產生
10. **檔案關係**：
    - 邏輯檔案：IMIALF04（本檔案）
    - 實體檔案：IMIAPF（基礎檔案）
    - 相關邏輯檔案：IMIALF系列
11. **存取效能**：
    - 針對產品名稱查詢優化
    - 精簡欄位提高查詢效率
    - 支援快速的產品資訊存取
12. **資料完整性**：
    - 依賴基礎實體檔案的資料完整性
    - 透過邏輯檔案提供一致的資料檢視
    - 確保產品資料的準確性
13. **維護特性**：
    - 結構簡單，維護容易
    - 變更需同步考慮基礎實體檔案
    - 提供穩定的產品資料存取介面
14. **系統價值**：
    - 作為產品查詢系統的精簡存取檔案
    - 提供高效的產品名稱檢索
    - 與其他邏輯檔案形成完整的存取路徑體系
15. **特殊用途**：
    - 專門用於產品名稱導向查詢
    - 支援快速的產品資訊檢索
    - 便於產品清單和報表的產生
16. **效能優化**：
    - 精簡欄位設計減少I/O負擔
    - 單一主鍵提高查詢效率
    - 適合大量產品名稱查詢場景