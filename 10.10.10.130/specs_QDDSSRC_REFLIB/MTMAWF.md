# MTMAWF 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | MTMAWF |
| 檔案描述 | 產品基本資料檔 (工作檔) |
| 檔案類型 | PF (Physical File) |
| 記錄格式 | WF0 |
| 複合主鍵 | WF01 + WF02 + WF05 + WF04 |
| 檔案屬性 | UNIQUE |

## 2. 檔案功能說明

MTMAWF 為產品基本資料的工作檔案，用於暫存和處理產品相關資料，包括：
- 產品代號與分類號
- 供應商與專櫃資訊
- 數量與價格暫存
- 批次處理作業

## 3. 系統檔案清單

| 檔案代號 | 檔案名稱 | 說明 |
|----------|----------|------|
| MTMAWF | 產品基本資料工作檔 | 主檔 |
| MTMAPF | 產品基本資料檔 | 參考主檔 |

## 4. 紀錄格式

### 記錄格式：WF0

## 5. 欄位規格

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|------|----------|
| WF01 | 產品代號 | 1-9 | 9 | A | - | 主鍵，產品識別碼 |
| WF02 | 分類號 | 10-15 | 6 | N | - | 主鍵，產品分類 |
| WF03 | 供應商代號 | 16-20 | 5 | A | - | 供應商識別 |
| WF04 | 專櫃代號 | 21-25 | 5 | A | - | 主鍵，專櫃識別 |
| WF05 | 單據代號 | 26-30 | 5 | A | - | 主鍵，單據識別 |
| WF06 | 數量 | 31-39 | 9 | N | 2位小數 | 產品數量 |
| WF07 | 價格 | 40-48 | 9 | N | 2位小數 | 產品價格 |

## 6. 主鍵欄位

| 鍵值序號 | 欄位代號 | 欄位名稱 | 排序 |
|----------|----------|----------|------|
| 1 | WF01 | 產品代號 | 升序 |
| 2 | WF02 | 分類號 | 升序 |
| 3 | WF05 | 單據代號 | 升序 |
| 4 | WF04 | 專櫃代號 | 升序 |

## 7. 索引資料

### 主要索引
- **索引名稱**：複合主鍵索引
- **索引欄位**：WF01 + WF02 + WF05 + WF04
- **索引類型**：UNIQUE
- **說明**：確保工作資料的唯一性

### 使用索引
1. **產品索引**：WF01 (產品代號)
2. **分類索引**：WF02 (分類號)
3. **專櫃索引**：WF04 (專櫃代號)
4. **單據索引**：WF05 (單據代號)

## 8. 備註

### 設計考量
1. 此檔案為 MTMAPF (產品基本資料檔) 的工作檔案
2. 用於暫存處理中的產品資料
3. 複合主鍵設計確保資料處理的完整性

### 參考關聯
- **主檔關聯**：MTMAPF (MA01 = WF01)
- **供應商關聯**：MTMBPF (MB01 = WF03)
- **專櫃關聯**：MTMGPF (MG01 = WF04)

### 資料完整性
1. WF01 應對應 MTMAPF.MA01
2. 數量和價格欄位需進行數值合理性檢查
3. 工作檔案需定期清理歷史資料

### 維護注意事項
1. 此為臨時工作檔，不應長期保存資料
2. 處理完成後需及時清理資料
3. 複合主鍵順序影響查詢效能
4. 批次處理時需注意資料鎖定問題 