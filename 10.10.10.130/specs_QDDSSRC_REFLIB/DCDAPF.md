# DCDAPF 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | DCDAPF |
| 檔案類型 | 實體檔案 (Physical File) |
| 檔案用途 | 捷盟發票驗收單號對照檔 |
| 紀錄格式 | DA0 |
| 主鍵欄位 | DA11+DA01+DA13 |
| 排序方式 | 升序 |

## 2. 檔案功能說明

DCDAPF是捷盟發票驗收單號對照的主要實體檔案：

1. **主要功能**：儲存捷盟發票驗收單號對照資料
2. **資料內容**：包含公司別、客戶代號、發票輸出狀態等關鍵資訊
3. **系統用途**：支援捷盟介面系統的發票處理作業
4. **索引設計**：以公司別+客戶代號+發票輸出為複合主鍵
5. **資料管理**：提供發票驗收單號的完整對照資訊

## 3. 系統檔案清單

| 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|------|
| DCDAPF | 實體檔案 | 捷盟發票驗收單號對照檔（主檔案） |
| DCDALF01 | 邏輯檔案 | 基於DCDAPF的邏輯檔案 |
| DCDALF02 | 邏輯檔案 | 基於DCDAPF的邏輯檔案 |

## 4. 紀錄格式

| 格式名稱 | 說明 |
|----------|------|
| DA0 | 捷盟發票驗收單號對照主記錄格式 |

## 5. 欄位代號、名稱、位置、長度、屬性、檢核說明

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 說明 |
|----------|----------|------|------|------|------|------|
| DA11 | 公司別 | 1 | 1 | 字元 | 主鍵 | 公司代號 |
| DA01 | 客戶代號 | 2 | 9 | 字元 | 主鍵 | 客戶代號 |
| DA13 | 發票輸出 | 3 | 10 | 字元 | 主鍵 | 發票輸出標記 |
| DA03 | 發票年月日 | 4 | 8 | 數值 | - | 發票日期（YYYYMMDD） |
| DA04 | 年月 | 5 | 6 | 數值 | - | 年月（YYYYMM） |
| DA05 | 其他年月日 | 6 | 8 | 數值 | - | 其他相關日期 |
| DA06 | 發票日期 | 7 | 8 | 數值 | 編輯字 | 發票日期，編輯格式：____/__/__ |
| DA07 | 發票格式 | 8 | 4 | 字元 | - | 發票格式代號 |
| DA10 | 驗收編號 | 9 | 10 | 字元 | - | 驗收單編號 |
| DA08 | DA編號 | 10 | 3 | 字元 | - | DA系統編號 |
| DA09 | 其他編號 | 11 | 10 | 字元 | - | 其他相關編號 |
| DA12 | 資料標記 | 12 | 1 | 字元 | - | 資料狀態標記 |
| DAXX | 異動代號 | 13 | 8 | 數值 | - | 異動識別代號 |
| DAYY | 異動時間 | 14 | 6 | 數值 | - | 異動時間（HHMMSS） |
| DAZZ | 異動者 | 15 | 10 | 字元 | - | 異動操作者 |

## 6. 主鍵欄位

本實體檔案的主鍵欄位為：
- DA11（公司別）
- DA01（客戶代號）
- DA13（發票輸出）

### 主鍵特性：
- **DA11（公司別）**：第一層分類，依公司別區分資料
- **DA01（客戶代號）**：第二層分類，客戶層級分組
- **DA13（發票輸出）**：第三層分類，發票輸出狀態分類

## 7. 索引資料

| 索引名稱 | 索引鍵 | 排序 | 用途說明 |
|----------|--------|------|----------|
| 主索引 | DA11+DA01+DA13 | 升序 | 公司別+客戶+發票輸出複合查詢 |

### 索引特性：
- **複合索引**：三個欄位組成的複合主鍵
- **階層查詢**：支援公司別、客戶別、發票狀態的多層次查詢
- **唯一性約束**：確保每筆記錄的唯一性
- **查詢效能**：提供高效的資料存取路徑

## 8. 備註

1. **捷盟專用檔案**：專門用於捷盟通路的發票驗收單號對照
2. **複合主鍵設計**：以公司別+客戶代號+發票輸出組成唯一識別
3. **日期欄位**：
   - DA03：發票年月日（數值格式）
   - DA06：發票日期（編輯格式顯示）
   - DA05：其他年月日（備用日期欄位）
4. **編號管理**：
   - DA10：驗收編號（主要業務編號）
   - DA08：DA編號（系統內部編號）
   - DA09：其他編號（擴充編號欄位）
5. **狀態控制**：
   - DA12：資料標記（狀態控制）
   - DA13：發票輸出（輸出狀態）
6. **異動追蹤**：包含異動代號、時間、操作者等完整追蹤資訊
7. **系統整合**：作為DCDALF01和DCDALF02邏輯檔案的基礎
8. **業務應用**：
   - 發票驗收單號對照查詢
   - 捷盟介面資料處理
   - 發票狀態管理
   - 客戶發票追蹤
9. **資料完整性**：透過主鍵約束確保資料的唯一性和完整性 