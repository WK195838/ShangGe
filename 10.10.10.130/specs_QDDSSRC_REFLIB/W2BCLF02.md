# W2BCLF02 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | W2BCLF02 |
| 檔案類型 | 邏輯檔 (LF) |
| 檔案描述 | 後台訂貨主檔邏輯檔02 |
| 基礎實體檔 | W2BCPF |
| 作業系統 | AS/400 |
| 資料庫 | DB2/400 |

## 2. 檔案功能說明

此檔案為後台訂貨主檔的邏輯檔，提供時序優先排序(訂貨日期倒序+營業點+訂貨編號)檢索。主要功能：
- 以訂貨日期倒序為主要排序鍵，最新訂貨優先
- 提供全系統時序性的訂貨檢索
- 支援時間導向的訂貨管理

## 3. 系統檔案清單

| 項目 | 檔案名稱 | 類型 | 說明 |
|------|----------|------|------|
| 主檔 | W2BCLF02 | LF | 後台訂貨主檔邏輯檔02 |
| 基礎檔 | W2BCPF | PF | 後台訂貨主檔 |

## 4. 紀錄格式

### 記錄格式：BC0
**基礎實體檔：W2BCPF**

| 欄位代號 | 欄位名稱 | 型態 | 長度 | 小數 | 說明 |
|----------|----------|------|------|------|------|
| BC01 | 訂貨日期 | S | 8 | 0 | 訂貨日期 |
| BC02 | 營業點 | A | 5 | 0 | 營業點代號 |
| BC03 | 訂貨編號 | A | 12 | 0 | 訂貨編號 |
| BC04 | 狀態 | A | 1 | 0 | 處理狀態 |
| BC05 | 確認人員 | A | 10 | 0 | 確認人員代號 |
| BCXX | 建立日期 | S | 8 | 0 | 記錄建立日期 |
| BCYY | 建立時間 | S | 6 | 0 | 記錄建立時間 |
| BCZZ | 建立人員 | A | 10 | 0 | 記錄建立人員 |

## 5. 主鍵欄位

| 順序 | 欄位代號 | 欄位名稱 | 排序方式 |
|------|----------|----------|----------|
| 1 | BC01 | 訂貨日期 | 遞減 |
| 2 | BC02 | 營業點 | 遞增 |
| 3 | BC03 | 訂貨編號 | 遞增 |

## 6. 索引資料

### 索引鍵值
- **主索引**：BC01 (DESCEND) + BC02 + BC03
- **排序方式**：訂貨日期遞減，營業點遞增，訂貨編號遞增
- **唯一性**：繼承基礎檔案的UNIQUE約束

### 存取路徑
此邏輯檔提供以下存取路徑：
1. 依訂貨日期倒序存取全系統訂貨記錄
2. 最新訂貨記錄優先顯示
3. 支援全系統訂貨歷史的時序檢索

### 排序邏輯
- **主要排序**：訂貨日期(最新→最舊)
- **次要排序**：營業點(A-Z順序)
- **第三排序**：訂貨編號(A-Z順序)

## 7. 使用說明

### 查詢功能
- 支援時序導向的訂貨管理
- 全系統最新訂貨記錄優先顯示
- 提供訂貨歷史的時序分析功能

### 作業程序
1. 系統自動按訂貨日期倒序排列
2. 最新訂貨記錄排在最前面
3. 相同日期內按營業點及訂貨編號排序
4. 支援訂貨趨勢分析及監控

### 檢索邏輯
- **時序排列**：最新訂貨記錄優先
- **營業點分組**：相同日期內依營業點排序
- **分析支援**：便於訂貨趨勢分析

### 注意事項
- 此為唯讀邏輯檔，不可直接進行資料維護
- 排序邏輯以時間為中心，營業點為輔助
- 適用於訂貨監控及趨勢分析

## 8. 備註

- 邏輯檔建立於W2BCPF基礎檔案之上
- 提供時序導向的訂貨記錄檢索
- 支援全系統訂貨歷史的時序管理
- 排序邏輯：訂貨日期(遞減) + 營業點(遞增) + 訂貨編號(遞增)
- 適用於訂貨監控及趨勢分析需求 