# MTMGLF 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | MTMGLF |
| 檔案描述 | 專櫃PLU檔 (邏輯檔) |
| 檔案類型 | LF (Logical File) |
| 記錄格式 | MG0 |
| 主鍵 | MG01 (PLU代號) |
| 實體檔案 | MTMGPF |
| 檔案屬性 | 邏輯檢視 |

## 2. 檔案功能說明

MTMGLF 為 MTMGPF 專櫃PLU檔的邏輯檔案，提供：
- 專櫃PLU資料的標準檢視
- PLU與產品對應關係查詢
- 專櫃銷售管理檢視
- POS系統介面

## 3. 系統檔案清單

| 檔案代號 | 檔案名稱 | 說明 |
|----------|----------|------|
| MTMGLF | 專櫃PLU邏輯檔 | 主檔 |
| MTMGPF | 專櫃PLU實體檔 | 實體檔案 |
| MTMAPF | 產品基本資料檔 | 關聯檔案 |
| RERF | 參考檔案 | 欄位定義參考 |

## 4. 紀錄格式

### 記錄格式：MG0 (繼承自 MTMGPF)

## 5. 欄位規格

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|------|----------|
| MG01 | PLU代號 | 1-13 | 13 | A | R | 主鍵，PLU識別碼 |
| MG02 | 產品代號 | 14-22 | 9 | A | R | 對應產品代號 |
| MG03 | 專櫃編號 | 23-27 | 5 | A | R | 專櫃編號 |
| MG04 | 建檔日期 | 28-35 | 8 | N | R | 格式：YYYYMMDD |
| MG05 | 使用狀態 | 36 | 1 | A | R | 'A'-有效，'I'-停用 |
| MG06 | 產品說明 | 37-56 | 20 | A | R | 產品說明文字 |
| MGXX | 建立日期 | 57-64 | 8 | N | R | 格式：YYYYMMDD |
| MGYY | 建立時間 | 65-70 | 6 | N | R | 格式：HHMMSS |
| MGZZ | 建立者 | 71-80 | 10 | A | R | 操作人員 |

## 6. 主鍵欄位

| 鍵值序號 | 欄位代號 | 欄位名稱 | 排序 |
|----------|----------|----------|------|
| 1 | MG01 | PLU代號 | 升序 |

## 7. 索引資料

### 主要索引
- **索引名稱**：主鍵索引
- **索引欄位**：MG01
- **索引類型**：PRIMARY
- **說明**：PLU代號升序排序

### 輔助索引
1. **產品索引**：MG02 (產品代號)
2. **專櫃索引**：MG03 (專櫃編號)
3. **狀態索引**：MG05 (使用狀態)
4. **複合索引**：MG03 + MG02 (專櫃 + 產品)

### 邏輯檢視特性
- **基底檔案**：MTMGPF
- **檢視類型**：完整記錄檢視
- **排序方式**：MG01 升序

## 8. 備註

### 設計考量
1. 此檔案為 MTMGPF 的邏輯檢視檔案
2. 支援專櫃POS系統的PLU管理
3. 提供產品與PLU的對應機制

### PLU系統說明
- **PLU**：Price Look Up，價格查詢碼
- **用途**：專櫃收銀機產品識別
- **格式**：13位數字或英數字組合
- **功能**：快速產品查詢與價格取得

### 參考關聯
- **實體檔案**：MTMGPF (專櫃PLU檔)
- **產品檔案**：MTMAPF (MG02 = MA01)
- **專櫃檔案**：PA#FPF (MG03 = #F01)
- **參考檔案**：RERF (欄位定義)

### 業務規則
1. PLU代號必須唯一
2. 產品代號需對應有效產品
3. 專櫃編號需對應有效專櫃
4. 停用PLU不影響銷售歷史資料

### 資料完整性
1. 資料內容完全依賴 MTMGPF 實體檔案
2. MG02 需對應 MTMAPF 中的有效產品
3. MG03 需對應有效的專櫃編號
4. PLU代號格式需符合POS系統規範

### 使用注意事項
1. 此為邏輯檔案，不可直接寫入資料
2. 所有異動需透過 MTMGPF 實體檔案進行
3. PLU異動需同步更新POS系統
4. 產品停售需相應停用PLU 