# PA#ALF 檔案規格書

## 1. 基本資料

| 項目 | 內容 |
|------|------|
| 檔案名稱 | PA#ALF |
| 檔案描述 | 規則代碼檔 (邏輯檔) |
| 檔案類型 | LF (Logical File) |
| 記錄格式 | #A0 |
| 主鍵 | #A01 + #A02 (代碼類別 + 代碼值) |
| 實體檔案 | PA#APF |
| 檔案屬性 | 邏輯檢視 |

## 2. 檔案功能說明

PA#ALF 為 PA#APF 規則代碼檔的邏輯檔案，提供：
- 系統參數代碼的標準檢視
- 代碼分類查詢功能
- 規則驗證檢視
- 系統參數管理介面

## 3. 系統檔案清單

| 檔案代號 | 檔案名稱 | 說明 |
|----------|----------|------|
| PA#ALF | 規則代碼邏輯檔 | 主檔 |
| PA#APF | 規則代碼實體檔 | 實體檔案 |
| RERF | 參考檔案 | 欄位定義參考 |

## 4. 紀錄格式

### 記錄格式：#A0 (繼承自 PA#APF)

## 5. 欄位規格

| 欄位代號 | 欄位名稱 | 位置 | 長度 | 型態 | 屬性 | 檢核說明 |
|----------|----------|------|------|------|------|----------|
| #A01 | 代碼類別 | 1-10 | 10 | A | R | 主鍵，代碼分類識別 |
| #A02 | 代碼值 | 11-25 | 15 | A | R | 主鍵，實際代碼值 |
| #A03 | 代碼說明 | 26-55 | 30 | A | R | 代碼中文說明 |
| #A04 | 英文說明 | 56-85 | 30 | A | R | 代碼英文說明 |
| #A05 | 使用狀態 | 86 | 1 | A | R | 'A'-有效，'I'-停用 |
| #A06 | 排序序號 | 87-89 | 3 | N | R | 顯示排序順序 |
| 其他欄位 | 繼承PA#APF | | | | | 參考PA#APF規格 |

## 6. 主鍵欄位

| 鍵值序號 | 欄位代號 | 欄位名稱 | 排序 |
|----------|----------|----------|------|
| 1 | #A01 | 代碼類別 | 升序 |
| 2 | #A02 | 代碼值 | 升序 |

## 7. 索引資料

### 主要索引
- **索引名稱**：複合主鍵索引
- **索引欄位**：#A01 + #A02
- **索引類型**：PRIMARY
- **說明**：代碼類別與代碼值升序排序

### 輔助索引
1. **類別索引**：#A01 (代碼類別)
2. **狀態索引**：#A05 (使用狀態)
3. **排序索引**：#A01 + #A06 (類別 + 排序序號)

### 邏輯檢視特性
- **基底檔案**：PA#APF
- **檢視類型**：完整記錄檢視
- **排序方式**：#A01 + #A02 升序

## 8. 備註

### 設計考量
1. 此檔案為 PA#APF 的邏輯檢視檔案
2. 提供系統參數代碼的標準查詢介面
3. 支援多種代碼分類的統一管理

### 常用代碼類別
- **BRAND**：品牌代碼
- **CATEGORY**：分類代碼
- **STATUS**：狀態代碼
- **TYPE**：類型代碼
- **REASON**：原因代碼

### 參考關聯
- **實體檔案**：PA#APF (規則代碼檔)
- **系統參數**：各模組使用的參數代碼
- **參考檔案**：RERF (欄位定義)

### 資料完整性
1. 資料內容完全依賴 PA#APF 實體檔案
2. 代碼類別與代碼值組合必須唯一
3. 索引與實體檔案保持同步

### 使用注意事項
1. 此為邏輯檔案，不可直接寫入資料
2. 所有異動需透過 PA#APF 實體檔案進行
3. 系統參數變更需謹慎評估影響範圍
4. 停用代碼前需確認無程式引用 