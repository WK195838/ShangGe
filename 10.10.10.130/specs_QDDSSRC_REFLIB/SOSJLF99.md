# SOSJLF99 檔案規格書

## 1. 基本資料
- **檔案名稱**: SOSJLF99
- **檔案類型**: LF (邏輯檔案)
- **基底檔案**: SOSJPF (發票明細檔)
- **檔案說明**: 發票明細檔邏輯檔案 - 發票號碼特定日期篩選查詢
- **建立日期**: (依系統記錄)
- **最後異動日期**: (依系統記錄)

## 2. 檔案功能說明
此邏輯檔案提供發票號碼排序，並設有特定日期篩選條件 (SJXX >= 20000801)，適用於特定時期後的發票明細查詢與分析。

### 主要功能
- 發票號碼排序查詢
- 特定日期範圍篩選
- 時期後發票明細管理
- 日期條件發票統計

## 3. 系統檔案清單
| 檔案名稱 | 檔案類型 | 說明 |
|----------|----------|------|
| SOSJPF | PF | 發票明細檔 (基底檔案) |
| SOSJLF99 | LF | 發票明細檔邏輯檔案 |

## 4. 紀錄格式

### 4.1 邏輯檔案設定
```
PFILE(SOSJPF)      // 基底實體檔案
```

### 4.2 關鍵欄位 (Key Fields)
| 順序 | 欄位代號 | 欄位名稱 | 型態 | 長度 | 排序 | 說明 |
|------|----------|----------|------|------|------|------|
| 1 | SJ02 | 發票號碼 | A | 10 | ASC | 主要排序鍵 |

### 4.3 選擇條件 (SELECT/OMIT)
| 條件類型 | 欄位代號 | 條件 | 值 | 說明 |
|----------|----------|------|----|----|
| SELECT | SJXX | COMP | GE 20000801 | 日期條件 (≥ 20000801) |

### 4.4 篩選邏輯說明
#### 日期篩選條件
| 欄位 | 條件 | 說明 |
|------|------|------|
| SJXX | ≥ 20000801 | 只顯示 2000年8月1日後的記錄 |

### 4.5 特定時期篩選
此檔案專門用於查詢2000年8月1日後的發票明細

## 5. 主鍵欄位
- **主要鍵值**: SJ02
- **排序方式**: 發票號碼升序
- **索引類型**: 單一索引，發票號碼導向

## 6. 索引資料
- **排序方式**: SJ02
- **索引類型**: 單一索引，支援發票號碼查詢
- **特殊屬性**: 日期條件篩選

## 7. 使用說明

### 7.1 檔案用途
- 發票號碼查詢
- 特定時期發票明細管理
- 2000年8月後發票統計
- 時期條件發票分析

### 7.2 程式存取方式
```rpg
// 依發票號碼查詢 (2000/8/1後)
SETLL (發票號碼) SOSJLF99;
READ SOSJLF99;
// 順序讀取特定時期發票
READ SOSJLF99;
WHILE NOT %EOF(SOSJLF99);
  // 處理發票明細
  READ SOSJLF99;
ENDWHILE;
```

### 7.3 時期篩選特色
- **時期限制**: 只顯示2000年8月1日後的發票
- **號碼導向**: 以發票號碼為主要查詢方式
- **篩選保證**: 確保查詢結果符合時期要求

### 7.4 特殊應用場景
- **歷史資料**: 查詢特定時期後的發票明細
- **系統升級**: 可能與系統升級時點相關
- **資料清理**: 特定時期後的資料處理
- **統計分析**: 時期條件的發票統計

### 7.5 業務意義分析
- **時點意義**: 2000年8月1日可能為重要業務節點
- **資料分割**: 按時期分割發票明細資料
- **條件查詢**: 提供時期條件的快速查詢

## 8. 備註
- 此邏輯檔案專為特定時期發票明細設計
- 嚴格篩選2000年8月1日後的發票記錄
- 單一發票號碼排序，查詢效率高
- SJXX欄位的具體定義需參考基底檔案說明 